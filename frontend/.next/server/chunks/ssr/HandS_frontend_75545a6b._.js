module.exports=[3981,(a,b,c)=>{b.exports=a.r(50499)},62879,a=>{"use strict";a.s(["default",()=>c]);let b="http://127.0.0.1:8000";async function c(){let a=sessionStorage.getItem("token"),c=await fetch(`${b}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})});if(!c.ok){let a=sessionStorage.getItem("refresh_token"),c=await fetch(`${b}/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:a})});if(!c.ok)throw Error("Failed to refresh token");let d=await c.json();return sessionStorage.setItem("token",d.access_token),d}return await c.json()}},35500,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(91272),c=a.i(10548),d=a.i(62879),e=a.i(3981);let f="http://127.0.0.1:8000";function g(){let a=(0,e.useRouter)(),[g,h]=(0,c.useState)([]);async function i(){try{let a=await fetch(`${f}/user/read_all`,{method:"GET",headers:{"Content-Type":"application/json"}}),b=await a.json();h(b),console.log(b)}catch(a){console.error("Error fetching users:",a)}}async function j(){"admin"!==(await (0,d.default)()).role&&(alert("관리자만 접근할 수 있습니다."),a.push("/"))}return(0,c.useEffect)(()=>{j(),i()},[]),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"User List"}),(0,b.jsx)("button",{onClick:function(){a.push("/users/signup")},className:"mb-4 bg-blue-500 text-white px-4 py-2 rounded",children:"Create User"}),(0,b.jsx)("ul",{children:g.map(a=>(0,b.jsxs)("li",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("span",{children:a.username}),(0,b.jsx)("button",{onClick:()=>{var b;fetch(`${f}/user/delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b=a.id})}).then(a=>{if(!a.ok)throw Error("Network response was not ok");return a.json()}).then(()=>{h(a=>a.filter(a=>a.id!==b))}).catch(a=>{console.error("Error deleting user:",a)})},className:"bg-red-500 text-white px-2 py-1 rounded",children:"Delete"})]},a.id))})]})}}];

//# sourceMappingURL=HandS_frontend_75545a6b._.js.map