{"version":3,"sources":["turbopack:///[project]/HandS/frontend/node_modules/eventemitter3/index.js","turbopack:///[project]/HandS/frontend/node_modules/@babel/runtime/helpers/typeof.js","turbopack:///[project]/HandS/frontend/node_modules/@babel/runtime/helpers/toPrimitive.js","turbopack:///[project]/HandS/frontend/node_modules/@babel/runtime/helpers/toPropertyKey.js","turbopack:///[project]/HandS/frontend/node_modules/@babel/runtime/helpers/defineProperty.js","turbopack:///[project]/HandS/frontend/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","turbopack:///[project]/HandS/frontend/node_modules/react-fast-compare/index.js","turbopack:///[project]/HandS/frontend/app/projects/[projectId]/notionRendering.tsx","turbopack:///[project]/HandS/frontend/node_modules/mimic-function/index.js","turbopack:///[project]/HandS/frontend/node_modules/normalize-url/index.js","turbopack:///[project]/HandS/frontend/node_modules/react-intersection-observer/dist/index.mjs","turbopack:///[project]/HandS/frontend/node_modules/react-image/esm/Img.js","turbopack:///[project]/HandS/frontend/node_modules/@fisch0920/medium-zoom/dist/medium-zoom.esm.js","turbopack:///[project]/HandS/frontend/node_modules/react-notion-x/build/index.js","turbopack:///[project]/HandS/frontend/node_modules/eventemitter3/index.mjs","turbopack:///[project]/HandS/frontend/node_modules/p-timeout/index.js","turbopack:///[project]/HandS/frontend/node_modules/is-url-superb/index.js","turbopack:///[project]/HandS/frontend/node_modules/memoize/distribution/index.js","turbopack:///[project]/HandS/frontend/node_modules/p-queue/dist/priority-queue.js","turbopack:///[project]/HandS/frontend/node_modules/p-queue/dist/lower-bound.js","turbopack:///[project]/HandS/frontend/node_modules/react-image/esm/useImage-65024c8f.js","turbopack:///[project]/HandS/frontend/node_modules/p-queue/dist/index.js","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/build/index.js","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/parseHotkeys.ts","turbopack:///[project]/HandS/frontend/node_modules/react-intersection-observer/src/observe.ts","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/get-block-title.ts","turbopack:///[project]/HandS/frontend/node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/isHotkeyPressed.ts","turbopack:///[project]/HandS/frontend/node_modules/react-intersection-observer/src/InView.tsx","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/validators.ts","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/estimate-page-read-time.ts","turbopack:///[project]/HandS/frontend/node_modules/react-notion-x/src/components/header.tsx","turbopack:///[project]/HandS/frontend/node_modules/react-notion-x/src/components/asset-wrapper.tsx","turbopack:///[project]/HandS/frontend/node_modules/react-intersection-observer/src/useInView.tsx","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/BoundHotkeysProxyProvider.tsx","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/deepEqual.ts","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/HotkeysProvider.tsx","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/format-date.ts","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/format-notion-date-time.ts","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/get-all-pages-in-space.ts","turbopack:///[project]/HandS/frontend/node_modules/react-notion-x/src/components/asset.tsx","turbopack:///[project]/HandS/frontend/node_modules/react-notion-x/src/components/lazy-image-full.tsx","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/parse-page-id.ts","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/useDeepEqualMemo.ts","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/useHotkeys.ts","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/get-block-parent-page.ts","turbopack:///[project]/HandS/frontend/node_modules/notion-utils/src/get-page-property.ts","turbopack:///[project]/HandS/frontend/node_modules/react-hotkeys-hook/src/useRecordHotkeys.ts","turbopack:///[project]/HandS/frontend/node_modules/react-notion-x/src/components/lazy-image.tsx"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","\"use client\";\r\nimport { NotionRenderer } from \"react-notion-x\";\r\nimport \"react-notion-x/src/styles.css\";\r\nimport React from \"react\";\r\n\r\nexport default function ProjectView({ recordMap }: { recordMap: any }) {\r\n  if (!recordMap || !recordMap.block) {\r\n    return <p className=\"text-center text-gray-500 mt-10\">내용이 없습니다.</p>;\r\n  }\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto p-6 bg-white rounded-2xl shadow\">\r\n      <NotionRenderer\r\n        recordMap={recordMap}\r\n        fullPage={false}\r\n        darkMode={false}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","const copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\t// `Function#arguments` and `Function#caller` should not be copied. They were reported to be present in `Reflect.ownKeys` for some devices in React Native (#41), so we explicitly ignore them here.\n\tif (property === 'arguments' || property === 'caller') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n// - one its descriptors is changed\n// - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable\n\t\t&& toDescriptor.enumerable === fromDescriptor.enumerable\n\t\t&& toDescriptor.configurable === fromDescriptor.configurable\n\t\t&& (toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tconst {writable, enumerable, configurable} = toStringDescriptor; // We destructue to avoid a potential `get` descriptor.\n\tObject.defineProperty(to, 'toString', {value: newToString, writable, enumerable, configurable});\n};\n\nexport default function mimicFunction(to, from, {ignoreNonConfigurable = false} = {}) {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n}\n","// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n\nconst supportedProtocols = new Set([\n\t'https:',\n\t'http:',\n\t'file:',\n]);\n\nconst hasCustomProtocol = urlString => {\n\ttry {\n\t\tconst {protocol} = new URL(urlString);\n\n\t\treturn protocol.endsWith(':')\n\t\t\t&& !protocol.includes('.')\n\t\t\t&& !supportedProtocols.has(protocol);\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = mediaType.shift()?.toLowerCase() ?? '';\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes,\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length > 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nexport default function normalizeUrl(urlString, options) {\n\toptions = {\n\t\tdefaultProtocol: 'http',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tremoveExplicitPort: false,\n\t\tsortQueryParameters: true,\n\t\tremovePath: false,\n\t\ttransformPath: false,\n\t\t...options,\n\t};\n\n\t// Legacy: Append `:` to the protocol if missing.\n\tif (typeof options.defaultProtocol === 'string' && !options.defaultProtocol.endsWith(':')) {\n\t\toptions.defaultProtocol = `${options.defaultProtocol}:`;\n\t}\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (hasCustomProtocol(urlString)) {\n\t\treturn urlString;\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObject = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObject.protocol === 'https:') {\n\t\turlObject.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObject.protocol === 'http:') {\n\t\turlObject.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObject.username = '';\n\t\turlObject.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObject.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObject.hash = urlObject.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\t// NOTE: This could be implemented using a single negative lookbehind\n\t// regex, but we avoid that to maintain compatibility with older js engines\n\t// which do not have support for that feature.\n\tif (urlObject.pathname) {\n\t\t// TODO: Replace everything below with `urlObject.pathname = urlObject.pathname.replace(/(?<!\\b[a-z][a-z\\d+\\-.]{1,50}:)\\/{2,}/g, '/');` when Safari supports negative lookbehind.\n\n\t\t// Split the string by occurrences of this protocol regex, and perform\n\t\t// duplicate-slash replacement on the strings between those occurrences\n\t\t// (if any).\n\t\tconst protocolRegex = /\\b[a-z][a-z\\d+\\-.]{1,50}:\\/\\//g;\n\n\t\tlet lastIndex = 0;\n\t\tlet result = '';\n\t\tfor (;;) {\n\t\t\tconst match = protocolRegex.exec(urlObject.pathname);\n\t\t\tif (!match) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst protocol = match[0];\n\t\t\tconst protocolAtIndex = match.index;\n\t\t\tconst intermediate = urlObject.pathname.slice(lastIndex, protocolAtIndex);\n\n\t\t\tresult += intermediate.replace(/\\/{2,}/g, '/');\n\t\t\tresult += protocol;\n\t\t\tlastIndex = protocolAtIndex + protocol.length;\n\t\t}\n\n\t\tconst remnant = urlObject.pathname.slice(lastIndex, urlObject.pathname.length);\n\t\tresult += remnant.replace(/\\/{2,}/g, '/');\n\n\t\turlObject.pathname = result;\n\t}\n\n\t// Decode URI octets\n\tif (urlObject.pathname) {\n\t\ttry {\n\t\t\turlObject.pathname = decodeURI(urlObject.pathname).replace(/\\\\/g, '%5C');\n\t\t} catch {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObject.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, -1);\n\t\t\turlObject.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\t// Remove path\n\tif (options.removePath) {\n\t\turlObject.pathname = '/';\n\t}\n\n\t// Transform path components\n\tif (options.transformPath && typeof options.transformPath === 'function') {\n\t\tconst pathComponents = urlObject.pathname.split('/').filter(Boolean);\n\t\tconst newComponents = options.transformPath(pathComponents);\n\t\turlObject.pathname = newComponents?.length > 0 ? `/${newComponents.join('/')}` : '/';\n\t}\n\n\tif (urlObject.hostname) {\n\t\t// Remove trailing dot\n\t\turlObject.hostname = urlObject.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)[a-z\\-\\d]{1,63}\\.[a-z.\\-\\d]{2,63}$/.test(urlObject.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObject.hostname = urlObject.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!Array.isArray(options.keepQueryParameters) && options.removeQueryParameters === true) {\n\t\turlObject.search = '';\n\t}\n\n\t// Keep wanted query parameters\n\tif (Array.isArray(options.keepQueryParameters) && options.keepQueryParameters.length > 0) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (!testParameter(key, options.keepQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\tconst originalSearch = urlObject.search;\n\t\turlObject.searchParams.sort();\n\n\t\t// Calling `.sort()` encodes the search parameters, so we need to decode them again.\n\t\ttry {\n\t\t\turlObject.search = decodeURIComponent(urlObject.search);\n\t\t} catch {}\n\n\t\t// Fix parameters that originally had no equals sign but got one added by URLSearchParams\n\t\tconst partsWithoutEquals = originalSearch.slice(1).split('&').filter(p => p && !p.includes('='));\n\t\tfor (const part of partsWithoutEquals) {\n\t\t\tconst decoded = decodeURIComponent(part);\n\t\t\t// Only replace at word boundaries to avoid partial matches\n\t\t\turlObject.search = urlObject.search.replace(`?${decoded}=`, `?${decoded}`).replace(`&${decoded}=`, `&${decoded}`);\n\t\t}\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObject.pathname = urlObject.pathname.replace(/\\/$/, '');\n\t}\n\n\t// Remove an explicit port number, excluding a default port number, if applicable\n\tif (options.removeExplicitPort && urlObject.port) {\n\t\turlObject.port = '';\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObject.toString();\n\n\tif (!options.removeSingleSlash && urlObject.pathname === '/' && !oldUrlString.endsWith('/') && urlObject.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObject.pathname === '/') && urlObject.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n}\n","\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// src/InView.tsx\nimport * as React from \"react\";\n\n// src/observe.ts\nvar observerMap = /* @__PURE__ */ new Map();\nvar RootIds = /* @__PURE__ */ new WeakMap();\nvar rootId = 0;\nvar unsupportedValue = void 0;\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\nfunction getRootId(root) {\n  if (!root) return \"0\";\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(\n    (key) => options[key] !== void 0\n  ).map((key) => {\n    return `${key}_${key === \"root\" ? getRootId(options.root) : options[key]}`;\n  }).toString();\n}\nfunction createObserver(options) {\n  const id = optionsToId(options);\n  let instance = observerMap.get(id);\n  if (!instance) {\n    const elements = /* @__PURE__ */ new Map();\n    let thresholds;\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        var _a;\n        const inView = entry.isIntersecting && thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n        if (options.trackVisibility && typeof entry.isVisible === \"undefined\") {\n          entry.isVisible = inView;\n        }\n        (_a = elements.get(entry.target)) == null ? void 0 : _a.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id,\n      observer,\n      elements\n    };\n    observerMap.set(id, instance);\n  }\n  return instance;\n}\nfunction observe(element, callback, options = {}, fallbackInView = unsupportedValue) {\n  if (typeof window.IntersectionObserver === \"undefined\" && fallbackInView !== void 0) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === \"number\" ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return () => {\n    };\n  }\n  const { id, observer, elements } = createObserver(options);\n  const callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    callbacks.splice(callbacks.indexOf(callback), 1);\n    if (callbacks.length === 0) {\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n    if (elements.size === 0) {\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n\n// src/InView.tsx\nfunction isPlainChildren(props) {\n  return typeof props.children !== \"function\";\n}\nvar InView = class extends React.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"node\", null);\n    __publicField(this, \"_unobserveCb\", null);\n    __publicField(this, \"handleNode\", (node) => {\n      if (this.node) {\n        this.unobserve();\n        if (!node && !this.props.triggerOnce && !this.props.skip) {\n          this.setState({ inView: !!this.props.initialInView, entry: void 0 });\n        }\n      }\n      this.node = node ? node : null;\n      this.observeNode();\n    });\n    __publicField(this, \"handleChange\", (inView, entry) => {\n      if (inView && this.props.triggerOnce) {\n        this.unobserve();\n      }\n      if (!isPlainChildren(this.props)) {\n        this.setState({ inView, entry });\n      }\n      if (this.props.onChange) {\n        this.props.onChange(inView, entry);\n      }\n    });\n    this.state = {\n      inView: !!props.initialInView,\n      entry: void 0\n    };\n  }\n  componentDidMount() {\n    this.unobserve();\n    this.observeNode();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n  componentWillUnmount() {\n    this.unobserve();\n  }\n  observeNode() {\n    if (!this.node || this.props.skip) return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView\n    } = this.props;\n    this._unobserveCb = observe(\n      this.node,\n      this.handleChange,\n      {\n        threshold,\n        root,\n        rootMargin,\n        // @ts-ignore\n        trackVisibility,\n        // @ts-ignore\n        delay\n      },\n      fallbackInView\n    );\n  }\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n      this._unobserveCb = null;\n    }\n  }\n  render() {\n    const { children } = this.props;\n    if (typeof children === \"function\") {\n      const { inView, entry } = this.state;\n      return children({ inView, entry, ref: this.handleNode });\n    }\n    const {\n      as,\n      triggerOnce,\n      threshold,\n      root,\n      rootMargin,\n      onChange,\n      skip,\n      trackVisibility,\n      delay,\n      initialInView,\n      fallbackInView,\n      ...props\n    } = this.props;\n    return React.createElement(\n      as || \"div\",\n      { ref: this.handleNode, ...props },\n      children\n    );\n  }\n};\n\n// src/useInView.tsx\nimport * as React2 from \"react\";\nfunction useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange\n} = {}) {\n  var _a;\n  const [ref, setRef] = React2.useState(null);\n  const callback = React2.useRef(onChange);\n  const [state, setState] = React2.useState({\n    inView: !!initialInView,\n    entry: void 0\n  });\n  callback.current = onChange;\n  React2.useEffect(\n    () => {\n      if (skip || !ref) return;\n      let unobserve;\n      unobserve = observe(\n        ref,\n        (inView, entry) => {\n          setState({\n            inView,\n            entry\n          });\n          if (callback.current) callback.current(inView, entry);\n          if (entry.isIntersecting && triggerOnce && unobserve) {\n            unobserve();\n            unobserve = void 0;\n          }\n        },\n        {\n          root,\n          rootMargin,\n          threshold,\n          // @ts-ignore\n          trackVisibility,\n          // @ts-ignore\n          delay\n        },\n        fallbackInView\n      );\n      return () => {\n        if (unobserve) {\n          unobserve();\n        }\n      };\n    },\n    // We break the rule here, because we aren't including the actual `threshold` variable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      // If the threshold is an array, convert it to a string, so it won't change between renders.\n      Array.isArray(threshold) ? threshold.toString() : threshold,\n      ref,\n      root,\n      rootMargin,\n      triggerOnce,\n      skip,\n      trackVisibility,\n      fallbackInView,\n      delay\n    ]\n  );\n  const entryTarget = (_a = state.entry) == null ? void 0 : _a.target;\n  const previousEntryTarget = React2.useRef(void 0);\n  if (!ref && entryTarget && !triggerOnce && !skip && previousEntryTarget.current !== entryTarget) {\n    previousEntryTarget.current = entryTarget;\n    setState({\n      inView: !!initialInView,\n      entry: void 0\n    });\n  }\n  const result = [setRef, state.inView, state.entry];\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\nexport {\n  InView,\n  defaultFallbackInView,\n  observe,\n  useInView\n};\n//# sourceMappingURL=index.mjs.map","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport React from 'react';\nimport { i as imagePromiseFactory, u as useImage } from './useImage-65024c8f.js';\n\nvar _excluded = [\"decode\", \"src\", \"loader\", \"unloader\", \"container\", \"loaderContainer\", \"unloaderContainer\", \"imgPromise\", \"crossorigin\", \"useSuspense\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar passthroughContainer = function passthroughContainer(x) {\n  return x;\n};\nfunction Img(_ref) {\n  var _ref$decode = _ref.decode,\n    decode = _ref$decode === void 0 ? true : _ref$decode,\n    _ref$src = _ref.src,\n    srcList = _ref$src === void 0 ? [] : _ref$src,\n    _ref$loader = _ref.loader,\n    loader = _ref$loader === void 0 ? null : _ref$loader,\n    _ref$unloader = _ref.unloader,\n    unloader = _ref$unloader === void 0 ? null : _ref$unloader,\n    _ref$container = _ref.container,\n    container = _ref$container === void 0 ? passthroughContainer : _ref$container,\n    _ref$loaderContainer = _ref.loaderContainer,\n    loaderContainer = _ref$loaderContainer === void 0 ? passthroughContainer : _ref$loaderContainer,\n    _ref$unloaderContaine = _ref.unloaderContainer,\n    unloaderContainer = _ref$unloaderContaine === void 0 ? passthroughContainer : _ref$unloaderContaine,\n    imgPromise = _ref.imgPromise,\n    crossorigin = _ref.crossorigin,\n    _ref$useSuspense = _ref.useSuspense,\n    useSuspense = _ref$useSuspense === void 0 ? false : _ref$useSuspense,\n    imgProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  imgPromise = imgPromise || imagePromiseFactory({\n    decode: decode,\n    crossOrigin: crossorigin\n  });\n  var _useImage = useImage({\n      srcList: srcList,\n      imgPromise: imgPromise,\n      useSuspense: useSuspense\n    }),\n    src = _useImage.src,\n    isLoading = _useImage.isLoading;\n  // console.log({src, isLoading, resolvedSrc, useSuspense})\n  // show img if loaded\n  if (src) return container( /*#__PURE__*/React.createElement(\"img\", _objectSpread({\n    src: src\n  }, imgProps)));\n  // show loader if we have one and were still trying to load image\n  if (!useSuspense && isLoading) return loaderContainer(loader);\n  // show unloader if we have one and we have no more work to do\n  if (!useSuspense && unloader) return unloaderContainer(unloader);\n  return null;\n}\n\nexport { Img as default };\n//# sourceMappingURL=Img.js.map\n","/*! @fisch0920/medium-zoom 1.0.7 | MIT License | https://github.com/francoischalifour/medium-zoom */\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar isSupported = function isSupported(node) {\n  return node.tagName === 'IMG';\n};\n\n/* eslint-disable-next-line no-prototype-builtins */\nvar isNodeList = function isNodeList(selector) {\n  return NodeList.prototype.isPrototypeOf(selector);\n};\n\nvar isNode = function isNode(selector) {\n  return selector && selector.nodeType === 1;\n};\n\nvar isSvg = function isSvg(image) {\n  var source = image.currentSrc || image.src;\n  return source.substr(-4).toLowerCase() === '.svg';\n};\n\nvar getImagesFromSelector = function getImagesFromSelector(selector) {\n  try {\n    if (Array.isArray(selector)) {\n      return selector.filter(isSupported);\n    }\n\n    if (isNodeList(selector)) {\n      // Do not use spread operator or Array.from() for IE support\n      return [].slice.call(selector).filter(isSupported);\n    }\n\n    if (isNode(selector)) {\n      return [selector].filter(isSupported);\n    }\n\n    if (typeof selector === 'string') {\n      // Do not use spread operator or Array.from() for IE support\n      return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);\n    }\n\n    return [];\n  } catch (err) {\n    throw new TypeError('The provided selector is invalid.\\n' + 'Expects a CSS selector, a Node element, a NodeList or an array.\\n' + 'See: https://github.com/francoischalifour/medium-zoom');\n  }\n};\n\nvar createOverlay = function createOverlay(background) {\n  var overlay = document.createElement('div');\n  overlay.classList.add('medium-zoom-overlay');\n  overlay.style.background = background;\n\n  return overlay;\n};\n\nvar cloneTarget = function cloneTarget(template) {\n  var _template$getBounding = template.getBoundingClientRect(),\n      top = _template$getBounding.top,\n      left = _template$getBounding.left,\n      width = _template$getBounding.width,\n      height = _template$getBounding.height;\n\n  var clone = template.cloneNode();\n  var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n\n  clone.removeAttribute('id');\n  clone.style.position = 'absolute';\n  clone.style.top = top + scrollTop + 'px';\n  clone.style.left = left + scrollLeft + 'px';\n  clone.style.width = width + 'px';\n  clone.style.height = height + 'px';\n  clone.style.transform = '';\n\n  return clone;\n};\n\nvar createCustomEvent = function createCustomEvent(type, params) {\n  var eventParams = _extends({\n    bubbles: false,\n    cancelable: false,\n    detail: undefined\n  }, params);\n\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(type, eventParams);\n  }\n\n  var customEvent = document.createEvent('CustomEvent');\n  customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);\n\n  return customEvent;\n};\n\nvar mediumZoom = function mediumZoom(selector) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /**\n   * Ensure the compatibility with IE11 if no Promise polyfill are used.\n   */\n  var Promise = window.Promise || function Promise(fn) {\n    function noop() {}\n    fn(noop, noop);\n  };\n\n  var _handleClick = function _handleClick(event) {\n    var target = event.target;\n\n\n    if (target === overlay) {\n      close();\n      return;\n    }\n\n    if (images.indexOf(target) === -1) {\n      return;\n    }\n\n    toggle({ target: target });\n  };\n\n  var _handleScroll = function _handleScroll() {\n    if (isAnimating || !active.original) {\n      return;\n    }\n\n    var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n\n    if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {\n      setTimeout(close, 150);\n    }\n  };\n\n  var _handleKeyUp = function _handleKeyUp(event) {\n    var key = event.key || event.keyCode;\n\n    // Close if escape key is pressed\n    if (key === 'Escape' || key === 'Esc' || key === 27) {\n      close();\n    }\n  };\n\n  var update = function update() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var newOptions = options;\n\n    if (options.background) {\n      overlay.style.background = options.background;\n    }\n\n    if (options.container && options.container instanceof Object) {\n      newOptions.container = _extends({}, zoomOptions.container, options.container);\n    }\n\n    if (options.template) {\n      var template = isNode(options.template) ? options.template : document.querySelector(options.template);\n\n      newOptions.template = template;\n    }\n\n    zoomOptions = _extends({}, zoomOptions, newOptions);\n\n    images.forEach(function (image) {\n      image.dispatchEvent(createCustomEvent('medium-zoom:update', {\n        detail: { zoom: zoom }\n      }));\n    });\n\n    return zoom;\n  };\n\n  var clone = function clone() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return mediumZoom(_extends({}, zoomOptions, options));\n  };\n\n  var attach = function attach() {\n    for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {\n      selectors[_key] = arguments[_key];\n    }\n\n    var newImages = selectors.reduce(function (imagesAccumulator, currentSelector) {\n      return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n    }, []);\n\n    newImages.filter(function (newImage) {\n      return images.indexOf(newImage) === -1;\n    }).forEach(function (newImage) {\n      images.push(newImage);\n      newImage.classList.add('medium-zoom-image');\n    });\n\n    eventListeners.forEach(function (_ref) {\n      var type = _ref.type,\n          listener = _ref.listener,\n          options = _ref.options;\n\n      newImages.forEach(function (image) {\n        image.addEventListener(type, listener, options);\n      });\n    });\n\n    return zoom;\n  };\n\n  var detach = function detach() {\n    for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      selectors[_key2] = arguments[_key2];\n    }\n\n    if (active.zoomed) {\n      close();\n    }\n\n    var imagesToDetach = selectors.length > 0 ? selectors.reduce(function (imagesAccumulator, currentSelector) {\n      return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));\n    }, []) : images;\n\n    imagesToDetach.forEach(function (image) {\n      image.classList.remove('medium-zoom-image');\n      image.dispatchEvent(createCustomEvent('medium-zoom:detach', {\n        detail: { zoom: zoom }\n      }));\n    });\n\n    images = images.filter(function (image) {\n      return imagesToDetach.indexOf(image) === -1;\n    });\n\n    return zoom;\n  };\n\n  var on = function on(type, listener) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    images.forEach(function (image) {\n      image.addEventListener('medium-zoom:' + type, listener, options);\n    });\n\n    eventListeners.push({ type: 'medium-zoom:' + type, listener: listener, options: options });\n\n    return zoom;\n  };\n\n  var off = function off(type, listener) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    images.forEach(function (image) {\n      image.removeEventListener('medium-zoom:' + type, listener, options);\n    });\n\n    eventListeners = eventListeners.filter(function (eventListener) {\n      return !(eventListener.type === 'medium-zoom:' + type && eventListener.listener.toString() === listener.toString());\n    });\n\n    return zoom;\n  };\n\n  var open = function open() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref2.target;\n\n    var _animate = function _animate() {\n      var container = {\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight,\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      };\n      var viewportWidth = void 0;\n      var viewportHeight = void 0;\n\n      if (zoomOptions.container) {\n        if (zoomOptions.container instanceof Object) {\n          // The container is given as an object with properties like width, height, left, top\n          container = _extends({}, container, zoomOptions.container);\n\n          // We need to adjust custom options like container.right or container.bottom\n          viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;\n          viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;\n        } else {\n          // The container is given as an element\n          var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);\n\n          var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(),\n              _width = _zoomContainer$getBou.width,\n              _height = _zoomContainer$getBou.height,\n              _left = _zoomContainer$getBou.left,\n              _top = _zoomContainer$getBou.top;\n\n          container = _extends({}, container, {\n            width: _width,\n            height: _height,\n            left: _left,\n            top: _top\n          });\n        }\n      }\n\n      viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;\n      viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;\n\n      var minZoomScale = zoomOptions.minZoomScale || 1;\n      var zoomTarget = active.zoomedHd || active.original;\n      var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;\n      var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;\n\n      var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(),\n          top = _zoomTarget$getBoundi.top,\n          left = _zoomTarget$getBoundi.left,\n          width = _zoomTarget$getBoundi.width,\n          height = _zoomTarget$getBoundi.height;\n\n      var scaleX = Math.min(Math.max(naturalWidth * minZoomScale, width), viewportWidth) / width;\n      var scaleY = Math.min(Math.max(naturalHeight * minZoomScale, height), viewportHeight) / height;\n      var scale = Math.min(scaleX, scaleY);\n      var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;\n      var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;\n      var transform = 'scale(' + scale + ') translate3d(' + translateX + 'px, ' + translateY + 'px, 0)';\n\n      active.zoomed.style.transform = transform;\n\n      if (active.zoomedHd) {\n        active.zoomedHd.style.transform = transform;\n      }\n    };\n\n    return new Promise(function (resolve) {\n      if (target && images.indexOf(target) === -1) {\n        resolve(zoom);\n        return;\n      }\n\n      var _handleOpenEnd = function _handleOpenEnd() {\n        isAnimating = false;\n        active.zoomed.removeEventListener('transitionend', _handleOpenEnd);\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:opened', {\n          detail: { zoom: zoom }\n        }));\n\n        resolve(zoom);\n      };\n\n      if (active.zoomed) {\n        resolve(zoom);\n        return;\n      }\n\n      if (target) {\n        // The zoom was triggered manually via a click\n        active.original = target;\n      } else if (images.length > 0) {\nvar _images = images;\n        active.original = _images[0];\n      } else {\n        resolve(zoom);\n        return;\n      }\n\n      active.original.dispatchEvent(createCustomEvent('medium-zoom:open', {\n        detail: { zoom: zoom }\n      }));\n\n      scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n      isAnimating = true;\n      active.zoomed = cloneTarget(active.original);\n\n      document.body.appendChild(overlay);\n\n      if (zoomOptions.template) {\n        var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);\n        active.template = document.createElement('div');\n        active.template.appendChild(template.content.cloneNode(true));\n\n        document.body.appendChild(active.template);\n      }\n\n      document.body.appendChild(active.zoomed);\n\n      window.requestAnimationFrame(function () {\n        document.body.classList.add('medium-zoom--opened');\n      });\n\n      active.original.classList.add('medium-zoom-image--hidden');\n      active.zoomed.classList.add('medium-zoom-image--opened');\n\n      active.zoomed.addEventListener('click', close);\n      active.zoomed.addEventListener('transitionend', _handleOpenEnd);\n\n      if (active.original.getAttribute('data-zoom-src')) {\n        active.zoomedHd = active.zoomed.cloneNode();\n\n        // Reset the `scrset` property or the HD image won't load.\n        active.zoomedHd.removeAttribute('srcset');\n        active.zoomedHd.removeAttribute('sizes');\n        // Remove loading attribute so the browser can load the image normally\n        active.zoomedHd.removeAttribute('loading');\n\n        active.zoomedHd.src = active.zoomed.getAttribute('data-zoom-src');\n\n        active.zoomedHd.onerror = function () {\n          clearInterval(getZoomTargetSize);\n          console.warn('Unable to reach the zoom image target ' + active.zoomedHd.src);\n          active.zoomedHd = null;\n          _animate();\n        };\n\n        // We need to access the natural size of the full HD\n        // target as fast as possible to compute the animation.\n        var getZoomTargetSize = setInterval(function () {\n          if ( active.zoomedHd.complete) {\n            clearInterval(getZoomTargetSize);\n            active.zoomedHd.classList.add('medium-zoom-image--opened');\n            active.zoomedHd.addEventListener('click', close);\n            document.body.appendChild(active.zoomedHd);\n            _animate();\n          }\n        }, 10);\n      } else if (active.original.hasAttribute('srcset')) {\n        // If an image has a `srcset` attribuet, we don't know the dimensions of the\n        // zoomed (HD) image (like when `data-zoom-src` is specified).\n        // Therefore the approach is quite similar.\n        active.zoomedHd = active.zoomed.cloneNode();\n\n        // Resetting the sizes attribute tells the browser to load the\n        // image best fitting the current viewport size, respecting the `srcset`.\n        active.zoomedHd.removeAttribute('sizes');\n\n        // In Firefox, the `loading` attribute needs to be set to `eager` (default\n        // value) for the load event to be fired.\n        active.zoomedHd.removeAttribute('loading');\n\n        // Wait for the load event of the hd image. This will fire if the image\n        // is already cached.\n        var loadEventListener = active.zoomedHd.addEventListener('load', function () {\n          active.zoomedHd.removeEventListener('load', loadEventListener);\n          active.zoomedHd.classList.add('medium-zoom-image--opened');\n          active.zoomedHd.addEventListener('click', close);\n          document.body.appendChild(active.zoomedHd);\n          _animate();\n        });\n      } else {\n        _animate();\n      }\n    });\n  };\n\n  var close = function close() {\n    return new Promise(function (resolve) {\n      if (isAnimating || !active.original) {\n        resolve(zoom);\n        return;\n      }\n\n      var _handleCloseEnd = function _handleCloseEnd() {\n        active.original.classList.remove('medium-zoom-image--hidden');\n        document.body.removeChild(active.zoomed);\n        if (active.zoomedHd) {\n          document.body.removeChild(active.zoomedHd);\n        }\n        document.body.removeChild(overlay);\n        active.zoomed.classList.remove('medium-zoom-image--opened');\n        if (active.template) {\n          document.body.removeChild(active.template);\n        }\n\n        isAnimating = false;\n        active.zoomed.removeEventListener('transitionend', _handleCloseEnd);\n\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:closed', {\n          detail: { zoom: zoom }\n        }));\n\n        active.original = null;\n        active.zoomed = null;\n        active.zoomedHd = null;\n        active.template = null;\n\n        resolve(zoom);\n      };\n\n      isAnimating = true;\n      document.body.classList.remove('medium-zoom--opened');\n      active.zoomed.style.transform = '';\n\n      if (active.zoomedHd) {\n        active.zoomedHd.style.transform = '';\n      }\n\n      // Fade out the template so it's not too abrupt\n      if (active.template) {\n        active.template.style.transition = 'opacity 150ms';\n        active.template.style.opacity = 0;\n      }\n\n      active.original.dispatchEvent(createCustomEvent('medium-zoom:close', {\n        detail: { zoom: zoom }\n      }));\n\n      active.zoomed.addEventListener('transitionend', _handleCloseEnd);\n    });\n  };\n\n  var toggle = function toggle() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        target = _ref3.target;\n\n    if (active.original) {\n      return close();\n    }\n\n    return open({ target: target });\n  };\n\n  var getOptions = function getOptions() {\n    return zoomOptions;\n  };\n\n  var getImages = function getImages() {\n    return images;\n  };\n\n  var getZoomedImage = function getZoomedImage() {\n    return active.original;\n  };\n\n  var images = [];\n  var eventListeners = [];\n  var isAnimating = false;\n  var scrollTop = 0;\n  var zoomOptions = options;\n  var active = {\n    original: null,\n    zoomed: null,\n    zoomedHd: null,\n    template: null\n\n    // If the selector is omitted, it's replaced by the options\n  };if (Object.prototype.toString.call(selector) === '[object Object]') {\n    zoomOptions = selector;\n  } else if (selector || typeof selector === 'string' // to process empty string as a selector\n  ) {\n      attach(selector);\n    }\n\n  // Apply the default option values\n  zoomOptions = _extends({\n    margin: 0,\n    background: '#fff',\n    scrollOffset: 40,\n    minZoomScale: 1,\n    container: null,\n    template: null\n  }, zoomOptions);\n\n  var overlay = createOverlay(zoomOptions.background);\n\n  document.addEventListener('click', _handleClick);\n  document.addEventListener('keyup', _handleKeyUp);\n  document.addEventListener('scroll', _handleScroll);\n  window.addEventListener('resize', close);\n\n  var zoom = {\n    open: open,\n    close: close,\n    toggle: toggle,\n    update: update,\n    clone: clone,\n    attach: attach,\n    detach: detach,\n    on: on,\n    off: off,\n    getOptions: getOptions,\n    getImages: getImages,\n    getZoomedImage: getZoomedImage\n  };\n\n  return zoom;\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}\";\nstyleInject(css);\n\nexport default mediumZoom;\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// ../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js\nvar require_lodash = __commonJS({\n  \"../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js\"(exports, module) {\n    \"use strict\";\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    var NAN = 0 / 0;\n    var symbolTag = \"[object Symbol]\";\n    var reTrim = /^\\s+|\\s+$/g;\n    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    var reIsBinary = /^0b[01]+$/i;\n    var reIsOctal = /^0o[0-7]+$/i;\n    var freeParseInt = parseInt;\n    var freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\n    var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    var root = freeGlobal || freeSelf || Function(\"return this\")();\n    var objectProto = Object.prototype;\n    var objectToString = objectProto.toString;\n    var nativeMax = Math.max;\n    var nativeMin = Math.min;\n    var now = function() {\n      return root.Date.now();\n    };\n    function debounce(func, wait, options) {\n      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = \"maxWait\" in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      function invokeFunc(time) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = void 0;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n      function leadingEdge(time) {\n        lastInvokeTime = time;\n        timerId = setTimeout(timerExpired, wait);\n        return leading ? invokeFunc(time) : result;\n      }\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result2 = wait - timeSinceLastCall;\n        return maxing ? nativeMin(result2, maxWait - timeSinceLastInvoke) : result2;\n      }\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n      function trailingEdge(time) {\n        timerId = void 0;\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = void 0;\n        return result;\n      }\n      function cancel() {\n        if (timerId !== void 0) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = void 0;\n      }\n      function flush() {\n        return timerId === void 0 ? result : trailingEdge(now());\n      }\n      function debounced() {\n        var time = now(), isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n        if (isInvoking) {\n          if (timerId === void 0) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === void 0) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    function throttle3(func, wait, options) {\n      var leading = true, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = \"leading\" in options ? !!options.leading : leading;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        \"leading\": leading,\n        \"maxWait\": wait,\n        \"trailing\": trailing\n      });\n    }\n    function isObject(value) {\n      var type = typeof value;\n      return !!value && (type == \"object\" || type == \"function\");\n    }\n    function isObjectLike(value) {\n      return !!value && typeof value == \"object\";\n    }\n    function isSymbol(value) {\n      return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n    }\n    function toNumber(value) {\n      if (typeof value == \"number\") {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n        value = isObject(other) ? other + \"\" : other;\n      }\n      if (typeof value != \"string\") {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, \"\");\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    module.exports = throttle3;\n  }\n});\n\n// src/components/header.tsx\nimport { getPageBreadcrumbs } from \"notion-utils\";\nimport React15 from \"react\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\n\n// src/context.tsx\nimport \"notion-types\";\nimport { defaultMapImageUrl, defaultMapPageUrl } from \"notion-utils\";\nimport React10 from \"react\";\n\n// src/components/asset-wrapper.tsx\nimport \"notion-types\";\nimport { parsePageId as parsePageId2 } from \"notion-utils\";\n\n// src/utils.ts\nimport \"notion-types\";\nimport { formatDate, formatNotionDateTime, isUrl } from \"notion-utils\";\nvar cs = (...classes) => classes.filter((a) => !!a).join(\" \");\nvar groupBlockContent = (blockMap) => {\n  var _a, _b, _c, _d;\n  const output = [];\n  let lastType;\n  let index = -1;\n  for (const id of Object.keys(blockMap)) {\n    const blockValue = (_a = blockMap[id]) == null ? void 0 : _a.value;\n    if (blockValue) {\n      if (blockValue.content)\n        for (const blockId of blockValue.content) {\n          const blockType = (_c = (_b = blockMap[blockId]) == null ? void 0 : _b.value) == null ? void 0 : _c.type;\n          if (blockType && blockType !== lastType) {\n            index++;\n            lastType = blockType;\n            output[index] = [];\n          }\n          if (index > -1) {\n            (_d = output[index]) == null ? void 0 : _d.push(blockId);\n          }\n        }\n    }\n    lastType = void 0;\n  }\n  return output;\n};\nvar getListNumber = (blockId, blockMap) => {\n  const groups = groupBlockContent(blockMap);\n  const group = groups.find((g) => g.includes(blockId));\n  if (!group) {\n    return;\n  }\n  return group.indexOf(blockId) + 1;\n};\nvar getListNestingLevel = (blockId, blockMap) => {\n  var _a, _b, _c;\n  let level = 0;\n  let currentBlockId = blockId;\n  while (true) {\n    const parentId = (_b = (_a = blockMap[currentBlockId]) == null ? void 0 : _a.value) == null ? void 0 : _b.parent_id;\n    if (!parentId) break;\n    const parentBlock = (_c = blockMap[parentId]) == null ? void 0 : _c.value;\n    if (!parentBlock) break;\n    if (parentBlock.type === \"numbered_list\") {\n      level++;\n      currentBlockId = parentId;\n    } else {\n      break;\n    }\n  }\n  return level;\n};\nvar getListStyle = (level) => {\n  const styles = [\"decimal\", \"lower-alpha\", \"lower-roman\"];\n  const index = (level % styles.length + styles.length) % styles.length;\n  return styles[index];\n};\nvar getHashFragmentValue = (url) => {\n  return url.includes(\"#\") ? url.replace(/^.+(#.+)$/, \"$1\") : \"\";\n};\nvar isBrowser = !!globalThis.window;\nvar youtubeDomains = /* @__PURE__ */ new Set([\n  \"youtu.be\",\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"youtube-nocookie.com\",\n  \"www.youtube-nocookie.com\"\n]);\nvar getYoutubeId = (url) => {\n  var _a;\n  try {\n    const { hostname } = new URL(url);\n    if (!youtubeDomains.has(hostname)) {\n      return null;\n    }\n    const regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/i;\n    const match = url.match(regExp);\n    if (match && ((_a = match[2]) == null ? void 0 : _a.length) === 11) {\n      return match[2];\n    }\n  } catch (e) {\n  }\n  return null;\n};\nvar getUrlParams = (url) => {\n  try {\n    const { searchParams } = new URL(url);\n    const result = {};\n    for (const [key, value] of searchParams.entries()) {\n      result[key] = value;\n    }\n    return result;\n  } catch (e) {\n  }\n  return;\n};\n\n// src/components/asset.tsx\nimport \"notion-types\";\nimport { getTextContent } from \"notion-utils\";\n\n// src/components/lazy-image.tsx\nimport { normalizeUrl } from \"notion-utils\";\nimport React from \"react\";\n\n// src/components/lazy-image-full.tsx\nimport { Component } from \"react\";\nimport { InView } from \"react-intersection-observer\";\nimport { ofType, unionize } from \"unionize\";\nimport { jsx } from \"react/jsx-runtime\";\nvar LazyImageFullState = unionize({\n  NotAsked: {},\n  Buffering: {},\n  // Could try to make it Promise<HTMLImageElement>,\n  // but we don't use the element anyway, and we cache promises\n  Loading: {},\n  LoadSuccess: {},\n  LoadError: ofType()\n});\nvar Action = unionize({\n  ViewChanged: ofType(),\n  BufferingEnded: {},\n  // MAYBE: Load: {},\n  LoadSuccess: {},\n  LoadError: ofType()\n});\nvar getBufferingCmd = (durationMs) => (instance) => {\n  const bufferingPromise = makeCancelable(delayedPromise(durationMs));\n  bufferingPromise.promise.then(() => instance.update(Action.BufferingEnded())).catch(\n    (_err) => {\n    }\n    //console.log({ isCanceled: _reason.isCanceled })\n  );\n  instance.promiseCache.buffering = bufferingPromise;\n};\nvar getLoadingCmd = (imageProps, experimentalDecode) => (instance) => {\n  const loadingPromise = makeCancelable(\n    loadImage(imageProps, experimentalDecode)\n  );\n  loadingPromise.promise.then((_res) => instance.update(Action.LoadSuccess({}))).catch((err) => {\n    if (!err.isCanceled) {\n      instance.update(new Action.LoadError({ msg: \"LoadError\" }));\n    }\n  });\n  instance.promiseCache.loading = loadingPromise;\n};\nvar cancelBufferingCmd = (instance) => {\n  var _a;\n  (_a = instance.promiseCache.buffering) == null ? void 0 : _a.cancel();\n};\nvar _LazyImageFull = class _LazyImageFull extends Component {\n  constructor(props) {\n    super(props);\n    /** A central place to store promises.\n     * A bit silly, but passing promises directly in the state\n     * was giving me weird timing issues. This way we can keep\n     * the promises in check, and pick them up from the respective methods.\n     * FUTURE: Could pass the relevant key in Buffering and Loading, so\n     * that at least we know where they are from a single source.\n     */\n    __publicField(this, \"promiseCache\", {});\n    __publicField(this, \"initialState\", LazyImageFullState.NotAsked());\n    this.state = this.initialState;\n    this.update = this.update.bind(this);\n  }\n  /** Emit the next state based on actions.\n   *  This is the core of the component!\n   */\n  static reducer(action, prevState, props) {\n    return Action.match(action, {\n      ViewChanged: ({ inView }) => {\n        if (inView === true) {\n          if (!props.src) {\n            return { nextState: LazyImageFullState.LoadSuccess() };\n          } else {\n            return LazyImageFullState.match(prevState, {\n              NotAsked: () => {\n                if (props.debounceDurationMs) {\n                  return {\n                    nextState: LazyImageFullState.Buffering(),\n                    cmd: getBufferingCmd(props.debounceDurationMs)\n                  };\n                } else {\n                  return {\n                    nextState: LazyImageFullState.Loading(),\n                    cmd: getLoadingCmd(props, props.experimentalDecode)\n                  };\n                }\n              },\n              // Do nothing in other states\n              default: () => ({ nextState: prevState })\n            });\n          }\n        } else {\n          return LazyImageFullState.match(prevState, {\n            Buffering: () => ({\n              nextState: LazyImageFullState.NotAsked(),\n              cmd: cancelBufferingCmd\n            }),\n            // Do nothing in other states\n            default: () => ({ nextState: prevState })\n          });\n        }\n      },\n      // Buffering has ended/succeeded, kick off request for image\n      BufferingEnded: () => ({\n        nextState: LazyImageFullState.Loading(),\n        cmd: getLoadingCmd(props, props.experimentalDecode)\n      }),\n      // Loading the image succeeded, simple\n      LoadSuccess: () => ({ nextState: LazyImageFullState.LoadSuccess() }),\n      //@ts-expect-error No need for changing structure\n      LoadError: (e) => ({ nextState: new LazyImageFullState.LoadError(e) })\n    });\n  }\n  update(action) {\n    const { nextState, cmd } = _LazyImageFull.reducer(\n      action,\n      this.state,\n      this.props\n    );\n    if (this.props.debugActions) {\n      if (false) {\n        console.warn(\n          'You are running LazyImage with debugActions=\"true\" in production. This might have performance implications.'\n        );\n      }\n      console.log({ action, prevState: this.state, nextState });\n    }\n    this.setState(nextState, () => cmd && cmd(this));\n  }\n  componentWillUnmount() {\n    if (this.promiseCache.loading) {\n      this.promiseCache.loading.cancel();\n    }\n    if (this.promiseCache.buffering) {\n      this.promiseCache.buffering.cancel();\n    }\n    this.promiseCache = {};\n  }\n  // Render function\n  render() {\n    const { children, loadEagerly, observerProps, ...imageProps } = this.props;\n    if (loadEagerly) {\n      return children({\n        // We know that the state tags and the enum match up\n        imageState: LazyImageFullState.LoadSuccess().tag,\n        imageProps\n      });\n    } else {\n      return /* @__PURE__ */ jsx(\n        InView,\n        {\n          rootMargin: \"50px 0px\",\n          threshold: 0.01,\n          ...observerProps,\n          onChange: (inView) => this.update(Action.ViewChanged({ inView })),\n          children: ({ ref }) => children({\n            // We know that the state tags and the enum match up, apart\n            // from Buffering not being exposed\n            imageState: this.state.tag === \"Buffering\" ? \"Loading\" /* Loading */ : this.state.tag,\n            imageProps,\n            ref\n          })\n        }\n      );\n    }\n  }\n};\n__publicField(_LazyImageFull, \"displayName\", \"LazyImageFull\");\nvar LazyImageFull = _LazyImageFull;\nvar loadImage = ({ src, srcSet, alt, sizes }, experimentalDecode = false) => new Promise((resolve, reject) => {\n  const image = new Image();\n  if (srcSet) {\n    image.srcset = srcSet;\n  }\n  if (alt) {\n    image.alt = alt;\n  }\n  if (sizes) {\n    image.sizes = sizes;\n  }\n  image.src = src;\n  if (experimentalDecode && \"decode\" in image) {\n    return image.decode().then(() => resolve(image)).catch((err) => reject(err));\n  }\n  image.addEventListener(\"load\", resolve);\n  image.addEventListener(\"error\", reject);\n});\nvar delayedPromise = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nvar makeCancelable = (promise) => {\n  let hasCanceled_ = false;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    void promise.then(\n      (val) => hasCanceled_ ? reject({ isCanceled: true }) : resolve(val)\n    );\n    promise.catch(\n      (err) => hasCanceled_ ? reject({ isCanceled: true }) : reject(err)\n    );\n  });\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    }\n  };\n};\n\n// src/components/lazy-image.tsx\nimport { jsx as jsx2, jsxs } from \"react/jsx-runtime\";\nfunction LazyImage({\n  src,\n  alt,\n  className,\n  style,\n  zoomable = false,\n  priority = false,\n  height,\n  ...rest\n}) {\n  var _a, _b, _c;\n  const { recordMap, zoom, previewImages, forceCustomImages, components } = useNotionContext();\n  const zoomRef = React.useRef(zoom ? zoom.clone() : null);\n  const previewImage = previewImages ? (_c = (_a = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _a[src]) != null ? _c : (_b = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _b[normalizeUrl(src)] : null;\n  const onLoad = React.useCallback(\n    (e) => {\n      if (zoomable && (e.target.src || e.target.srcset)) {\n        if (zoomRef.current) {\n          ;\n          zoomRef.current.attach(e.target);\n        }\n      }\n    },\n    [zoomRef, zoomable]\n  );\n  const attachZoom = React.useCallback(\n    (image) => {\n      if (zoomRef.current && image) {\n        ;\n        zoomRef.current.attach(image);\n      }\n    },\n    [zoomRef]\n  );\n  const attachZoomRef = React.useMemo(\n    () => zoomable ? attachZoom : void 0,\n    [zoomable, attachZoom]\n  );\n  if (previewImage) {\n    const aspectRatio = previewImage.originalHeight / previewImage.originalWidth;\n    if (components.Image) {\n      return /* @__PURE__ */ jsx2(\n        components.Image,\n        {\n          src,\n          alt,\n          style,\n          className,\n          width: previewImage.originalWidth,\n          height: previewImage.originalHeight,\n          blurDataURL: previewImage.dataURIBase64,\n          placeholder: \"blur\",\n          priority,\n          onLoad\n        }\n      );\n    }\n    return /* @__PURE__ */ jsx2(LazyImageFull, { src, ...rest, experimentalDecode: true, children: ({ imageState, ref }) => {\n      const isLoaded = imageState === \"LoadSuccess\" /* LoadSuccess */;\n      const wrapperStyle = {\n        width: \"100%\"\n      };\n      const imgStyle = {};\n      if (height) {\n        wrapperStyle.height = height;\n      } else {\n        imgStyle.position = \"absolute\";\n        wrapperStyle.paddingBottom = `${aspectRatio * 100}%`;\n      }\n      return /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: cs(\n            \"lazy-image-wrapper\",\n            isLoaded && \"lazy-image-loaded\",\n            className\n          ),\n          style: wrapperStyle,\n          children: [\n            /* @__PURE__ */ jsx2(\n              \"img\",\n              {\n                className: \"lazy-image-preview\",\n                src: previewImage.dataURIBase64,\n                alt,\n                ref,\n                style,\n                decoding: \"async\"\n              }\n            ),\n            /* @__PURE__ */ jsx2(\n              \"img\",\n              {\n                className: \"lazy-image-real\",\n                src,\n                alt,\n                ref: attachZoomRef,\n                style: {\n                  ...style,\n                  ...imgStyle\n                },\n                width: previewImage.originalWidth,\n                height: previewImage.originalHeight,\n                decoding: \"async\",\n                loading: \"lazy\"\n              }\n            )\n          ]\n        }\n      );\n    } });\n  } else {\n    if (components.Image && forceCustomImages) {\n      return /* @__PURE__ */ jsx2(\n        components.Image,\n        {\n          src,\n          alt,\n          className,\n          style,\n          width: null,\n          height: height || null,\n          priority,\n          onLoad\n        }\n      );\n    }\n    return /* @__PURE__ */ jsx2(\n      \"img\",\n      {\n        className,\n        style,\n        src,\n        alt,\n        ref: attachZoomRef,\n        loading: \"lazy\",\n        decoding: \"async\",\n        ...rest\n      }\n    );\n  }\n}\n\n// src/components/lite-youtube-embed.tsx\nimport React2 from \"react\";\nimport { Fragment, jsx as jsx3, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar qs = (params) => {\n  return Object.keys(params).map(\n    (key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`\n  ).join(\"&\");\n};\nvar resolutions = [120, 320, 480, 640, 1280];\nvar resolutionMap = {\n  120: \"default\",\n  320: \"mqdefault\",\n  480: \"hqdefault\",\n  640: \"sddefault\",\n  1280: \"maxresdefault\"\n  // 2k, 4k, 8k images don't seem to be available\n  // Source: https://longzero.com/articles/youtube-thumbnail-sizes-url/\n};\nvar resolutionSizes = resolutions.map((resolution) => `(max-width: ${resolution}px) ${resolution}px`).join(\", \");\nfunction getPosterUrl(id, resolution = 480, type = \"jpg\") {\n  if (type === \"webp\") {\n    return `https://i.ytimg.com/vi_webp/${id}/${resolutionMap[resolution]}.webp`;\n  }\n  return `https://i.ytimg.com/vi/${id}/${resolutionMap[resolution]}.jpg`;\n}\nfunction generateSrcSet(id, type = \"jpg\") {\n  return resolutions.map((resolution) => `${getPosterUrl(id, resolution, type)} ${resolution}w`).join(\", \");\n}\nfunction LiteYouTubeEmbed({\n  id,\n  defaultPlay = false,\n  mute = false,\n  lazyImage = false,\n  iframeTitle = \"YouTube video\",\n  alt = \"Video preview\",\n  params = {},\n  adLinksPreconnect = true,\n  style,\n  className\n}) {\n  const muteParam = mute || defaultPlay ? \"1\" : \"0\";\n  const queryString = React2.useMemo(\n    () => qs({ autoplay: \"1\", mute: muteParam, ...params }),\n    [muteParam, params]\n  );\n  const ytUrl = \"https://www.youtube-nocookie.com\";\n  const iframeSrc = `${ytUrl}/embed/${id}?${queryString}`;\n  const [isPreconnected, setIsPreconnected] = React2.useState(false);\n  const [iframeInitialized, setIframeInitialized] = React2.useState(defaultPlay);\n  const [isIframeLoaded, setIsIframeLoaded] = React2.useState(false);\n  const warmConnections = React2.useCallback(() => {\n    if (isPreconnected) return;\n    setIsPreconnected(true);\n  }, [isPreconnected]);\n  const onLoadIframe = React2.useCallback(() => {\n    if (iframeInitialized) return;\n    setIframeInitialized(true);\n  }, [iframeInitialized]);\n  const onIframeLoaded = React2.useCallback(() => {\n    setIsIframeLoaded(true);\n  }, []);\n  return /* @__PURE__ */ jsxs2(Fragment, { children: [\n    /* @__PURE__ */ jsx3(\n      \"link\",\n      {\n        rel: \"preload\",\n        as: \"image\",\n        href: getPosterUrl(id),\n        imageSrcSet: generateSrcSet(id, \"webp\"),\n        imageSizes: resolutionSizes\n      }\n    ),\n    isPreconnected && /* @__PURE__ */ jsxs2(Fragment, { children: [\n      /* @__PURE__ */ jsx3(\"link\", { rel: \"preconnect\", href: ytUrl }),\n      /* @__PURE__ */ jsx3(\"link\", { rel: \"preconnect\", href: \"https://www.google.com\" })\n    ] }),\n    isPreconnected && adLinksPreconnect && /* @__PURE__ */ jsxs2(Fragment, { children: [\n      /* @__PURE__ */ jsx3(\"link\", { rel: \"preconnect\", href: \"https://static.doubleclick.net\" }),\n      /* @__PURE__ */ jsx3(\"link\", { rel: \"preconnect\", href: \"https://googleads.g.doubleclick.net\" })\n    ] }),\n    /* @__PURE__ */ jsxs2(\n      \"div\",\n      {\n        onClick: onLoadIframe,\n        onPointerOver: warmConnections,\n        className: cs(\n          \"notion-yt-lite\",\n          isIframeLoaded && \"notion-yt-loaded\",\n          iframeInitialized && \"notion-yt-initialized\",\n          className\n        ),\n        style,\n        children: [\n          /* @__PURE__ */ jsxs2(\"picture\", { children: [\n            resolutions.map((resolution) => /* @__PURE__ */ jsx3(\n              \"source\",\n              {\n                srcSet: `${getPosterUrl(id, resolution, \"webp\")} ${resolution}w`,\n                media: `(max-width: ${resolution}px)`,\n                type: \"image/webp\"\n              },\n              resolution\n            )),\n            /* @__PURE__ */ jsx3(\n              \"img\",\n              {\n                src: getPosterUrl(id),\n                className: \"notion-yt-thumbnail\",\n                loading: lazyImage ? \"lazy\" : void 0,\n                alt\n              }\n            )\n          ] }),\n          /* @__PURE__ */ jsx3(\"div\", { className: \"notion-yt-playbtn\" }),\n          iframeInitialized && /* @__PURE__ */ jsx3(\n            \"iframe\",\n            {\n              width: \"560\",\n              height: \"315\",\n              frameBorder: \"0\",\n              allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n              allowFullScreen: true,\n              title: iframeTitle,\n              src: iframeSrc,\n              onLoad: onIframeLoaded\n            }\n          )\n        ]\n      }\n    )\n  ] });\n}\n\n// src/components/asset.tsx\nimport { Fragment as Fragment2, jsx as jsx4, jsxs as jsxs3 } from \"react/jsx-runtime\";\nvar isServer = !globalThis.window;\nvar supportedAssetTypes = /* @__PURE__ */ new Set([\n  \"replit\",\n  \"video\",\n  \"image\",\n  \"embed\",\n  \"figma\",\n  \"typeform\",\n  \"excalidraw\",\n  \"maps\",\n  \"tweet\",\n  \"pdf\",\n  \"gist\",\n  \"codepen\",\n  \"drive\"\n]);\nfunction Asset({\n  block,\n  zoomable = true,\n  children\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n  const { recordMap, mapImageUrl, components } = useNotionContext();\n  if (!block || !supportedAssetTypes.has(block.type)) {\n    return null;\n  }\n  const style = {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    flexDirection: \"column\"\n  };\n  const assetStyle = {};\n  if (block.format) {\n    const {\n      block_aspect_ratio,\n      block_height,\n      block_width,\n      block_full_width,\n      block_page_width,\n      block_preserve_scale\n    } = block.format;\n    if (block_full_width || block_page_width) {\n      if (block_full_width) {\n        style.width = \"100vw\";\n      } else {\n        style.width = \"100%\";\n      }\n      if (block.type === \"video\") {\n        if (block_height) {\n          style.height = block_height;\n        } else if (block_aspect_ratio) {\n          style.paddingBottom = `${block_aspect_ratio * 100}%`;\n        } else if (block_preserve_scale) {\n          style.objectFit = \"contain\";\n        }\n      } else if (block_aspect_ratio && block.type !== \"image\") {\n        style.paddingBottom = `${block_aspect_ratio * 100}%`;\n      } else if (block_height) {\n        style.height = block_height;\n      } else if (block_preserve_scale) {\n        if (block.type === \"image\") {\n          style.height = \"100%\";\n        } else {\n          style.paddingBottom = \"75%\";\n          style.minHeight = 100;\n        }\n      }\n    } else {\n      switch ((_a = block.format) == null ? void 0 : _a.block_alignment) {\n        case \"center\":\n          style.alignSelf = \"center\";\n          break;\n        case \"left\":\n          style.alignSelf = \"start\";\n          break;\n        case \"right\":\n          style.alignSelf = \"end\";\n          break;\n      }\n      if (block_width) {\n        style.width = block_width;\n      }\n      if (block_preserve_scale && block.type !== \"image\") {\n        style.paddingBottom = \"50%\";\n        style.minHeight = 100;\n      } else {\n        if (block_height && block.type !== \"image\") {\n          style.height = block_height;\n        }\n      }\n    }\n    if (block.type === \"image\") {\n      assetStyle.objectFit = \"cover\";\n    } else if (block_preserve_scale) {\n      assetStyle.objectFit = \"contain\";\n    }\n  }\n  let source = ((_b = recordMap.signed_urls) == null ? void 0 : _b[block.id]) || ((_e = (_d = (_c = block.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]);\n  if (!source) {\n    return null;\n  }\n  if (block.space_id) {\n    const url = new URL(source);\n    url.searchParams.set(\"spaceId\", block.space_id);\n    source = url.toString();\n  }\n  let content = null;\n  if (block.type === \"tweet\") {\n    const src = source;\n    if (!src) return null;\n    const id = (_g = (_f = src.split(\"?\")) == null ? void 0 : _f[0]) == null ? void 0 : _g.split(\"/\").pop();\n    if (!id) return null;\n    content = /* @__PURE__ */ jsx4(\n      \"div\",\n      {\n        style: {\n          ...assetStyle,\n          maxWidth: 420,\n          width: \"100%\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        },\n        children: /* @__PURE__ */ jsx4(components.Tweet, { id })\n      }\n    );\n  } else if (block.type === \"pdf\") {\n    style.overflow = \"auto\";\n    style.background = \"rgb(226, 226, 226)\";\n    style.display = \"block\";\n    if (!style.padding) {\n      style.padding = \"8px 16px\";\n    }\n    if (!isServer) {\n      content = /* @__PURE__ */ jsx4(components.Pdf, { file: source });\n    }\n  } else if (block.type === \"embed\" || block.type === \"video\" || block.type === \"figma\" || block.type === \"typeform\" || block.type === \"gist\" || block.type === \"maps\" || block.type === \"excalidraw\" || block.type === \"codepen\" || block.type === \"drive\" || block.type === \"replit\") {\n    if (block.type === \"video\" && source && !source.includes(\"youtube\") && !source.includes(\"youtu.be\") && !source.includes(\"vimeo\") && !source.includes(\"wistia\") && !source.includes(\"loom\") && !source.includes(\"videoask\") && !source.includes(\"getcloudapp\") && !source.includes(\"tella\")) {\n      style.paddingBottom = void 0;\n      content = /* @__PURE__ */ jsx4(\n        \"video\",\n        {\n          playsInline: true,\n          controls: true,\n          preload: \"metadata\",\n          style: assetStyle,\n          src: source,\n          title: block.type\n        }\n      );\n    } else {\n      let src = ((_h = block.format) == null ? void 0 : _h.display_source) || source;\n      if (src) {\n        const youtubeVideoId = block.type === \"video\" ? getYoutubeId(src) : null;\n        if (youtubeVideoId) {\n          const params = getUrlParams(src);\n          content = /* @__PURE__ */ jsx4(\n            LiteYouTubeEmbed,\n            {\n              id: youtubeVideoId,\n              style: assetStyle,\n              className: \"notion-asset-object-fit\",\n              params\n            }\n          );\n        } else if (block.type === \"gist\") {\n          if (!src.endsWith(\".pibb\")) {\n            src = `${src}.pibb`;\n          }\n          assetStyle.width = \"100%\";\n          style.paddingBottom = \"50%\";\n          content = /* @__PURE__ */ jsx4(\n            \"iframe\",\n            {\n              style: assetStyle,\n              className: \"notion-asset-object-fit\",\n              src,\n              title: \"GitHub Gist\",\n              frameBorder: \"0\",\n              loading: \"lazy\",\n              scrolling: \"auto\"\n            }\n          );\n        } else {\n          src += block.type === \"typeform\" ? \"&disable-auto-focus=true\" : \"\";\n          content = /* @__PURE__ */ jsx4(\n            \"iframe\",\n            {\n              className: \"notion-asset-object-fit\",\n              style: assetStyle,\n              src,\n              title: `iframe ${block.type}`,\n              frameBorder: \"0\",\n              allowFullScreen: true,\n              loading: \"lazy\",\n              scrolling: \"auto\"\n            }\n          );\n        }\n      }\n    }\n  } else if (block.type === \"image\") {\n    if (source.includes(\"file.notion.so\")) {\n      source = (_k = (_j = (_i = block.properties) == null ? void 0 : _i.source) == null ? void 0 : _j[0]) == null ? void 0 : _k[0];\n    }\n    const src = mapImageUrl(source, block);\n    const altText = getTextContent((_l = block.properties) == null ? void 0 : _l.alt_text);\n    const caption = getTextContent((_m = block.properties) == null ? void 0 : _m.caption);\n    const alt = altText || caption || \"notion image\";\n    content = /* @__PURE__ */ jsx4(\n      LazyImage,\n      {\n        src,\n        alt,\n        zoomable,\n        height: style.height,\n        style: assetStyle\n      }\n    );\n  }\n  return /* @__PURE__ */ jsxs3(Fragment2, { children: [\n    /* @__PURE__ */ jsxs3(\"div\", { style, children: [\n      content,\n      block.type === \"image\" && children\n    ] }),\n    block.type !== \"image\" && children\n  ] });\n}\n\n// src/components/text.tsx\nimport \"notion-types\";\nimport { parsePageId } from \"notion-utils\";\nimport React8 from \"react\";\n\n// src/components/eoi.tsx\nimport \"notion-types\";\n\n// src/icons/type-github.tsx\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nfunction SvgTypeGitHub(props) {\n  return /* @__PURE__ */ jsx5(\"svg\", { viewBox: \"0 0 260 260\", ...props, children: /* @__PURE__ */ jsx5(\"g\", { children: /* @__PURE__ */ jsx5(\n    \"path\",\n    {\n      d: \"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\",\n      fill: \"#161614\"\n    }\n  ) }) });\n}\nvar type_github_default = SvgTypeGitHub;\n\n// src/components/mention-preview-card.tsx\nimport { jsx as jsx6, jsxs as jsxs4 } from \"react/jsx-runtime\";\nfunction capitalizeFirstLetter(str) {\n  if (!str) return \"\";\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction MentionPreviewCard({\n  owner,\n  lastUpdated,\n  externalImage,\n  title,\n  domain\n}) {\n  return /* @__PURE__ */ jsxs4(\"div\", { className: \"notion-external-subtitle\", children: [\n    externalImage && /* @__PURE__ */ jsxs4(\"div\", { className: \"notion-preview-card-domain-warp\", children: [\n      /* @__PURE__ */ jsx6(\"div\", { className: \"notion-preview-card-logo\", children: externalImage }),\n      /* @__PURE__ */ jsx6(\"div\", { className: \"notion-preview-card-domain\", children: capitalizeFirstLetter(domain.split(\".\")[0]) })\n    ] }),\n    /* @__PURE__ */ jsx6(\"div\", { className: \"notion-preview-card-title\", children: title }),\n    owner && /* @__PURE__ */ jsxs4(\"div\", { className: \"notion-external-subtitle-item\", children: [\n      /* @__PURE__ */ jsx6(\"div\", { className: \"notion-external-subtitle-item-name\", children: \"Owner\" }),\n      /* @__PURE__ */ jsx6(\"span\", { className: \"notion-external-subtitle-item-desc\", children: owner })\n    ] }),\n    lastUpdated && /* @__PURE__ */ jsxs4(\"div\", { className: \"notion-external-subtitle-item\", children: [\n      /* @__PURE__ */ jsx6(\"div\", { className: \"notion-external-subtitle-item-name\", children: \"Updated\" }),\n      /* @__PURE__ */ jsx6(\"span\", { className: \"notion-external-subtitle-item-desc\", children: lastUpdated })\n    ] }),\n    domain === \"github.com\" && /* @__PURE__ */ jsxs4(\"div\", { className: \"notion-preview-card-github-shields\", children: [\n      /* @__PURE__ */ jsx6(\n        \"img\",\n        {\n          src: `https://img.shields.io/github/stars/${owner}/${title}?logo=github`,\n          alt: \"\"\n        }\n      ),\n      /* @__PURE__ */ jsx6(\n        \"img\",\n        {\n          src: `https://img.shields.io/github/last-commit/${owner}/${title}`,\n          alt: \"\"\n        }\n      )\n    ] })\n  ] });\n}\n\n// src/components/eoi.tsx\nimport { jsx as jsx7, jsxs as jsxs5 } from \"react/jsx-runtime\";\nfunction EOI({\n  block,\n  inline,\n  className\n}) {\n  var _a, _b, _c;\n  const { components } = useNotionContext();\n  const { original_url, attributes, domain } = (block == null ? void 0 : block.format) || {};\n  if (!original_url || !attributes) {\n    return null;\n  }\n  const title = (_a = attributes.find((attr) => attr.id === \"title\")) == null ? void 0 : _a.values[0];\n  let owner = (_b = attributes.find((attr) => attr.id === \"owner\")) == null ? void 0 : _b.values[0];\n  const lastUpdatedAt = (_c = attributes.find((attr) => attr.id === \"updated_at\")) == null ? void 0 : _c.values[0];\n  const lastUpdated = lastUpdatedAt ? formatNotionDateTime(lastUpdatedAt) : null;\n  let externalImage;\n  switch (domain) {\n    case \"github.com\":\n      externalImage = /* @__PURE__ */ jsx7(type_github_default, {});\n      if (owner) {\n        const parts = owner.split(\"/\");\n        owner = parts.at(-1);\n      }\n      break;\n    default:\n      if (true) {\n        console.log(\n          `Unsupported external_object_instance domain \"${domain}\"`,\n          JSON.stringify(block, null, 2)\n        );\n      }\n      return null;\n  }\n  return /* @__PURE__ */ jsxs5(\n    components.Link,\n    {\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: original_url,\n      className: cs(\n        \"notion-external\",\n        inline ? \"notion-external-mention\" : \"notion-external-block notion-row\",\n        className\n      ),\n      children: [\n        externalImage && /* @__PURE__ */ jsx7(\"div\", { className: \"notion-external-image\", children: externalImage }),\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"notion-external-description\", children: [\n          /* @__PURE__ */ jsx7(\"div\", { className: \"notion-external-title\", children: title }),\n          !inline && owner ? /* @__PURE__ */ jsxs5(\"div\", { className: \"notion-external-block-desc\", children: [\n            owner,\n            lastUpdated && /* @__PURE__ */ jsx7(\"span\", { children: \" \\u2022 \" }),\n            lastUpdated && `Updated ${lastUpdated}`\n          ] }) : null,\n          inline && (owner || lastUpdated) && /* @__PURE__ */ jsx7(\n            MentionPreviewCard,\n            {\n              title,\n              owner,\n              lastUpdated,\n              domain,\n              externalImage\n            }\n          )\n        ] })\n      ]\n    }\n  );\n}\n\n// src/components/graceful-image.tsx\nimport \"react\";\nimport { Img } from \"react-image\";\nimport { jsx as jsx8 } from \"react/jsx-runtime\";\nfunction GracefulImage(props) {\n  if (isBrowser) {\n    return /* @__PURE__ */ jsx8(Img, { ...props });\n  } else {\n    return /* @__PURE__ */ jsx8(\"img\", { ...props });\n  }\n}\n\n// src/components/link-mention.tsx\nimport \"react\";\nimport { jsx as jsx9, jsxs as jsxs6 } from \"react/jsx-runtime\";\nfunction LinkMention({ metadata }) {\n  return /* @__PURE__ */ jsxs6(\"span\", { className: \"notion-link-mention\", children: [\n    /* @__PURE__ */ jsx9(LinkMentionInline, { metadata }),\n    /* @__PURE__ */ jsx9(LinkMentionPreview, { metadata })\n  ] });\n}\nfunction LinkMentionInline({ metadata }) {\n  return /* @__PURE__ */ jsxs6(\n    \"a\",\n    {\n      href: metadata.href,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: \"notion-link-mention-link\",\n      children: [\n        /* @__PURE__ */ jsx9(\n          \"img\",\n          {\n            className: \"notion-link-mention-icon\",\n            src: metadata.icon_url,\n            alt: metadata.link_provider\n          }\n        ),\n        metadata.link_provider && /* @__PURE__ */ jsx9(\"span\", { className: \"notion-link-mention-provider\", children: metadata.link_provider }),\n        /* @__PURE__ */ jsx9(\"span\", { className: \"notion-link-mention-title\", children: metadata.title })\n      ]\n    }\n  );\n}\nfunction LinkMentionPreview({ metadata }) {\n  return /* @__PURE__ */ jsx9(\"div\", { className: \"notion-link-mention-preview\", children: /* @__PURE__ */ jsxs6(\"article\", { className: \"notion-link-mention-card\", children: [\n    /* @__PURE__ */ jsx9(\n      \"img\",\n      {\n        className: \"notion-link-mention-preview-thumbnail\",\n        src: metadata.thumbnail_url,\n        alt: metadata.title,\n        referrerPolicy: \"same-origin\"\n      }\n    ),\n    /* @__PURE__ */ jsxs6(\"div\", { className: \"notion-link-mention-preview-content\", children: [\n      /* @__PURE__ */ jsx9(\"p\", { className: \"notion-link-mention-preview-title\", children: metadata.title }),\n      /* @__PURE__ */ jsx9(\"p\", { className: \"notion-link-mention-preview-description\", children: metadata.description }),\n      /* @__PURE__ */ jsxs6(\"div\", { className: \"notion-link-mention-preview-footer\", children: [\n        /* @__PURE__ */ jsx9(\n          \"img\",\n          {\n            className: \"notion-link-mention-preview-icon\",\n            src: metadata.icon_url,\n            alt: metadata.link_provider,\n            referrerPolicy: \"same-origin\"\n          }\n        ),\n        /* @__PURE__ */ jsx9(\"span\", { className: \"notion-link-mention-preview-provider\", children: metadata.link_provider })\n      ] })\n    ] })\n  ] }) });\n}\n\n// src/components/page-title.tsx\nimport \"notion-types\";\nimport { getBlockTitle as getBlockTitle2 } from \"notion-utils\";\nimport React7 from \"react\";\n\n// src/components/page-icon.tsx\nimport \"notion-types\";\nimport { getBlockIcon, getBlockTitle } from \"notion-utils\";\nimport React6 from \"react\";\n\n// src/icons/default-page-icon.tsx\nimport \"react\";\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nfunction DefaultPageIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ jsx10(\"svg\", { className, ...rest, viewBox: \"0 0 30 30\", width: \"16\", children: /* @__PURE__ */ jsx10(\"path\", { d: \"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z\" }) });\n}\n\n// src/components/page-icon.tsx\nimport { jsx as jsx11 } from \"react/jsx-runtime\";\nvar isIconBlock = (value) => {\n  return value.type === \"page\" || value.type === \"callout\" || value.type === \"collection_view\" || value.type === \"collection_view_page\";\n};\nfunction PageIconImpl({\n  block,\n  className,\n  inline = true,\n  hideDefaultIcon = false,\n  defaultIcon\n}) {\n  var _a;\n  const { mapImageUrl, recordMap, darkMode } = useNotionContext();\n  let isImage = false;\n  let content = null;\n  if (isIconBlock(block)) {\n    const icon = ((_a = getBlockIcon(block, recordMap)) == null ? void 0 : _a.trim()) || defaultIcon;\n    const title = getBlockTitle(block, recordMap);\n    if (icon && isUrl(icon)) {\n      const url = mapImageUrl(icon, block);\n      isImage = true;\n      content = /* @__PURE__ */ jsx11(\n        LazyImage,\n        {\n          src: url,\n          alt: title || \"page icon\",\n          className: cs(className, \"notion-page-icon\")\n        }\n      );\n    } else if (icon && icon.startsWith(\"/icons/\")) {\n      const url = \"https://www.notion.so\" + icon + \"?mode=\" + (darkMode ? \"dark\" : \"light\");\n      content = /* @__PURE__ */ jsx11(\n        LazyImage,\n        {\n          src: url,\n          alt: title || \"page icon\",\n          className: cs(className, \"notion-page-icon\")\n        }\n      );\n    } else if (!icon) {\n      if (!hideDefaultIcon) {\n        isImage = true;\n        content = /* @__PURE__ */ jsx11(\n          DefaultPageIcon,\n          {\n            className: cs(className, \"notion-page-icon\"),\n            alt: title || \"page icon\"\n          }\n        );\n      }\n    } else {\n      isImage = false;\n      content = /* @__PURE__ */ jsx11(\n        \"span\",\n        {\n          className: cs(className, \"notion-page-icon\"),\n          role: \"img\",\n          \"aria-label\": icon,\n          children: icon\n        }\n      );\n    }\n  }\n  if (!content) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx11(\n    \"div\",\n    {\n      className: cs(\n        inline ? \"notion-page-icon-inline\" : \"notion-page-icon-hero\",\n        isImage ? \"notion-page-icon-image\" : \"notion-page-icon-span\"\n      ),\n      children: content\n    }\n  );\n}\nvar PageIcon = React6.memo(PageIconImpl);\n\n// src/components/page-title.tsx\nimport { jsx as jsx12, jsxs as jsxs7 } from \"react/jsx-runtime\";\nfunction PageTitleImpl({\n  block,\n  className,\n  defaultIcon,\n  ...rest\n}) {\n  var _a, _b;\n  const { recordMap } = useNotionContext();\n  if (!block) return null;\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const title = getBlockTitle2(block, recordMap);\n    if (!title) {\n      return null;\n    }\n    const titleDecoration = [[title]];\n    return /* @__PURE__ */ jsxs7(\"span\", { className: cs(\"notion-page-title\", className), ...rest, children: [\n      /* @__PURE__ */ jsx12(\n        PageIcon,\n        {\n          block,\n          defaultIcon,\n          className: \"notion-page-title-icon\"\n        }\n      ),\n      /* @__PURE__ */ jsx12(\"span\", { className: \"notion-page-title-text\", children: /* @__PURE__ */ jsx12(Text, { value: titleDecoration, block }) })\n    ] });\n  }\n  if (!((_a = block.properties) == null ? void 0 : _a.title)) {\n    return null;\n  }\n  return /* @__PURE__ */ jsxs7(\"span\", { className: cs(\"notion-page-title\", className), ...rest, children: [\n    /* @__PURE__ */ jsx12(\n      PageIcon,\n      {\n        block,\n        defaultIcon,\n        className: \"notion-page-title-icon\"\n      }\n    ),\n    /* @__PURE__ */ jsx12(\"span\", { className: \"notion-page-title-text\", children: /* @__PURE__ */ jsx12(Text, { value: (_b = block.properties) == null ? void 0 : _b.title, block }) })\n  ] });\n}\nvar PageTitle = React7.memo(PageTitleImpl);\n\n// src/components/text.tsx\nimport { Fragment as Fragment3, jsx as jsx13 } from \"react/jsx-runtime\";\nfunction Text({\n  value,\n  block,\n  linkProps,\n  linkProtocol\n}) {\n  const { components, recordMap, mapPageUrl, mapImageUrl, rootDomain } = useNotionContext();\n  return /* @__PURE__ */ jsx13(React8.Fragment, { children: value == null ? void 0 : value.map(([text, decorations], index) => {\n    if (!decorations) {\n      if (text === \",\") {\n        return /* @__PURE__ */ jsx13(\"span\", { style: { padding: \"0.5em\" } }, index);\n      } else {\n        return /* @__PURE__ */ jsx13(React8.Fragment, { children: text }, index);\n      }\n    }\n    const formatted = decorations.reduce(\n      (element, decorator) => {\n        var _a, _b, _c, _d, _e;\n        switch (decorator[0]) {\n          case \"p\": {\n            const blockId = decorator[1];\n            const linkedBlock = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n            if (!linkedBlock) {\n              console.log('\"p\" missing block', blockId);\n              return null;\n            }\n            return /* @__PURE__ */ jsx13(\n              components.PageLink,\n              {\n                className: \"notion-link\",\n                href: mapPageUrl(blockId),\n                children: /* @__PURE__ */ jsx13(PageTitle, { block: linkedBlock })\n              }\n            );\n          }\n          case \"\\u2023\": {\n            const linkType = decorator[1][0];\n            const id = decorator[1][1];\n            switch (linkType) {\n              case \"u\": {\n                const user = (_b = recordMap.notion_user[id]) == null ? void 0 : _b.value;\n                if (!user) {\n                  console.log('\"\\u2023\" missing user', id);\n                  return null;\n                }\n                const src = mapImageUrl(user.profile_photo, block);\n                if (!src) return null;\n                const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n                return /* @__PURE__ */ jsx13(\n                  GracefulImage,\n                  {\n                    className: \"notion-user\",\n                    src,\n                    alt: name\n                  }\n                );\n              }\n              default: {\n                const linkedBlock = (_c = recordMap.block[id]) == null ? void 0 : _c.value;\n                if (!linkedBlock) {\n                  console.log('\"\\u2023\" missing block', linkType, id);\n                  return null;\n                }\n                return /* @__PURE__ */ jsx13(\n                  components.PageLink,\n                  {\n                    className: \"notion-link\",\n                    href: mapPageUrl(id),\n                    ...linkProps,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    children: /* @__PURE__ */ jsx13(PageTitle, { block: linkedBlock })\n                  }\n                );\n              }\n            }\n          }\n          case \"h\":\n            return /* @__PURE__ */ jsx13(\"span\", { className: `notion-${decorator[1]}`, children: element });\n          case \"c\":\n            return /* @__PURE__ */ jsx13(\"code\", { className: \"notion-inline-code\", children: element });\n          case \"b\":\n            return /* @__PURE__ */ jsx13(\"b\", { children: element });\n          case \"i\":\n            return /* @__PURE__ */ jsx13(\"em\", { children: element });\n          case \"s\":\n            return /* @__PURE__ */ jsx13(\"s\", { children: element });\n          case \"_\":\n            return /* @__PURE__ */ jsx13(\"span\", { className: \"notion-inline-underscore\", children: element });\n          case \"e\":\n            return /* @__PURE__ */ jsx13(components.Equation, { math: decorator[1], inline: true });\n          case \"m\":\n            return element;\n          //still need to return the base element\n          case \"a\": {\n            const v = decorator[1];\n            const pathname = v.slice(1);\n            const id = parsePageId(pathname, { uuid: true });\n            if (rootDomain && v.includes(rootDomain) || id && v[0] === \"/\") {\n              const href = rootDomain && v.includes(rootDomain) ? v : `${mapPageUrl(id)}${getHashFragmentValue(v)}`;\n              return /* @__PURE__ */ jsx13(\n                components.PageLink,\n                {\n                  className: \"notion-link\",\n                  href,\n                  ...linkProps,\n                  children: element\n                }\n              );\n            } else {\n              return /* @__PURE__ */ jsx13(\n                components.Link,\n                {\n                  className: \"notion-link\",\n                  href: linkProtocol ? `${linkProtocol}:${decorator[1]}` : decorator[1],\n                  ...linkProps,\n                  children: element\n                }\n              );\n            }\n          }\n          case \"d\": {\n            const v = decorator[1];\n            const type = v == null ? void 0 : v.type;\n            if (type === \"date\") {\n              const startDate = v.start_date;\n              return formatDate(startDate);\n            } else if (type === \"datetime\") {\n              const startDate = v.start_date;\n              const startTime = v.start_time;\n              return `${formatDate(startDate)} ${startTime}`;\n            } else if (type === \"daterange\") {\n              const startDate = v.start_date;\n              const endDate = v.end_date;\n              return `${formatDate(startDate)} \\u2192 ${formatDate(endDate)}`;\n            } else {\n              return element;\n            }\n          }\n          case \"u\": {\n            const userId = decorator[1];\n            const user = (_d = recordMap.notion_user[userId]) == null ? void 0 : _d.value;\n            if (!user) {\n              console.log(\"missing user\", userId);\n              return null;\n            }\n            const src = mapImageUrl(user.profile_photo, block);\n            if (!src) return null;\n            const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n            return /* @__PURE__ */ jsx13(GracefulImage, { className: \"notion-user\", src, alt: name });\n          }\n          case \"lm\": {\n            const metadata = decorator[1];\n            return /* @__PURE__ */ jsx13(LinkMention, { metadata });\n          }\n          case \"eoi\": {\n            const blockId = decorator[1];\n            const externalObjectInstance = (_e = recordMap.block[blockId]) == null ? void 0 : _e.value;\n            return /* @__PURE__ */ jsx13(EOI, { block: externalObjectInstance, inline: true });\n          }\n          case \"si\":\n            return null;\n          default:\n            if (true) {\n              console.log(\"unsupported text format\", decorator);\n            }\n            return element;\n        }\n      },\n      /* @__PURE__ */ jsx13(Fragment3, { children: text })\n    );\n    return /* @__PURE__ */ jsx13(React8.Fragment, { children: formatted }, index);\n  }) });\n}\n\n// src/components/asset-wrapper.tsx\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar urlStyle = { width: \"100%\" };\nfunction AssetWrapper({\n  blockId,\n  block\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const value = block;\n  const { components, mapPageUrl, rootDomain, zoom } = useNotionContext();\n  let isURL = false;\n  if (block.type === \"image\") {\n    const caption = (_c = (_b = (_a = value == null ? void 0 : value.properties) == null ? void 0 : _a.caption) == null ? void 0 : _b[0]) == null ? void 0 : _c[0];\n    if (caption) {\n      const id = parsePageId2(caption, { uuid: true });\n      const isPage = caption.charAt(0) === \"/\" && id;\n      if (isPage || isValidURL(caption)) {\n        isURL = true;\n      }\n    }\n  }\n  const figure = /* @__PURE__ */ jsx14(\n    \"figure\",\n    {\n      className: cs(\n        \"notion-asset-wrapper\",\n        `notion-asset-wrapper-${block.type}`,\n        ((_d = value.format) == null ? void 0 : _d.block_full_width) && \"notion-asset-wrapper-full\",\n        blockId\n      ),\n      children: /* @__PURE__ */ jsx14(Asset, { block: value, zoomable: zoom && !isURL, children: ((_e = value == null ? void 0 : value.properties) == null ? void 0 : _e.caption) && !isURL && /* @__PURE__ */ jsx14(\"figcaption\", { className: \"notion-asset-caption\", children: /* @__PURE__ */ jsx14(Text, { value: value.properties.caption, block }) }) })\n    }\n  );\n  if (isURL) {\n    const caption = (_h = (_g = (_f = value == null ? void 0 : value.properties) == null ? void 0 : _f.caption) == null ? void 0 : _g[0]) == null ? void 0 : _h[0];\n    const id = parsePageId2(caption, { uuid: true });\n    const isPage = (caption == null ? void 0 : caption.charAt(0)) === \"/\" && id;\n    const captionHostname = extractHostname(caption);\n    return /* @__PURE__ */ jsx14(\n      components.PageLink,\n      {\n        style: urlStyle,\n        href: isPage ? mapPageUrl(id) : caption,\n        target: captionHostname && captionHostname !== rootDomain && !(caption == null ? void 0 : caption.startsWith(\"/\")) ? \"blank_\" : null,\n        children: figure\n      }\n    );\n  }\n  return figure;\n}\nfunction isValidURL(str) {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  );\n  return !!pattern.test(str);\n}\nfunction extractHostname(url) {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname;\n  } catch (e) {\n    return \"\";\n  }\n}\n\n// src/icons/check.tsx\nimport { jsx as jsx15 } from \"react/jsx-runtime\";\nfunction SvgCheck(props) {\n  return /* @__PURE__ */ jsx15(\"svg\", { viewBox: \"0 0 14 14\", ...props, children: /* @__PURE__ */ jsx15(\"path\", { d: \"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z\" }) });\n}\nvar check_default = SvgCheck;\n\n// src/components/checkbox.tsx\nimport { jsx as jsx16 } from \"react/jsx-runtime\";\nfunction Checkbox({\n  isChecked\n}) {\n  let content = null;\n  if (isChecked) {\n    content = /* @__PURE__ */ jsx16(\"div\", { className: \"notion-property-checkbox-checked\", children: /* @__PURE__ */ jsx16(check_default, {}) });\n  } else {\n    content = /* @__PURE__ */ jsx16(\"div\", { className: \"notion-property-checkbox-unchecked\" });\n  }\n  return /* @__PURE__ */ jsx16(\"span\", { className: \"notion-property notion-property-checkbox\", children: content });\n}\n\n// src/next.tsx\nimport React9 from \"react\";\nimport isEqual from \"react-fast-compare\";\nimport { jsx as jsx17 } from \"react/jsx-runtime\";\nvar wrapNextImage = (NextImage) => {\n  return React9.memo(function ReactNotionXNextImage({\n    src,\n    alt,\n    width,\n    height,\n    className,\n    fill,\n    ...rest\n  }) {\n    if (fill === \"undefined\") {\n      fill = !(width && height);\n    }\n    return /* @__PURE__ */ jsx17(\n      NextImage,\n      {\n        className,\n        src,\n        alt,\n        width: !fill && width && height ? width : void 0,\n        height: !fill && width && height ? height : void 0,\n        fill,\n        ...rest\n      }\n    );\n  }, isEqual);\n};\nvar wrapNextLegacyImage = (NextLegacyImage) => {\n  return React9.memo(function ReactNotionXNextLegacyImage({\n    src,\n    alt,\n    width,\n    height,\n    className,\n    style,\n    layout,\n    ...rest\n  }) {\n    if (!layout) {\n      layout = width && height ? \"intrinsic\" : \"fill\";\n    }\n    return /* @__PURE__ */ jsx17(\n      NextLegacyImage,\n      {\n        className,\n        src,\n        alt,\n        width: layout === \"intrinsic\" && width,\n        height: layout === \"intrinsic\" && height,\n        objectFit: style == null ? void 0 : style.objectFit,\n        objectPosition: style == null ? void 0 : style.objectPosition,\n        layout,\n        ...rest\n      }\n    );\n  }, isEqual);\n};\nfunction wrapNextLink(NextLink) {\n  return ({\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale,\n    ...linkProps\n  }) => {\n    return /* @__PURE__ */ jsx17(\n      NextLink,\n      {\n        href,\n        as,\n        passHref,\n        prefetch,\n        replace,\n        scroll,\n        shallow,\n        locale,\n        legacyBehavior: true,\n        children: /* @__PURE__ */ jsx17(\"a\", { ...linkProps })\n      }\n    );\n  };\n}\n\n// src/context.tsx\nimport { jsx as jsx18 } from \"react/jsx-runtime\";\nfunction DefaultLink(props) {\n  return /* @__PURE__ */ jsx18(\"a\", { target: \"_blank\", rel: \"noopener noreferrer\", ...props });\n}\nvar DefaultLinkMemo = React10.memo(DefaultLink);\nfunction DefaultPageLink(props) {\n  return /* @__PURE__ */ jsx18(\"a\", { ...props });\n}\nvar DefaultPageLinkMemo = React10.memo(DefaultPageLink);\nfunction DefaultEmbed(props) {\n  return /* @__PURE__ */ jsx18(AssetWrapper, { ...props });\n}\nvar DefaultHeader = Header;\nfunction dummyLink({ href, rel, target, title, ...rest }) {\n  return /* @__PURE__ */ jsx18(\"span\", { ...rest });\n}\nvar dummyComponent = (name) => () => {\n  console.warn(\n    `Warning: using empty component \"${name}\" (you should override this in NotionRenderer.components)`\n  );\n  return null;\n};\nvar dummyOverrideFn = (_, defaultValueFn) => defaultValueFn();\nvar defaultComponents = {\n  Image: null,\n  // disable custom images by default\n  Link: DefaultLinkMemo,\n  PageLink: DefaultPageLinkMemo,\n  Checkbox,\n  Callout: void 0,\n  // use the built-in callout rendering by default\n  Code: dummyComponent(\"Code\"),\n  Equation: dummyComponent(\"Equation\"),\n  Collection: dummyComponent(\"Collection\"),\n  Property: void 0,\n  // use the built-in property rendering by default\n  propertyTextValue: dummyOverrideFn,\n  propertySelectValue: dummyOverrideFn,\n  propertyRelationValue: dummyOverrideFn,\n  propertyFormulaValue: dummyOverrideFn,\n  propertyTitleValue: dummyOverrideFn,\n  propertyPersonValue: dummyOverrideFn,\n  propertyFileValue: dummyOverrideFn,\n  propertyCheckboxValue: dummyOverrideFn,\n  propertyUrlValue: dummyOverrideFn,\n  propertyEmailValue: dummyOverrideFn,\n  propertyPhoneNumberValue: dummyOverrideFn,\n  propertyNumberValue: dummyOverrideFn,\n  propertyLastEditedTimeValue: dummyOverrideFn,\n  propertyCreatedTimeValue: dummyOverrideFn,\n  propertyDateValue: dummyOverrideFn,\n  propertyAutoIncrementIdValue: dummyOverrideFn,\n  Pdf: dummyComponent(\"Pdf\"),\n  Tweet: dummyComponent(\"Tweet\"),\n  Modal: dummyComponent(\"Modal\"),\n  Header: DefaultHeader,\n  Embed: DefaultEmbed\n};\nvar defaultNotionContext = {\n  recordMap: {\n    block: {},\n    collection: {},\n    collection_view: {},\n    collection_query: {},\n    notion_user: {},\n    signed_urls: {}\n  },\n  components: defaultComponents,\n  mapPageUrl: defaultMapPageUrl(),\n  mapImageUrl: defaultMapImageUrl,\n  searchNotion: void 0,\n  isShowingSearch: false,\n  onHideSearch: void 0,\n  fullPage: false,\n  darkMode: false,\n  previewImages: false,\n  forceCustomImages: false,\n  showCollectionViewDropdown: true,\n  linkTableTitleProperties: true,\n  isLinkCollectionToUrlProperty: false,\n  showTableOfContents: false,\n  minTableOfContentsItems: 3,\n  defaultPageIcon: null,\n  defaultPageCover: null,\n  defaultPageCoverPosition: 0.5,\n  zoom: null\n};\nvar ctx = React10.createContext(defaultNotionContext);\nfunction NotionContextProvider({\n  components: themeComponents = {},\n  children,\n  mapPageUrl,\n  mapImageUrl,\n  rootPageId,\n  ...rest\n}) {\n  for (const key of Object.keys(rest)) {\n    if (rest[key] === void 0) {\n      delete rest[key];\n    }\n  }\n  const wrappedThemeComponents = React10.useMemo(\n    () => ({\n      ...themeComponents\n    }),\n    [themeComponents]\n  );\n  if (wrappedThemeComponents.nextImage && wrappedThemeComponents.nextLegacyImage) {\n    console.warn(\n      \"You should not pass both nextImage and nextLegacyImage. Only nextImage component will be used.\"\n    );\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  } else if (wrappedThemeComponents.nextImage) {\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  } else if (wrappedThemeComponents.nextLegacyImage) {\n    wrappedThemeComponents.Image = wrapNextLegacyImage(\n      themeComponents.nextLegacyImage\n    );\n  }\n  if (wrappedThemeComponents.nextLink) {\n    wrappedThemeComponents.nextLink = wrapNextLink(themeComponents.nextLink);\n  }\n  for (const key of Object.keys(wrappedThemeComponents)) {\n    if (!wrappedThemeComponents[key]) {\n      delete wrappedThemeComponents[key];\n    }\n  }\n  const value = React10.useMemo(\n    () => ({\n      ...defaultNotionContext,\n      ...rest,\n      rootPageId,\n      mapPageUrl: mapPageUrl != null ? mapPageUrl : defaultMapPageUrl(rootPageId),\n      mapImageUrl: mapImageUrl != null ? mapImageUrl : defaultMapImageUrl,\n      components: { ...defaultComponents, ...wrappedThemeComponents }\n    }),\n    [mapImageUrl, mapPageUrl, wrappedThemeComponents, rootPageId, rest]\n  );\n  return /* @__PURE__ */ jsx18(ctx.Provider, { value, children });\n}\nvar NotionContextConsumer = ctx.Consumer;\nvar useNotionContext = () => {\n  return React10.useContext(ctx);\n};\n\n// src/icons/search-icon.tsx\nimport \"react\";\nimport { jsx as jsx19 } from \"react/jsx-runtime\";\nfunction SearchIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ jsx19(\"svg\", { className: cs(\"notion-icon\", className), viewBox: \"0 0 17 17\", ...rest, children: /* @__PURE__ */ jsx19(\"path\", { d: \"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z\" }) });\n}\n\n// src/components/search-dialog.tsx\nvar import_lodash = __toESM(require_lodash(), 1);\nimport { getBlockParentPage, getBlockTitle as getBlockTitle3 } from \"notion-utils\";\nimport React14 from \"react\";\n\n// src/icons/clear-icon.tsx\nimport \"react\";\nimport { jsx as jsx20 } from \"react/jsx-runtime\";\nfunction ClearIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ jsx20(\"svg\", { className: cs(\"notion-icon\", className), ...rest, viewBox: \"0 0 30 30\", children: /* @__PURE__ */ jsx20(\"path\", { d: \"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z\" }) });\n}\n\n// src/icons/loading-icon.tsx\nimport \"react\";\nimport { jsx as jsx21, jsxs as jsxs8 } from \"react/jsx-runtime\";\nfunction LoadingIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ jsxs8(\"svg\", { className: cs(\"notion-icon\", className), ...rest, viewBox: \"0 0 24 24\", children: [\n    /* @__PURE__ */ jsx21(\"defs\", { children: /* @__PURE__ */ jsxs8(\n      \"linearGradient\",\n      {\n        x1: \"28.1542969%\",\n        y1: \"63.7402344%\",\n        x2: \"74.6289062%\",\n        y2: \"17.7832031%\",\n        id: \"linearGradient-1\",\n        children: [\n          /* @__PURE__ */ jsx21(\"stop\", { stopColor: \"rgba(164, 164, 164, 1)\", offset: \"0%\" }),\n          /* @__PURE__ */ jsx21(\n            \"stop\",\n            {\n              stopColor: \"rgba(164, 164, 164, 0)\",\n              stopOpacity: \"0\",\n              offset: \"100%\"\n            }\n          )\n        ]\n      }\n    ) }),\n    /* @__PURE__ */ jsx21(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", children: /* @__PURE__ */ jsx21(\"g\", { transform: \"translate(-236.000000, -286.000000)\", children: /* @__PURE__ */ jsxs8(\"g\", { transform: \"translate(238.000000, 286.000000)\", children: [\n      /* @__PURE__ */ jsx21(\n        \"circle\",\n        {\n          id: \"Oval-2\",\n          stroke: \"url(#linearGradient-1)\",\n          strokeWidth: \"4\",\n          cx: \"10\",\n          cy: \"12\",\n          r: \"10\"\n        }\n      ),\n      /* @__PURE__ */ jsx21(\n        \"path\",\n        {\n          d: \"M10,2 C4.4771525,2 0,6.4771525 0,12\",\n          id: \"Oval-2\",\n          stroke: \"rgba(164, 164, 164, 1)\",\n          strokeWidth: \"4\"\n        }\n      ),\n      /* @__PURE__ */ jsx21(\n        \"rect\",\n        {\n          id: \"Rectangle-1\",\n          fill: \"rgba(164, 164, 164, 1)\",\n          x: \"8\",\n          y: \"0\",\n          width: \"4\",\n          height: \"4\",\n          rx: \"8\"\n        }\n      )\n    ] }) }) })\n  ] });\n}\n\n// src/components/search-dialog.tsx\nimport { Fragment as Fragment4, jsx as jsx22, jsxs as jsxs9 } from \"react/jsx-runtime\";\nvar SearchDialog = class extends React14.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"state\", {\n      isLoading: false,\n      query: \"\",\n      searchResult: null,\n      searchError: null\n    });\n    __publicField(this, \"_inputRef\");\n    __publicField(this, \"_search\");\n    __publicField(this, \"_onAfterOpen\", () => {\n      if (this._inputRef.current) {\n        this._inputRef.current.focus();\n      }\n    });\n    __publicField(this, \"_onChangeQuery\", (e) => {\n      const query = e.target.value;\n      this.setState({ query });\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      } else {\n        this._search();\n      }\n    });\n    __publicField(this, \"_onClearQuery\", () => {\n      this._onChangeQuery({ target: { value: \"\" } });\n    });\n    __publicField(this, \"_warmupSearch\", async () => {\n      const { searchNotion, rootBlockId } = this.props;\n      await searchNotion({\n        query: \"\",\n        ancestorId: rootBlockId\n      });\n    });\n    __publicField(this, \"_searchImpl\", async () => {\n      const { searchNotion, rootBlockId } = this.props;\n      const { query } = this.state;\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      }\n      this.setState({ isLoading: true });\n      const result = await searchNotion({\n        query,\n        ancestorId: rootBlockId\n      });\n      console.log(\"search\", query, result);\n      let searchResult = null;\n      let searchError = null;\n      if (result.error || result.errorId) {\n        searchError = result;\n      } else {\n        searchResult = { ...result };\n        const results = searchResult.results.map((result2) => {\n          var _a, _b;\n          const block = (_a = searchResult.recordMap.block[result2.id]) == null ? void 0 : _a.value;\n          if (!block) return;\n          const title = getBlockTitle3(block, searchResult.recordMap);\n          if (!title) {\n            return;\n          }\n          result2.title = title;\n          result2.block = block;\n          result2.recordMap = searchResult.recordMap;\n          result2.page = getBlockParentPage(block, searchResult.recordMap, {\n            inclusive: true\n          }) || block;\n          if (!result2.page.id) {\n            return;\n          }\n          if ((_b = result2.highlight) == null ? void 0 : _b.text) {\n            result2.highlight.html = result2.highlight.text.replaceAll(/<gzknfouu>/gi, \"<b>\").replaceAll(/<\\/gzknfouu>/gi, \"</b>\");\n          }\n          return result2;\n        }).filter(Boolean);\n        const searchResultsMap = Object.fromEntries(\n          results.map((result2) => [result2.page.id, result2])\n        );\n        searchResult.results = Object.values(searchResultsMap);\n      }\n      if (this.state.query === query) {\n        this.setState({ isLoading: false, searchResult, searchError });\n      }\n    });\n    this._inputRef = React14.createRef();\n  }\n  componentDidMount() {\n    this._search = (0, import_lodash.default)(this._searchImpl.bind(this), 1e3);\n    void this._warmupSearch();\n  }\n  render() {\n    const { isOpen, onClose } = this.props;\n    const { isLoading, query, searchResult, searchError } = this.state;\n    const hasQuery = !!query.trim();\n    return /* @__PURE__ */ jsx22(NotionContextConsumer, { children: (ctx2) => {\n      const { components, defaultPageIcon, mapPageUrl } = ctx2;\n      return /* @__PURE__ */ jsx22(\n        components.Modal,\n        {\n          isOpen,\n          contentLabel: \"Search\",\n          className: \"notion-search\",\n          overlayClassName: \"notion-search-overlay\",\n          onRequestClose: onClose,\n          onAfterOpen: this._onAfterOpen,\n          children: /* @__PURE__ */ jsxs9(\"div\", { className: \"quickFindMenu\", children: [\n            /* @__PURE__ */ jsxs9(\"div\", { className: \"searchBar\", children: [\n              /* @__PURE__ */ jsx22(\"div\", { className: \"inlineIcon\", children: isLoading ? /* @__PURE__ */ jsx22(LoadingIcon, { className: \"loadingIcon\" }) : /* @__PURE__ */ jsx22(SearchIcon, {}) }),\n              /* @__PURE__ */ jsx22(\n                \"input\",\n                {\n                  className: \"searchInput\",\n                  placeholder: \"Search\",\n                  value: query,\n                  ref: this._inputRef,\n                  onChange: this._onChangeQuery\n                }\n              ),\n              query && /* @__PURE__ */ jsx22(\n                \"div\",\n                {\n                  role: \"button\",\n                  className: \"clearButton\",\n                  onClick: this._onClearQuery,\n                  children: /* @__PURE__ */ jsx22(ClearIcon, { className: \"clearIcon\" })\n                }\n              )\n            ] }),\n            hasQuery && searchResult && /* @__PURE__ */ jsx22(Fragment4, { children: searchResult.results.length ? /* @__PURE__ */ jsxs9(\n              NotionContextProvider,\n              {\n                ...ctx2,\n                recordMap: searchResult.recordMap,\n                children: [\n                  /* @__PURE__ */ jsx22(\"div\", { className: \"resultsPane\", children: searchResult.results.map((result) => {\n                    var _a;\n                    return /* @__PURE__ */ jsxs9(\n                      components.PageLink,\n                      {\n                        className: cs(\"result\", \"notion-page-link\"),\n                        href: mapPageUrl(\n                          result.page.id,\n                          // TODO\n                          searchResult.recordMap\n                        ),\n                        children: [\n                          /* @__PURE__ */ jsx22(\n                            PageTitle,\n                            {\n                              block: result.page,\n                              defaultIcon: defaultPageIcon\n                            }\n                          ),\n                          ((_a = result.highlight) == null ? void 0 : _a.html) && /* @__PURE__ */ jsx22(\n                            \"div\",\n                            {\n                              className: \"notion-search-result-highlight\",\n                              dangerouslySetInnerHTML: {\n                                __html: result.highlight.html\n                              }\n                            }\n                          )\n                        ]\n                      },\n                      result.id\n                    );\n                  }) }),\n                  /* @__PURE__ */ jsx22(\"footer\", { className: \"resultsFooter\", children: /* @__PURE__ */ jsxs9(\"div\", { children: [\n                    /* @__PURE__ */ jsx22(\"span\", { className: \"resultsCount\", children: searchResult.total }),\n                    searchResult.total === 1 ? \" result\" : \" results\"\n                  ] }) })\n                ]\n              }\n            ) : /* @__PURE__ */ jsxs9(\"div\", { className: \"noResultsPane\", children: [\n              /* @__PURE__ */ jsx22(\"div\", { className: \"noResults\", children: \"No results\" }),\n              /* @__PURE__ */ jsx22(\"div\", { className: \"noResultsDetail\", children: \"Try different search terms\" })\n            ] }) }),\n            hasQuery && !searchResult && searchError && /* @__PURE__ */ jsx22(\"div\", { className: \"noResultsPane\", children: /* @__PURE__ */ jsx22(\"div\", { className: \"noResults\", children: \"Search error\" }) })\n          ] })\n        }\n      );\n    } });\n  }\n};\n\n// src/components/header.tsx\nimport { Fragment as Fragment5, jsx as jsx23, jsxs as jsxs10 } from \"react/jsx-runtime\";\nfunction Header({\n  block\n}) {\n  return /* @__PURE__ */ jsx23(\"header\", { className: \"notion-header\", children: /* @__PURE__ */ jsxs10(\"div\", { className: \"notion-nav-header\", children: [\n    /* @__PURE__ */ jsx23(Breadcrumbs, { block }),\n    /* @__PURE__ */ jsx23(Search, { block })\n  ] }) });\n}\nfunction Breadcrumbs({\n  block,\n  rootOnly = false\n}) {\n  const { recordMap, mapPageUrl, components } = useNotionContext();\n  const breadcrumbs = React15.useMemo(() => {\n    const tempBreadcrumbs = getPageBreadcrumbs(recordMap, block.id);\n    if (rootOnly) {\n      return [tempBreadcrumbs == null ? void 0 : tempBreadcrumbs[0]].filter(Boolean);\n    }\n    return tempBreadcrumbs;\n  }, [recordMap, block.id, rootOnly]);\n  return /* @__PURE__ */ jsx23(\"div\", { className: \"breadcrumbs\", children: breadcrumbs == null ? void 0 : breadcrumbs.map((breadcrumb, index) => {\n    if (!breadcrumb) {\n      return null;\n    }\n    const pageLinkProps = {};\n    const componentMap = {\n      pageLink: components.PageLink\n    };\n    if (breadcrumb.active) {\n      componentMap.pageLink = (props) => /* @__PURE__ */ jsx23(\"div\", { ...props });\n    } else {\n      pageLinkProps.href = mapPageUrl(breadcrumb.pageId);\n    }\n    return /* @__PURE__ */ jsxs10(React15.Fragment, { children: [\n      /* @__PURE__ */ jsxs10(\n        componentMap.pageLink,\n        {\n          className: cs(\"breadcrumb\", breadcrumb.active && \"active\"),\n          ...pageLinkProps,\n          children: [\n            breadcrumb.icon && /* @__PURE__ */ jsx23(PageIcon, { className: \"icon\", block: breadcrumb.block }),\n            breadcrumb.title && /* @__PURE__ */ jsx23(\"span\", { className: \"title\", children: breadcrumb.title })\n          ]\n        }\n      ),\n      index < breadcrumbs.length - 1 && /* @__PURE__ */ jsx23(\"span\", { className: \"spacer\", children: \"/\" })\n    ] }, breadcrumb.pageId);\n  }) }, \"breadcrumbs\");\n}\nfunction Search({\n  block,\n  search,\n  title = \"Search\"\n}) {\n  const { searchNotion, rootPageId, isShowingSearch, onHideSearch } = useNotionContext();\n  const onSearchNotion = search || searchNotion;\n  const [isSearchOpen, setIsSearchOpen] = React15.useState(isShowingSearch);\n  React15.useEffect(() => {\n    setIsSearchOpen(isShowingSearch);\n  }, [isShowingSearch]);\n  const onOpenSearch = React15.useCallback(() => {\n    setIsSearchOpen(true);\n  }, []);\n  const onCloseSearch = React15.useCallback(() => {\n    setIsSearchOpen(false);\n    if (onHideSearch) {\n      onHideSearch();\n    }\n  }, [onHideSearch]);\n  useHotkeys(\"cmd+p\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  useHotkeys(\"cmd+k\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  const hasSearch = !!onSearchNotion;\n  return /* @__PURE__ */ jsxs10(Fragment5, { children: [\n    hasSearch && /* @__PURE__ */ jsxs10(\n      \"div\",\n      {\n        role: \"button\",\n        className: cs(\"breadcrumb\", \"button\", \"notion-search-button\"),\n        onClick: onOpenSearch,\n        children: [\n          /* @__PURE__ */ jsx23(SearchIcon, { className: \"searchIcon\" }),\n          title && /* @__PURE__ */ jsx23(\"span\", { className: \"title\", children: title })\n        ]\n      }\n    ),\n    isSearchOpen && hasSearch && /* @__PURE__ */ jsx23(\n      SearchDialog,\n      {\n        isOpen: isSearchOpen,\n        rootBlockId: rootPageId || (block == null ? void 0 : block.id),\n        onClose: onCloseSearch,\n        searchNotion: onSearchNotion\n      }\n    )\n  ] });\n}\n\n// src/renderer.tsx\nimport mediumZoom from \"@fisch0920/medium-zoom\";\nimport \"notion-types\";\nimport * as React20 from \"react\";\n\n// src/block.tsx\nimport {\n  getBlockCollectionId,\n  getBlockIcon as getBlockIcon2,\n  getBlockParentPage as getBlockParentPage2,\n  getPageTableOfContents,\n  getTextContent as getTextContent2,\n  uuidToId as uuidToId2\n} from \"notion-utils\";\nimport React19 from \"react\";\n\n// src/components/audio.tsx\nimport \"notion-types\";\nimport { jsx as jsx24 } from \"react/jsx-runtime\";\nfunction Audio({\n  block,\n  className\n}) {\n  var _a, _b, _c;\n  const { recordMap } = useNotionContext();\n  let source = recordMap.signed_urls[block.id] || ((_c = (_b = (_a = block.properties) == null ? void 0 : _a.source) == null ? void 0 : _b[0]) == null ? void 0 : _c[0]);\n  if (!source) {\n    return null;\n  }\n  if (block.space_id) {\n    const url = new URL(source);\n    url.searchParams.set(\"spaceId\", block.space_id);\n    source = url.toString();\n  }\n  return /* @__PURE__ */ jsx24(\"div\", { className: cs(\"notion-audio\", className), children: /* @__PURE__ */ jsx24(\"audio\", { controls: true, preload: \"none\", src: source }) });\n}\n\n// src/components/file.tsx\nimport \"notion-types\";\n\n// src/icons/file-icon.tsx\nimport \"react\";\nimport { jsx as jsx25 } from \"react/jsx-runtime\";\nfunction FileIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ jsx25(\"svg\", { className, ...rest, viewBox: \"0 0 30 30\", children: /* @__PURE__ */ jsx25(\"path\", { d: \"M22,8v12c0,3.866-3.134,7-7,7s-7-3.134-7-7V8c0-2.762,2.238-5,5-5s5,2.238,5,5v12c0,1.657-1.343,3-3,3s-3-1.343-3-3V8h-2v12c0,2.762,2.238,5,5,5s5-2.238,5-5V8c0-3.866-3.134-7-7-7S6,4.134,6,8v12c0,4.971,4.029,9,9,9s9-4.029,9-9V8H22z\" }) });\n}\n\n// src/components/file.tsx\nimport { jsx as jsx26, jsxs as jsxs11 } from \"react/jsx-runtime\";\nfunction File({\n  block,\n  className\n}) {\n  var _a, _b, _c, _d, _e;\n  const { components, recordMap } = useNotionContext();\n  let source = recordMap.signed_urls[block.id] || ((_c = (_b = (_a = block.properties) == null ? void 0 : _a.source) == null ? void 0 : _b[0]) == null ? void 0 : _c[0]);\n  if (!source) {\n    return null;\n  }\n  if (block.space_id) {\n    const url = new URL(source);\n    url.searchParams.set(\"spaceId\", block.space_id);\n    source = url.toString();\n  }\n  return /* @__PURE__ */ jsx26(\"div\", { className: cs(\"notion-file\", className), children: /* @__PURE__ */ jsxs11(\n    components.Link,\n    {\n      className: \"notion-file-link\",\n      href: source,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      children: [\n        /* @__PURE__ */ jsx26(FileIcon, { className: \"notion-file-icon\" }),\n        /* @__PURE__ */ jsxs11(\"div\", { className: \"notion-file-info\", children: [\n          /* @__PURE__ */ jsx26(\"div\", { className: \"notion-file-title\", children: /* @__PURE__ */ jsx26(Text, { value: ((_d = block.properties) == null ? void 0 : _d.title) || [[\"File\"]], block }) }),\n          ((_e = block.properties) == null ? void 0 : _e.size) && /* @__PURE__ */ jsx26(\"div\", { className: \"notion-file-size\", children: /* @__PURE__ */ jsx26(Text, { value: block.properties.size, block }) })\n        ] })\n      ]\n    }\n  ) });\n}\n\n// src/components/google-drive.tsx\nimport \"notion-types\";\nimport { jsx as jsx27, jsxs as jsxs12 } from \"react/jsx-runtime\";\nfunction GoogleDrive({\n  block,\n  className\n}) {\n  var _a;\n  const { components, mapImageUrl } = useNotionContext();\n  const properties = (_a = block.format) == null ? void 0 : _a.drive_properties;\n  if (!properties) return null;\n  let domain;\n  try {\n    const url = new URL(properties.url);\n    domain = url.hostname;\n  } catch (e) {\n  }\n  return /* @__PURE__ */ jsx27(\"div\", { className: cs(\"notion-google-drive\", className), children: /* @__PURE__ */ jsxs12(\n    components.Link,\n    {\n      className: \"notion-google-drive-link\",\n      href: properties.url,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      children: [\n        /* @__PURE__ */ jsx27(\"div\", { className: \"notion-google-drive-preview\", children: /* @__PURE__ */ jsx27(\n          GracefulImage,\n          {\n            src: mapImageUrl(properties.thumbnail, block),\n            alt: properties.title || \"Google Drive Document\",\n            loading: \"lazy\"\n          }\n        ) }),\n        /* @__PURE__ */ jsxs12(\"div\", { className: \"notion-google-drive-body\", children: [\n          properties.title && /* @__PURE__ */ jsx27(\"div\", { className: \"notion-google-drive-body-title\", children: properties.title }),\n          properties.icon && domain && /* @__PURE__ */ jsxs12(\"div\", { className: \"notion-google-drive-body-source\", children: [\n            properties.icon && /* @__PURE__ */ jsx27(\n              \"div\",\n              {\n                className: \"notion-google-drive-body-source-icon\",\n                style: {\n                  backgroundImage: `url(${properties.icon})`\n                }\n              }\n            ),\n            domain && /* @__PURE__ */ jsx27(\"div\", { className: \"notion-google-drive-body-source-domain\", children: domain })\n          ] })\n        ] })\n      ]\n    }\n  ) });\n}\n\n// src/components/page-aside.tsx\nvar import_lodash2 = __toESM(require_lodash(), 1);\nimport { uuidToId } from \"notion-utils\";\nimport React17 from \"react\";\nimport { jsx as jsx28, jsxs as jsxs13 } from \"react/jsx-runtime\";\nfunction PageAside({\n  toc,\n  activeSection,\n  setActiveSection,\n  pageAside,\n  hasToc,\n  hasAside,\n  className\n}) {\n  const throttleMs = 100;\n  const actionSectionScrollSpy = React17.useMemo(\n    () => (0, import_lodash2.default)(() => {\n      const sections = document.getElementsByClassName(\"notion-h\");\n      let prevBBox = null;\n      let currentSectionId = activeSection;\n      for (const section of sections) {\n        if (!section || !(section instanceof Element)) continue;\n        if (!currentSectionId) {\n          currentSectionId = section.dataset.id;\n        }\n        const bbox = section.getBoundingClientRect();\n        const prevHeight = prevBBox ? bbox.top - prevBBox.bottom : 0;\n        const offset = Math.max(150, prevHeight / 4);\n        if (bbox.top - offset < 0) {\n          currentSectionId = section.dataset.id;\n          prevBBox = bbox;\n          continue;\n        }\n        break;\n      }\n      setActiveSection(currentSectionId);\n    }, throttleMs),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      // explicitly not taking a dependency on activeSection\n      setActiveSection\n    ]\n  );\n  React17.useEffect(() => {\n    if (!hasToc) {\n      return;\n    }\n    window.addEventListener(\"scroll\", actionSectionScrollSpy);\n    actionSectionScrollSpy();\n    return () => {\n      window.removeEventListener(\"scroll\", actionSectionScrollSpy);\n    };\n  }, [hasToc, actionSectionScrollSpy]);\n  if (!hasAside) {\n    return null;\n  }\n  return /* @__PURE__ */ jsxs13(\"aside\", { className: cs(\"notion-aside\", className), children: [\n    hasToc && /* @__PURE__ */ jsxs13(\"div\", { className: \"notion-aside-table-of-contents\", children: [\n      /* @__PURE__ */ jsx28(\"div\", { className: \"notion-aside-table-of-contents-header\", children: \"Table of Contents\" }),\n      /* @__PURE__ */ jsx28(\"nav\", { className: \"notion-table-of-contents\", children: toc.map((tocItem) => {\n        const id = uuidToId(tocItem.id);\n        return /* @__PURE__ */ jsx28(\n          \"a\",\n          {\n            href: `#${id}`,\n            className: cs(\n              \"notion-table-of-contents-item\",\n              `notion-table-of-contents-item-indent-level-${tocItem.indentLevel}`,\n              activeSection === id && \"notion-table-of-contents-active-item\"\n            ),\n            children: /* @__PURE__ */ jsx28(\n              \"span\",\n              {\n                className: \"notion-table-of-contents-item-body\",\n                style: {\n                  display: \"inline-block\",\n                  marginLeft: tocItem.indentLevel * 16\n                },\n                children: tocItem.text\n              }\n            )\n          },\n          id\n        );\n      }) })\n    ] }),\n    pageAside\n  ] });\n}\n\n// src/components/sync-pointer-block.tsx\nimport \"notion-types\";\nimport { jsx as jsx29 } from \"react/jsx-runtime\";\nfunction SyncPointerBlock({\n  block,\n  level\n}) {\n  var _a, _b;\n  if (!block) {\n    if (true) {\n      console.warn(\"missing sync pointer block\");\n    }\n    return null;\n  }\n  const syncPointerBlock = block;\n  const referencePointerId = (_b = (_a = syncPointerBlock == null ? void 0 : syncPointerBlock.format) == null ? void 0 : _a.transclusion_reference_pointer) == null ? void 0 : _b.id;\n  if (!referencePointerId) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx29(\n    NotionBlockRenderer,\n    {\n      level,\n      blockId: referencePointerId\n    },\n    referencePointerId\n  );\n}\n\n// src/icons/link-icon.tsx\nimport \"react\";\nimport { jsx as jsx30 } from \"react/jsx-runtime\";\nfunction LinkIcon(props) {\n  const { className, ...rest } = props;\n  return /* @__PURE__ */ jsx30(\n    \"svg\",\n    {\n      className,\n      ...rest,\n      viewBox: \"0 0 16 16\",\n      width: \"16\",\n      height: \"16\",\n      children: /* @__PURE__ */ jsx30(\n        \"path\",\n        {\n          fillRule: \"evenodd\",\n          d: \"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"\n        }\n      )\n    }\n  );\n}\n\n// src/block.tsx\nimport { Fragment as Fragment6, jsx as jsx31, jsxs as jsxs14 } from \"react/jsx-runtime\";\nvar tocIndentLevelCache = {};\nvar pageCoverStyleCache = {};\nfunction Block(props) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D, _E, _F, _G, _H, _I, _J, _K, _L, _M, _N, _O, _P, _Q, _R, _S, _T;\n  const ctx2 = useNotionContext();\n  const {\n    components,\n    fullPage,\n    darkMode,\n    recordMap,\n    mapPageUrl,\n    mapImageUrl,\n    showTableOfContents,\n    minTableOfContentsItems,\n    defaultPageIcon,\n    defaultPageCover,\n    defaultPageCoverPosition\n  } = ctx2;\n  const [activeSection, setActiveSection] = React19.useState(null);\n  const {\n    block,\n    children,\n    level,\n    className,\n    bodyClassName,\n    header,\n    footer,\n    pageHeader,\n    pageFooter,\n    pageTitle,\n    pageAside,\n    pageCover,\n    hideBlockId,\n    disableHeader\n  } = props;\n  if (!block) {\n    return null;\n  }\n  if (level === 0 && block.type === \"collection_view\") {\n    ;\n    block.type = \"collection_view_page\";\n  }\n  const blockId = hideBlockId ? \"notion-block\" : `notion-block-${uuidToId2(block.id)}`;\n  switch (block.type) {\n    case \"collection_view_page\":\n    // fallthrough\n    case \"page\":\n      if (level === 0) {\n        const {\n          page_icon = defaultPageIcon,\n          page_cover = defaultPageCover,\n          page_cover_position = defaultPageCoverPosition,\n          page_full_width,\n          page_small_text\n        } = block.format || {};\n        if (fullPage) {\n          const properties = block.type === \"page\" ? block.properties : {\n            title: (_b = (_a = recordMap.collection[getBlockCollectionId(block, recordMap)]) == null ? void 0 : _a.value) == null ? void 0 : _b.name\n          };\n          const coverPosition = (1 - (page_cover_position || 0.5)) * 100;\n          const pageCoverObjectPosition = `center ${coverPosition}%`;\n          let pageCoverStyle = pageCoverStyleCache[pageCoverObjectPosition];\n          if (!pageCoverStyle) {\n            pageCoverStyle = pageCoverStyleCache[pageCoverObjectPosition] = {\n              objectPosition: pageCoverObjectPosition\n            };\n          }\n          const pageIcon = (_c = getBlockIcon2(block, recordMap)) != null ? _c : defaultPageIcon;\n          const isPageIconUrl = pageIcon && isUrl(pageIcon);\n          const toc = getPageTableOfContents(\n            block,\n            recordMap\n          );\n          const hasToc = showTableOfContents && toc.length >= minTableOfContentsItems;\n          const hasAside = !!((hasToc || pageAside) && !page_full_width);\n          const hasPageCover = !!(pageCover || page_cover);\n          return /* @__PURE__ */ jsxs14(\n            \"div\",\n            {\n              className: cs(\n                \"notion\",\n                \"notion-app\",\n                darkMode ? \"dark-mode\" : \"light-mode\",\n                blockId,\n                className\n              ),\n              children: [\n                /* @__PURE__ */ jsx31(\"div\", { className: \"notion-viewport\" }),\n                /* @__PURE__ */ jsxs14(\"div\", { className: \"notion-frame\", children: [\n                  !disableHeader && /* @__PURE__ */ jsx31(components.Header, { block }),\n                  header,\n                  /* @__PURE__ */ jsxs14(\"div\", { className: \"notion-page-scroller\", children: [\n                    hasPageCover && (pageCover != null ? pageCover : /* @__PURE__ */ jsx31(\"div\", { className: \"notion-page-cover-wrapper\", children: /* @__PURE__ */ jsx31(\n                      LazyImage,\n                      {\n                        src: mapImageUrl(page_cover, block),\n                        alt: getTextContent2(properties == null ? void 0 : properties.title),\n                        priority: true,\n                        className: \"notion-page-cover\",\n                        style: pageCoverStyle\n                      }\n                    ) })),\n                    /* @__PURE__ */ jsxs14(\n                      \"main\",\n                      {\n                        className: cs(\n                          \"notion-page\",\n                          hasPageCover ? \"notion-page-has-cover\" : \"notion-page-no-cover\",\n                          page_icon ? \"notion-page-has-icon\" : \"notion-page-no-icon\",\n                          isPageIconUrl ? \"notion-page-has-image-icon\" : \"notion-page-has-text-icon\",\n                          \"notion-full-page\",\n                          page_full_width && \"notion-full-width\",\n                          page_small_text && \"notion-small-text\",\n                          bodyClassName\n                        ),\n                        children: [\n                          page_icon && /* @__PURE__ */ jsx31(\n                            PageIcon,\n                            {\n                              block,\n                              defaultIcon: defaultPageIcon,\n                              inline: false\n                            }\n                          ),\n                          pageHeader,\n                          /* @__PURE__ */ jsx31(\"h1\", { className: \"notion-title\", children: pageTitle != null ? pageTitle : /* @__PURE__ */ jsx31(Text, { value: properties == null ? void 0 : properties.title, block }) }),\n                          (block.type === \"collection_view_page\" || block.type === \"page\" && block.parent_table === \"collection\") && /* @__PURE__ */ jsx31(components.Collection, { block, ctx: ctx2 }),\n                          block.type !== \"collection_view_page\" && /* @__PURE__ */ jsxs14(\n                            \"div\",\n                            {\n                              className: cs(\n                                \"notion-page-content\",\n                                hasAside && \"notion-page-content-has-aside\",\n                                hasToc && \"notion-page-content-has-toc\"\n                              ),\n                              children: [\n                                /* @__PURE__ */ jsx31(\"article\", { className: \"notion-page-content-inner\", children }),\n                                hasAside && /* @__PURE__ */ jsx31(\n                                  PageAside,\n                                  {\n                                    toc,\n                                    activeSection,\n                                    setActiveSection,\n                                    hasToc,\n                                    hasAside,\n                                    pageAside\n                                  }\n                                )\n                              ]\n                            }\n                          ),\n                          pageFooter\n                        ]\n                      }\n                    ),\n                    footer\n                  ] })\n                ] })\n              ]\n            }\n          );\n        } else {\n          return /* @__PURE__ */ jsxs14(\n            \"main\",\n            {\n              className: cs(\n                \"notion\",\n                darkMode ? \"dark-mode\" : \"light-mode\",\n                \"notion-page\",\n                page_full_width && \"notion-full-width\",\n                page_small_text && \"notion-small-text\",\n                blockId,\n                className,\n                bodyClassName\n              ),\n              children: [\n                /* @__PURE__ */ jsx31(\"div\", { className: \"notion-viewport\" }),\n                pageHeader,\n                (block.type === \"collection_view_page\" || block.type === \"page\" && block.parent_table === \"collection\") && /* @__PURE__ */ jsx31(components.Collection, { block, ctx: ctx2 }),\n                block.type !== \"collection_view_page\" && children,\n                pageFooter\n              ]\n            }\n          );\n        }\n      } else {\n        const blockColor = (_d = block.format) == null ? void 0 : _d.block_color;\n        return /* @__PURE__ */ jsx31(\n          components.PageLink,\n          {\n            className: cs(\n              \"notion-page-link\",\n              blockColor && `notion-${blockColor}`,\n              blockId\n            ),\n            href: mapPageUrl(block.id),\n            children: /* @__PURE__ */ jsx31(PageTitle, { block })\n          }\n        );\n      }\n    case \"header\":\n    // fallthrough\n    case \"sub_header\":\n    // fallthrough\n    case \"sub_sub_header\": {\n      if (!block.properties) return null;\n      const blockColor = (_e = block.format) == null ? void 0 : _e.block_color;\n      const id = uuidToId2(block.id);\n      const title = getTextContent2(block.properties.title) || `Notion Header ${id}`;\n      let indentLevel = tocIndentLevelCache[block.id];\n      let indentLevelClass;\n      if (indentLevel === void 0) {\n        const page = getBlockParentPage2(block, recordMap);\n        if (page) {\n          const toc = getPageTableOfContents(page, recordMap);\n          const tocItem = toc.find((tocItem2) => tocItem2.id === block.id);\n          if (tocItem) {\n            indentLevel = tocItem.indentLevel;\n            tocIndentLevelCache[block.id] = indentLevel;\n          }\n        }\n      }\n      if (indentLevel !== void 0) {\n        indentLevelClass = `notion-h-indent-${indentLevel}`;\n      }\n      const isH1 = block.type === \"header\";\n      const isH2 = block.type === \"sub_header\";\n      const isH3 = block.type === \"sub_sub_header\";\n      const classNameStr = cs(\n        isH1 && \"notion-h notion-h1\",\n        isH2 && \"notion-h notion-h2\",\n        isH3 && \"notion-h notion-h3\",\n        blockColor && `notion-${blockColor}`,\n        indentLevelClass,\n        blockId\n      );\n      const innerHeader = /* @__PURE__ */ jsxs14(\"span\", { children: [\n        /* @__PURE__ */ jsx31(\"div\", { id, className: \"notion-header-anchor\" }),\n        !((_f = block.format) == null ? void 0 : _f.toggleable) && /* @__PURE__ */ jsx31(\"a\", { className: \"notion-hash-link\", href: `#${id}`, title, children: /* @__PURE__ */ jsx31(LinkIcon, {}) }),\n        /* @__PURE__ */ jsx31(\"span\", { className: \"notion-h-title\", children: /* @__PURE__ */ jsx31(Text, { value: block.properties.title, block }) })\n      ] });\n      let headerBlock = null;\n      if (isH1) {\n        headerBlock = /* @__PURE__ */ jsx31(\"h2\", { className: classNameStr, \"data-id\": id, children: innerHeader });\n      } else if (isH2) {\n        headerBlock = /* @__PURE__ */ jsx31(\"h3\", { className: classNameStr, \"data-id\": id, children: innerHeader });\n      } else {\n        headerBlock = /* @__PURE__ */ jsx31(\"h4\", { className: classNameStr, \"data-id\": id, children: innerHeader });\n      }\n      if ((_g = block.format) == null ? void 0 : _g.toggleable) {\n        return /* @__PURE__ */ jsxs14(\"details\", { className: cs(\"notion-toggle\", blockId), children: [\n          /* @__PURE__ */ jsx31(\"summary\", { children: headerBlock }),\n          /* @__PURE__ */ jsx31(\"div\", { children })\n        ] });\n      } else {\n        return headerBlock;\n      }\n    }\n    case \"divider\":\n      return /* @__PURE__ */ jsx31(\"hr\", { className: cs(\"notion-hr\", blockId) });\n    case \"text\": {\n      if (!block.properties && !((_h = block.content) == null ? void 0 : _h.length)) {\n        return /* @__PURE__ */ jsx31(\"div\", { className: cs(\"notion-blank\", blockId), children: \"\\xA0\" });\n      }\n      const blockColor = (_i = block.format) == null ? void 0 : _i.block_color;\n      return /* @__PURE__ */ jsxs14(\n        \"div\",\n        {\n          className: cs(\n            \"notion-text\",\n            blockColor && `notion-${blockColor}`,\n            blockId\n          ),\n          children: [\n            ((_j = block.properties) == null ? void 0 : _j.title) && /* @__PURE__ */ jsx31(Text, { value: block.properties.title, block }),\n            children && /* @__PURE__ */ jsx31(\"div\", { className: \"notion-text-children\", children })\n          ]\n        }\n      );\n    }\n    case \"bulleted_list\":\n    // fallthrough\n    case \"numbered_list\": {\n      const wrapList = (content, start2) => block.type === \"bulleted_list\" ? /* @__PURE__ */ jsx31(\"ul\", { className: cs(\"notion-list\", \"notion-list-disc\", blockId), children: content }) : /* @__PURE__ */ jsx31(\n        \"ol\",\n        {\n          start: start2,\n          className: cs(\"notion-list\", \"notion-list-numbered\", blockId),\n          style: block.type === \"numbered_list\" ? {\n            listStyleType: getListStyle(\n              getListNestingLevel(block.id, recordMap.block)\n            )\n          } : void 0,\n          children: content\n        }\n      );\n      let output = null;\n      const isTopLevel = block.type !== ((_l = (_k = recordMap.block[block.parent_id]) == null ? void 0 : _k.value) == null ? void 0 : _l.type);\n      const start = getListNumber(block.id, recordMap.block);\n      if (block.content) {\n        const listItem = block.properties ? /* @__PURE__ */ jsx31(\"li\", { children: /* @__PURE__ */ jsx31(Text, { value: block.properties.title, block }) }) : null;\n        if (block.type === \"bulleted_list\") {\n          output = /* @__PURE__ */ jsxs14(Fragment6, { children: [\n            listItem,\n            /* @__PURE__ */ jsx31(\"ul\", { className: cs(\"notion-list\", \"notion-list-disc\", blockId), children })\n          ] });\n        } else {\n          const nestingLevel = getListNestingLevel(block.id, recordMap.block);\n          output = /* @__PURE__ */ jsxs14(Fragment6, { children: [\n            listItem,\n            /* @__PURE__ */ jsx31(\n              \"ol\",\n              {\n                className: cs(\"notion-list\", \"notion-list-numbered\", blockId),\n                style: {\n                  listStyleType: getListStyle(nestingLevel + 1)\n                },\n                children\n              }\n            )\n          ] });\n        }\n      } else {\n        output = block.properties ? /* @__PURE__ */ jsx31(\"li\", { children: /* @__PURE__ */ jsx31(Text, { value: block.properties.title, block }) }) : null;\n      }\n      return isTopLevel ? wrapList(output, start) : output;\n    }\n    case \"embed\":\n      return /* @__PURE__ */ jsx31(components.Embed, { blockId, block });\n    case \"replit\":\n    // fallthrough\n    case \"tweet\":\n    // fallthrough\n    case \"maps\":\n    // fallthrough\n    case \"pdf\":\n    // fallthrough\n    case \"figma\":\n    // fallthrough\n    case \"typeform\":\n    // fallthrough\n    case \"codepen\":\n    // fallthrough\n    case \"excalidraw\":\n    // fallthrough\n    case \"image\":\n    // fallthrough\n    case \"gist\":\n    // fallthrough\n    case \"video\":\n      return /* @__PURE__ */ jsx31(AssetWrapper, { blockId, block });\n    case \"drive\": {\n      const properties = (_m = block.format) == null ? void 0 : _m.drive_properties;\n      if (!properties) {\n        if ((_n = block.format) == null ? void 0 : _n.display_source) {\n          return /* @__PURE__ */ jsx31(AssetWrapper, { blockId, block });\n        }\n      }\n      return /* @__PURE__ */ jsx31(\n        GoogleDrive,\n        {\n          block,\n          className: blockId\n        }\n      );\n    }\n    case \"audio\":\n      return /* @__PURE__ */ jsx31(Audio, { block, className: blockId });\n    case \"file\":\n      return /* @__PURE__ */ jsx31(File, { block, className: blockId });\n    case \"equation\":\n      return /* @__PURE__ */ jsx31(\n        components.Equation,\n        {\n          block,\n          inline: false,\n          className: blockId\n        }\n      );\n    case \"code\":\n      return /* @__PURE__ */ jsx31(components.Code, { block });\n    case \"column_list\":\n      return /* @__PURE__ */ jsx31(\"div\", { className: cs(\"notion-row\", blockId), children });\n    case \"column\": {\n      const spacerWidth = `min(32px, 4vw)`;\n      const ratio = ((_o = block.format) == null ? void 0 : _o.column_ratio) || 0.5;\n      const parent = (_p = recordMap.block[block.parent_id]) == null ? void 0 : _p.value;\n      const columns = ((_q = parent == null ? void 0 : parent.content) == null ? void 0 : _q.length) || Math.max(2, Math.ceil(1 / ratio));\n      const width = `calc((100% - (${columns - 1} * ${spacerWidth})) * ${ratio})`;\n      const style = { width };\n      return /* @__PURE__ */ jsxs14(Fragment6, { children: [\n        /* @__PURE__ */ jsx31(\"div\", { className: cs(\"notion-column\", blockId), style, children }),\n        /* @__PURE__ */ jsx31(\"div\", { className: \"notion-spacer\" })\n      ] });\n    }\n    case \"quote\": {\n      if (!block.properties) return null;\n      const blockColor = (_r = block.format) == null ? void 0 : _r.block_color;\n      return /* @__PURE__ */ jsxs14(\n        \"blockquote\",\n        {\n          className: cs(\n            \"notion-quote\",\n            blockColor && `notion-${blockColor}`,\n            blockId\n          ),\n          children: [\n            /* @__PURE__ */ jsx31(\"div\", { children: /* @__PURE__ */ jsx31(Text, { value: block.properties.title, block }) }),\n            children\n          ]\n        }\n      );\n    }\n    case \"collection_view\":\n      return /* @__PURE__ */ jsx31(components.Collection, { block, className: blockId, ctx: ctx2 });\n    case \"callout\":\n      if (components.Callout) {\n        return /* @__PURE__ */ jsx31(components.Callout, { block, className: blockId });\n      } else {\n        return /* @__PURE__ */ jsxs14(\n          \"div\",\n          {\n            className: cs(\n              \"notion-callout\",\n              ((_s = block.format) == null ? void 0 : _s.block_color) && `notion-${(_t = block.format) == null ? void 0 : _t.block_color}_co`,\n              blockId\n            ),\n            children: [\n              /* @__PURE__ */ jsx31(PageIcon, { block, hideDefaultIcon: true }),\n              /* @__PURE__ */ jsxs14(\"div\", { className: \"notion-callout-text\", children: [\n                /* @__PURE__ */ jsx31(Text, { value: (_u = block.properties) == null ? void 0 : _u.title, block }),\n                children\n              ] })\n            ]\n          }\n        );\n      }\n    case \"bookmark\": {\n      if (!block.properties) return null;\n      const link = block.properties.link;\n      if (!link || !((_v = link[0]) == null ? void 0 : _v[0])) return null;\n      let title = getTextContent2(block.properties.title);\n      if (!title) {\n        title = getTextContent2(link);\n      }\n      if (title) {\n        if (title.startsWith(\"http\")) {\n          try {\n            const url = new URL(title);\n            title = url.hostname;\n          } catch (e) {\n          }\n        }\n      }\n      return /* @__PURE__ */ jsx31(\"div\", { className: \"notion-row\", children: /* @__PURE__ */ jsxs14(\n        components.Link,\n        {\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: cs(\n            \"notion-bookmark\",\n            ((_w = block.format) == null ? void 0 : _w.block_color) && `notion-${block.format.block_color}`,\n            blockId\n          ),\n          href: link[0][0],\n          children: [\n            /* @__PURE__ */ jsxs14(\"div\", { children: [\n              title && /* @__PURE__ */ jsx31(\"div\", { className: \"notion-bookmark-title\", children: /* @__PURE__ */ jsx31(Text, { value: [[title]], block }) }),\n              ((_x = block.properties) == null ? void 0 : _x.description) && /* @__PURE__ */ jsx31(\"div\", { className: \"notion-bookmark-description\", children: /* @__PURE__ */ jsx31(Text, { value: (_y = block.properties) == null ? void 0 : _y.description, block }) }),\n              /* @__PURE__ */ jsxs14(\"div\", { className: \"notion-bookmark-link\", children: [\n                ((_z = block.format) == null ? void 0 : _z.bookmark_icon) && /* @__PURE__ */ jsx31(\"div\", { className: \"notion-bookmark-link-icon\", children: /* @__PURE__ */ jsx31(\n                  LazyImage,\n                  {\n                    src: mapImageUrl((_A = block.format) == null ? void 0 : _A.bookmark_icon, block),\n                    alt: title\n                  }\n                ) }),\n                /* @__PURE__ */ jsx31(\"div\", { className: \"notion-bookmark-link-text\", children: /* @__PURE__ */ jsx31(Text, { value: link, block }) })\n              ] })\n            ] }),\n            ((_B = block.format) == null ? void 0 : _B.bookmark_cover) && /* @__PURE__ */ jsx31(\"div\", { className: \"notion-bookmark-image\", children: /* @__PURE__ */ jsx31(\n              LazyImage,\n              {\n                src: mapImageUrl((_C = block.format) == null ? void 0 : _C.bookmark_cover, block),\n                alt: getTextContent2((_D = block.properties) == null ? void 0 : _D.title),\n                style: {\n                  objectFit: \"cover\"\n                }\n              }\n            ) })\n          ]\n        }\n      ) });\n    }\n    case \"toggle\":\n      return /* @__PURE__ */ jsxs14(\"details\", { className: cs(\"notion-toggle\", blockId), children: [\n        /* @__PURE__ */ jsx31(\"summary\", { children: /* @__PURE__ */ jsx31(Text, { value: (_E = block.properties) == null ? void 0 : _E.title, block }) }),\n        /* @__PURE__ */ jsx31(\"div\", { children })\n      ] });\n    case \"table_of_contents\": {\n      const page = getBlockParentPage2(block, recordMap);\n      if (!page) return null;\n      const toc = getPageTableOfContents(page, recordMap);\n      const blockColor = (_F = block.format) == null ? void 0 : _F.block_color;\n      return /* @__PURE__ */ jsx31(\n        \"div\",\n        {\n          className: cs(\n            \"notion-table-of-contents\",\n            blockColor && `notion-${blockColor}`,\n            blockId\n          ),\n          children: toc.map((tocItem) => /* @__PURE__ */ jsx31(\n            \"a\",\n            {\n              href: `#${uuidToId2(tocItem.id)}`,\n              className: \"notion-table-of-contents-item\",\n              children: /* @__PURE__ */ jsx31(\n                \"span\",\n                {\n                  className: \"notion-table-of-contents-item-body\",\n                  style: {\n                    display: \"inline-block\",\n                    marginLeft: tocItem.indentLevel * 24\n                  },\n                  children: tocItem.text\n                }\n              )\n            },\n            tocItem.id\n          ))\n        }\n      );\n    }\n    case \"to_do\": {\n      const isChecked = ((_I = (_H = (_G = block.properties) == null ? void 0 : _G.checked) == null ? void 0 : _H[0]) == null ? void 0 : _I[0]) === \"Yes\";\n      return /* @__PURE__ */ jsxs14(\"div\", { className: cs(\"notion-to-do\", blockId), children: [\n        /* @__PURE__ */ jsxs14(\"div\", { className: \"notion-to-do-item\", children: [\n          /* @__PURE__ */ jsx31(components.Checkbox, { blockId, isChecked }),\n          /* @__PURE__ */ jsx31(\n            \"div\",\n            {\n              className: cs(\n                \"notion-to-do-body\",\n                isChecked && `notion-to-do-checked`\n              ),\n              children: /* @__PURE__ */ jsx31(Text, { value: (_J = block.properties) == null ? void 0 : _J.title, block })\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsx31(\"div\", { className: \"notion-to-do-children\", children })\n      ] });\n    }\n    case \"transclusion_container\":\n      return /* @__PURE__ */ jsx31(\"div\", { className: cs(\"notion-sync-block\", blockId), children });\n    case \"transclusion_reference\":\n      return /* @__PURE__ */ jsx31(SyncPointerBlock, { ...props, level: level + 1 });\n    case \"alias\": {\n      const blockPointerId = (_L = (_K = block == null ? void 0 : block.format) == null ? void 0 : _K.alias_pointer) == null ? void 0 : _L.id;\n      const linkedBlock = (_M = recordMap.block[blockPointerId]) == null ? void 0 : _M.value;\n      if (!linkedBlock) {\n        console.log('\"alias\" missing block', blockPointerId);\n        return null;\n      }\n      return /* @__PURE__ */ jsx31(\n        components.PageLink,\n        {\n          className: cs(\"notion-page-link\", blockPointerId),\n          href: mapPageUrl(blockPointerId),\n          children: /* @__PURE__ */ jsx31(PageTitle, { block: linkedBlock })\n        }\n      );\n    }\n    case \"table\":\n      return /* @__PURE__ */ jsx31(\"table\", { className: cs(\"notion-simple-table\", blockId), children: /* @__PURE__ */ jsx31(\"tbody\", { children }) });\n    case \"table_row\": {\n      const tableBlock = (_N = recordMap.block[block.parent_id]) == null ? void 0 : _N.value;\n      const order = (_O = tableBlock.format) == null ? void 0 : _O.table_block_column_order;\n      const formatMap = (_P = tableBlock.format) == null ? void 0 : _P.table_block_column_format;\n      const backgroundColor = (_Q = block.format) == null ? void 0 : _Q.block_color;\n      const hasRowHeader = ((_R = tableBlock.format) == null ? void 0 : _R.table_block_column_header) === true;\n      const hasColumnHeader = ((_S = tableBlock.format) == null ? void 0 : _S.table_block_row_header) === true;\n      const isHeaderRow = hasRowHeader && ((_T = tableBlock.content) == null ? void 0 : _T[0]) === block.id;\n      if (!tableBlock || !order) {\n        return null;\n      }\n      return /* @__PURE__ */ jsx31(\n        \"tr\",\n        {\n          className: cs(\n            \"notion-simple-table-row\",\n            backgroundColor && `notion-${backgroundColor}`,\n            isHeaderRow && \"notion-simple-table-header-row\",\n            blockId\n          ),\n          children: order.map((column, columnIndex) => {\n            var _a2, _b2, _c2;\n            const color = (_a2 = formatMap == null ? void 0 : formatMap[column]) == null ? void 0 : _a2.color;\n            const isHeaderColumn = hasColumnHeader && columnIndex === 0;\n            return /* @__PURE__ */ jsx31(\n              \"td\",\n              {\n                className: cs(\n                  color ? `notion-${color}` : \"\",\n                  isHeaderColumn && \"notion-simple-table-header-cell\"\n                ),\n                style: {\n                  width: ((_b2 = formatMap == null ? void 0 : formatMap[column]) == null ? void 0 : _b2.width) || 120\n                },\n                children: /* @__PURE__ */ jsx31(\"div\", { className: \"notion-simple-table-cell\", children: /* @__PURE__ */ jsx31(\n                  Text,\n                  {\n                    value: ((_c2 = block.properties) == null ? void 0 : _c2[column]) || [[\"\\u3164\"]],\n                    block\n                  }\n                ) })\n              },\n              column\n            );\n          })\n        }\n      );\n    }\n    case \"external_object_instance\":\n      return /* @__PURE__ */ jsx31(EOI, { block, className: blockId });\n    default:\n      if (true) {\n        console.log(\n          \"Unsupported block type \" + block.type,\n          JSON.stringify(block, null, 2)\n        );\n      }\n      return /* @__PURE__ */ jsx31(\"div\", {});\n  }\n}\n\n// src/renderer.tsx\nimport { jsx as jsx32 } from \"react/jsx-runtime\";\nfunction NotionRenderer({\n  components,\n  recordMap,\n  mapPageUrl,\n  mapImageUrl,\n  searchNotion,\n  isShowingSearch,\n  onHideSearch,\n  fullPage,\n  rootPageId,\n  rootDomain,\n  darkMode,\n  previewImages,\n  forceCustomImages,\n  showCollectionViewDropdown,\n  linkTableTitleProperties,\n  isLinkCollectionToUrlProperty,\n  isImageZoomable = true,\n  showTableOfContents,\n  minTableOfContentsItems,\n  defaultPageIcon,\n  defaultPageCover,\n  defaultPageCoverPosition,\n  ...rest\n}) {\n  const zoom = React20.useMemo(\n    () => !!globalThis.window && mediumZoom({\n      background: \"rgba(0, 0, 0, 0.8)\",\n      minZoomScale: 2,\n      margin: getMediumZoomMargin()\n    }),\n    []\n  );\n  return /* @__PURE__ */ jsx32(\n    NotionContextProvider,\n    {\n      components,\n      recordMap,\n      mapPageUrl,\n      mapImageUrl,\n      searchNotion,\n      isShowingSearch,\n      onHideSearch,\n      fullPage,\n      rootPageId,\n      rootDomain,\n      darkMode,\n      previewImages,\n      forceCustomImages,\n      showCollectionViewDropdown,\n      linkTableTitleProperties,\n      isLinkCollectionToUrlProperty,\n      showTableOfContents,\n      minTableOfContentsItems,\n      defaultPageIcon,\n      defaultPageCover,\n      defaultPageCoverPosition,\n      zoom: isImageZoomable ? zoom : null,\n      children: /* @__PURE__ */ jsx32(NotionBlockRenderer, { ...rest })\n    }\n  );\n}\nfunction NotionBlockRenderer({\n  level = 0,\n  blockId,\n  ...props\n}) {\n  var _a, _b;\n  const { recordMap } = useNotionContext();\n  const id = blockId || Object.keys(recordMap.block)[0];\n  const block = (_a = recordMap.block[id]) == null ? void 0 : _a.value;\n  if (!block) {\n    if (true) {\n      console.warn(\"missing block\", blockId);\n    }\n    return null;\n  }\n  return /* @__PURE__ */ jsx32(Block, { level, block, ...props, children: (_b = block == null ? void 0 : block.content) == null ? void 0 : _b.map((contentBlockId) => /* @__PURE__ */ jsx32(\n    NotionBlockRenderer,\n    {\n      blockId: contentBlockId,\n      level: level + 1,\n      ...props\n    },\n    contentBlockId\n  )) }, id);\n}\nfunction getMediumZoomMargin() {\n  const width = window.innerWidth;\n  if (width < 500) {\n    return 8;\n  } else if (width < 800) {\n    return 20;\n  } else if (width < 1280) {\n    return 30;\n  } else if (width < 1600) {\n    return 40;\n  } else if (width < 1920) {\n    return 48;\n  } else {\n    return 72;\n  }\n}\nexport {\n  Breadcrumbs,\n  Header,\n  NotionContextConsumer,\n  NotionContextProvider,\n  NotionRenderer,\n  PageIcon,\n  PageIconImpl,\n  Search,\n  Text,\n  cs,\n  dummyLink,\n  formatDate,\n  formatNotionDateTime,\n  getHashFragmentValue,\n  getListNestingLevel,\n  getListNumber,\n  getListStyle,\n  getUrlParams,\n  getYoutubeId,\n  isBrowser,\n  isUrl,\n  useNotionContext\n};\n//# sourceMappingURL=index.js.map","import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n","export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\tlet abortHandler;\n\n\tconst wrappedPromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tabortHandler = () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t};\n\n\t\t\tsignal.addEventListener('abort', abortHandler, {once: true});\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tpromise.then(resolve, reject);\n\t\t\treturn;\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError();\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve();\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message);\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\t\treject(timeoutError);\n\t\t\t}\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tconst cancelablePromise = wrappedPromise.finally(() => {\n\t\tcancelablePromise.clear();\n\t\tif (abortHandler && options.signal) {\n\t\t\toptions.signal.removeEventListener('abort', abortHandler);\n\t\t}\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n","export default function isUrl(string, {lenient = false} = {}) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\tstring = string.trim();\n\tif (string.includes(' ')) {\n\t\treturn false;\n\t}\n\n\ttry {\n\t\tnew URL(string); // eslint-disable-line no-new\n\t\treturn true;\n\t} catch {\n\t\tif (lenient) {\n\t\t\treturn isUrl(`https://${string}`);\n\t\t}\n\n\t\treturn false;\n\t}\n}\n","import mimicFunction from 'mimic-function';\nconst cacheStore = new WeakMap();\nconst cacheTimerStore = new WeakMap();\n/**\n[Memoize](https://en.wikipedia.org/wiki/Memoization) functions - An optimization used to speed up consecutive function calls by caching the result of calls with identical input.\n\n@param function_ - The function to be memoized.\n\n@example\n```\nimport memoize from 'memoize';\n\nlet index = 0;\nconst counter = () => ++index;\nconst memoized = memoize(counter);\n\nmemoized('foo');\n//=> 1\n\n// Cached as it's the same argument\nmemoized('foo');\n//=> 1\n\n// Not cached anymore as the arguments changed\nmemoized('bar');\n//=> 2\n\nmemoized('bar');\n//=> 2\n```\n*/\nexport default function memoize(function_, { cacheKey, cache = new Map(), maxAge, } = {}) {\n    if (maxAge === 0) {\n        return function_;\n    }\n    if (typeof maxAge === 'number') {\n        const maxSetIntervalValue = 2_147_483_647;\n        if (maxAge > maxSetIntervalValue) {\n            throw new TypeError(`The \\`maxAge\\` option cannot exceed ${maxSetIntervalValue}.`);\n        }\n        if (maxAge < 0) {\n            throw new TypeError('The `maxAge` option should not be a negative number.');\n        }\n    }\n    const memoized = function (...arguments_) {\n        const key = cacheKey ? cacheKey(arguments_) : arguments_[0];\n        const cacheItem = cache.get(key);\n        if (cacheItem) {\n            return cacheItem.data;\n        }\n        const result = function_.apply(this, arguments_);\n        const computedMaxAge = typeof maxAge === 'function' ? maxAge(...arguments_) : maxAge;\n        cache.set(key, {\n            data: result,\n            maxAge: computedMaxAge ? Date.now() + computedMaxAge : Number.POSITIVE_INFINITY,\n        });\n        if (computedMaxAge && computedMaxAge > 0 && computedMaxAge !== Number.POSITIVE_INFINITY) {\n            const timer = setTimeout(() => {\n                cache.delete(key);\n            }, computedMaxAge);\n            timer.unref?.();\n            const timers = cacheTimerStore.get(function_) ?? new Set();\n            timers.add(timer);\n            cacheTimerStore.set(function_, timers);\n        }\n        return result;\n    };\n    mimicFunction(memoized, function_, {\n        ignoreNonConfigurable: true,\n    });\n    cacheStore.set(memoized, cache);\n    return memoized;\n}\n/**\n@returns A [decorator](https://github.com/tc39/proposal-decorators) to memoize class methods or static class methods.\n\n@example\n```\nimport {memoizeDecorator} from 'memoize';\n\nclass Example {\n    index = 0\n\n    @memoizeDecorator()\n    counter() {\n        return ++this.index;\n    }\n}\n\nclass ExampleWithOptions {\n    index = 0\n\n    @memoizeDecorator({maxAge: 1000})\n    counter() {\n        return ++this.index;\n    }\n}\n```\n*/\nexport function memoizeDecorator(options = {}) {\n    const instanceMap = new WeakMap();\n    return (target, propertyKey, descriptor) => {\n        const input = target[propertyKey]; // eslint-disable-line @typescript-eslint/no-unsafe-assignment\n        if (typeof input !== 'function') {\n            throw new TypeError('The decorated value must be a function');\n        }\n        delete descriptor.value;\n        delete descriptor.writable;\n        descriptor.get = function () {\n            if (!instanceMap.has(this)) {\n                const value = memoize(input, options);\n                instanceMap.set(this, value);\n                return value;\n            }\n            return instanceMap.get(this);\n        };\n    };\n}\n/**\nClear all cached data of a memoized function.\n\n@param function_ - The memoized function.\n*/\nexport function memoizeClear(function_) {\n    const cache = cacheStore.get(function_);\n    if (!cache) {\n        throw new TypeError('Can\\'t clear a function that was not memoized!');\n    }\n    if (typeof cache.clear !== 'function') {\n        throw new TypeError('The cache Map can\\'t be cleared!');\n    }\n    cache.clear();\n    for (const timer of cacheTimerStore.get(function_) ?? []) {\n        clearTimeout(timer);\n    }\n}\n","import lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    #queue = [];\n    enqueue(run, options) {\n        options = {\n            priority: 0,\n            ...options,\n        };\n        const element = {\n            priority: options.priority,\n            id: options.id,\n            run,\n        };\n        if (this.size === 0 || this.#queue[this.size - 1].priority >= options.priority) {\n            this.#queue.push(element);\n            return;\n        }\n        const index = lowerBound(this.#queue, element, (a, b) => b.priority - a.priority);\n        this.#queue.splice(index, 0, element);\n    }\n    setPriority(id, priority) {\n        const index = this.#queue.findIndex((element) => element.id === id);\n        if (index === -1) {\n            throw new ReferenceError(`No promise function with the id \"${id}\" exists in the queue.`);\n        }\n        const [item] = this.#queue.splice(index, 1);\n        this.enqueue(item.run, { priority, id });\n    }\n    dequeue() {\n        const item = this.#queue.shift();\n        return item?.run;\n    }\n    filter(options) {\n        return this.#queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this.#queue.length;\n    }\n}\n","// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { useState } from 'react';\n\n// returns a Promisized version of Image() api\nvar imagePromiseFactory = (function (_ref) {\n  var _ref$decode = _ref.decode,\n    decode = _ref$decode === void 0 ? true : _ref$decode,\n    _ref$crossOrigin = _ref.crossOrigin,\n    crossOrigin = _ref$crossOrigin === void 0 ? '' : _ref$crossOrigin;\n  return function (src) {\n    return new Promise(function (resolve, reject) {\n      var i = new Image();\n      if (crossOrigin) i.crossOrigin = crossOrigin;\n      i.onload = function () {\n        decode && i.decode ? i.decode().then(resolve)[\"catch\"](reject) : resolve();\n      };\n      i.onerror = reject;\n      i.src = src;\n    });\n  };\n});\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar removeBlankArrayElements = function removeBlankArrayElements(a) {\n  return a.filter(function (x) {\n    return x;\n  });\n};\nvar stringToArray = function stringToArray(x) {\n  return Array.isArray(x) ? x : [x];\n};\nvar cache = {};\n// sequential map.find for promises\nvar promiseFind = function promiseFind(arr, promiseFactory) {\n  var done = false;\n  return new Promise(function (resolve, reject) {\n    var queueNext = function queueNext(src) {\n      return promiseFactory(src).then(function () {\n        done = true;\n        resolve(src);\n      });\n    };\n    arr.reduce(function (p, src) {\n      // ensure we aren't done before enqueuing the next source\n      return p[\"catch\"](function () {\n        if (!done) return queueNext(src);\n      });\n    }, queueNext(arr.shift()))[\"catch\"](reject);\n  });\n};\nfunction useImage(_ref) {\n  var srcList = _ref.srcList,\n    _ref$imgPromise = _ref.imgPromise,\n    imgPromise = _ref$imgPromise === void 0 ? imagePromiseFactory({\n      decode: true\n    }) : _ref$imgPromise,\n    _ref$useSuspense = _ref.useSuspense,\n    useSuspense = _ref$useSuspense === void 0 ? true : _ref$useSuspense;\n  var _useState = useState(false),\n    setIsSettled = _useState[1];\n  var sourceList = removeBlankArrayElements(stringToArray(srcList));\n  var sourceKey = sourceList.join('');\n  if (!cache[sourceKey]) {\n    // create promise to loop through sources and try to load one\n    cache[sourceKey] = {\n      promise: promiseFind(sourceList, imgPromise),\n      cache: 'pending',\n      error: null\n    };\n  }\n  // when promise resolves/reject, update cache & state\n  if (cache[sourceKey].cache === 'resolved') {\n    return {\n      src: cache[sourceKey].src,\n      isLoading: false,\n      error: null\n    };\n  }\n  if (cache[sourceKey].cache === 'rejected') {\n    if (useSuspense) throw cache[sourceKey].error;\n    return {\n      isLoading: false,\n      error: cache[sourceKey].error,\n      src: undefined\n    };\n  }\n  cache[sourceKey].promise\n  // if a source was found, update cache\n  // when not using suspense, update state to force a rerender\n  .then(function (src) {\n    cache[sourceKey] = _objectSpread(_objectSpread({}, cache[sourceKey]), {}, {\n      cache: 'resolved',\n      src: src\n    });\n    if (!useSuspense) setIsSettled(sourceKey);\n  })\n  // if no source was found, or if another error occurred, update cache\n  // when not using suspense, update state to force a rerender\n  [\"catch\"](function (error) {\n    cache[sourceKey] = _objectSpread(_objectSpread({}, cache[sourceKey]), {}, {\n      cache: 'rejected',\n      error: error\n    });\n    if (!useSuspense) setIsSettled(sourceKey);\n  });\n  // cache[sourceKey].cache === 'pending')\n  if (useSuspense) throw cache[sourceKey].promise;\n  return {\n    isLoading: true,\n    src: undefined,\n    error: null\n  };\n}\n\nexport { imagePromiseFactory as i, useImage as u };\n//# sourceMappingURL=useImage-65024c8f.js.map\n","import { EventEmitter } from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverConcurrencyCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #interval;\n    #intervalEnd = 0;\n    #intervalId;\n    #timeoutId;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    #throwOnTimeout;\n    // Use to assign a unique identifier to a promise function, if not explicitly specified\n    #idAssigner = 1n;\n    /**\n    Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n\n    Applies to each future operation.\n    */\n    timeout;\n    // TODO: The `throwOnTimeout` option should affect the return types of `add()` and `addAll()`\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverConcurrencyCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        this.#carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        this.timeout = options.timeout;\n        this.#throwOnTimeout = options.throwOnTimeout === true;\n        this.#isPaused = options.autoStart === false;\n    }\n    get #doesIntervalAllowAnother() {\n        return this.#isIntervalIgnored || this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        this.#onInterval();\n        this.#initializeIntervalIfNeeded();\n        this.#timeoutId = undefined;\n    }\n    get #isIntervalPaused() {\n        const now = Date.now();\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // Act as the interval was done\n                // We don't need to resume it here because it will be resumed on line 160\n                this.#intervalCount = (this.#carryoverConcurrencyCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                if (this.#timeoutId === undefined) {\n                    this.#timeoutId = setTimeout(() => {\n                        this.#onResumeInterval();\n                    }, delay);\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            if (this.#intervalId) {\n                clearInterval(this.#intervalId);\n            }\n            this.#intervalId = undefined;\n            this.emit('empty');\n            if (this.#pending === 0) {\n                this.emit('idle');\n            }\n            return false;\n        }\n        if (!this.#isPaused) {\n            const canInitializeInterval = !this.#isIntervalPaused;\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                if (!job) {\n                    return false;\n                }\n                this.emit('active');\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n        this.#intervalCount = this.#carryoverConcurrencyCount ? this.#pending : 0;\n        this.#processQueue();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    async #throwOnAbort(signal) {\n        return new Promise((_resolve, reject) => {\n            signal.addEventListener('abort', () => {\n                reject(signal.reason);\n            }, { once: true });\n        });\n    }\n    /**\n    Updates the priority of a promise function by its id, affecting its execution order. Requires a defined concurrency limit to take effect.\n\n    For example, this can be used to prioritize a promise function to run earlier.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '🦄', {priority: 1});\n    queue.add(async () => '🦀', {priority: 0, id: '🦀'});\n    queue.add(async () => '🦄', {priority: 1});\n    queue.add(async () => '🦄', {priority: 1});\n\n    queue.setPriority('🦀', 2);\n    ```\n\n    In this case, the promise function with `id: '🦀'` runs second.\n\n    You can also deprioritize a promise function to delay its execution:\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '🦄', {priority: 1});\n    queue.add(async () => '🦀', {priority: 1, id: '🦀'});\n    queue.add(async () => '🦄');\n    queue.add(async () => '🦄', {priority: 0});\n\n    queue.setPriority('🦀', -1);\n    ```\n    Here, the promise function with `id: '🦀'` executes last.\n    */\n    setPriority(id, priority) {\n        this.#queue.setPriority(id, priority);\n    }\n    async add(function_, options = {}) {\n        // In case `id` is not defined.\n        options.id ??= (this.#idAssigner++).toString();\n        options = {\n            timeout: this.timeout,\n            throwOnTimeout: this.#throwOnTimeout,\n            ...options,\n        };\n        return new Promise((resolve, reject) => {\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                try {\n                    options.signal?.throwIfAborted();\n                    this.#intervalCount++;\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), { milliseconds: options.timeout });\n                    }\n                    if (options.signal) {\n                        operation = Promise.race([operation, this.#throwOnAbort(options.signal)]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    if (error instanceof TimeoutError && !options.throwOnTimeout) {\n                        resolve();\n                        return;\n                    }\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    this.#next();\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n}\n","// src/estimate-page-read-time.ts\nimport \"notion-types\";\n\n// src/get-block-title.ts\nimport \"notion-types\";\n\n// src/get-block-collection-id.ts\nimport \"notion-types\";\nfunction getBlockCollectionId(block, recordMap) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const collectionId = block.collection_id || ((_b = (_a = block.format) == null ? void 0 : _a.collection_pointer) == null ? void 0 : _b.id);\n  if (collectionId) {\n    return collectionId;\n  }\n  const collectionViewId = (_c = block == null ? void 0 : block.view_ids) == null ? void 0 : _c[0];\n  if (collectionViewId) {\n    const collectionView = (_e = (_d = recordMap.collection_view) == null ? void 0 : _d[collectionViewId]) == null ? void 0 : _e.value;\n    if (collectionView) {\n      const collectionId2 = (_g = (_f = collectionView.format) == null ? void 0 : _f.collection_pointer) == null ? void 0 : _g.id;\n      return collectionId2;\n    }\n  }\n  return null;\n}\n\n// src/get-text-content.ts\nvar getTextContent = (text) => {\n  var _a;\n  if (!text) {\n    return \"\";\n  } else if (Array.isArray(text)) {\n    return (_a = text == null ? void 0 : text.reduce(\n      (prev, current) => prev + (current[0] !== \"\\u204D\" && current[0] !== \"\\u2023\" ? current[0] : \"\"),\n      \"\"\n    )) != null ? _a : \"\";\n  } else {\n    return text;\n  }\n};\n\n// src/get-block-title.ts\nfunction getBlockTitle(block, recordMap) {\n  var _a, _b;\n  if ((_a = block.properties) == null ? void 0 : _a.title) {\n    return getTextContent(block.properties.title);\n  }\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const collectionId = getBlockCollectionId(block, recordMap);\n    if (collectionId) {\n      const collection = (_b = recordMap.collection[collectionId]) == null ? void 0 : _b.value;\n      if (collection) {\n        return getTextContent(collection.name);\n      }\n    }\n  }\n  return \"\";\n}\n\n// src/get-page-table-of-contents.ts\nvar indentLevels = {\n  header: 0,\n  sub_header: 1,\n  sub_sub_header: 2\n};\nvar getPageTableOfContents = (page, recordMap) => {\n  function mapContentToEntries(content) {\n    return (content != null ? content : []).map((blockId) => {\n      var _a, _b;\n      const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n      if (block) {\n        const { type } = block;\n        if (type === \"header\" || type === \"sub_header\" || type === \"sub_sub_header\") {\n          return {\n            id: blockId,\n            type,\n            text: getTextContent((_b = block.properties) == null ? void 0 : _b.title),\n            indentLevel: indentLevels[type]\n          };\n        }\n        if (type === \"transclusion_container\") {\n          return mapContentToEntries(block.content);\n        }\n      }\n      return null;\n    });\n  }\n  const toc = mapContentToEntries(page.content).flat().filter(Boolean);\n  const indentLevelStack = [\n    {\n      actual: -1,\n      effective: -1\n    }\n  ];\n  for (const tocItem of toc) {\n    const { indentLevel } = tocItem;\n    const actual = indentLevel;\n    do {\n      const prevIndent = indentLevelStack.at(-1);\n      const { actual: prevActual, effective: prevEffective } = prevIndent;\n      if (actual > prevActual) {\n        tocItem.indentLevel = prevEffective + 1;\n        indentLevelStack.push({\n          actual,\n          effective: tocItem.indentLevel\n        });\n      } else if (actual === prevActual) {\n        tocItem.indentLevel = prevEffective;\n        break;\n      } else {\n        indentLevelStack.pop();\n      }\n    } while (true);\n  }\n  return toc;\n};\n\n// src/estimate-page-read-time.ts\nfunction estimatePageReadTime(block, recordMap, {\n  wordsPerMinute = 275,\n  imageReadTimeInSeconds = 12\n} = {}) {\n  const stats = getBlockContentStats(block, recordMap);\n  const totalWordsReadTimeInMinutes = stats.numWords / wordsPerMinute;\n  const totalImageReadTimeInSeconds = stats.numImages > 10 ? stats.numImages / 2 * (imageReadTimeInSeconds + 3) + (stats.numImages - 10) * 3 : stats.numImages / 2 * (2 * imageReadTimeInSeconds + (1 - stats.numImages));\n  const totalImageReadTimeInMinutes = totalImageReadTimeInSeconds / 60;\n  const totalReadTimeInMinutes = totalWordsReadTimeInMinutes + totalImageReadTimeInMinutes;\n  return {\n    ...stats,\n    totalWordsReadTimeInMinutes,\n    totalImageReadTimeInMinutes,\n    totalReadTimeInMinutes\n  };\n}\nfunction estimatePageReadTimeAsHumanizedString(block, recordMap, opts) {\n  const estimate = estimatePageReadTime(block, recordMap, opts);\n  return humanizeReadTime(estimate.totalReadTimeInMinutes);\n}\nfunction getBlockContentStats(block, recordMap) {\n  var _a, _b, _c, _d;\n  const stats = {\n    numWords: 0,\n    numImages: 0\n  };\n  if (!block) {\n    return stats;\n  }\n  for (const childId of block.content || []) {\n    const child = (_a = recordMap.block[childId]) == null ? void 0 : _a.value;\n    let recurse = false;\n    if (!child) continue;\n    switch (child.type) {\n      case \"quote\":\n      // fallthrough\n      case \"alias\":\n      // fallthrough\n      case \"header\":\n      // fallthrough\n      case \"sub_header\":\n      // fallthrough\n      case \"sub_sub_header\": {\n        const title = getBlockTitle(child, recordMap);\n        stats.numWords += countWordsInText(title);\n        break;\n      }\n      case \"callout\":\n      // fallthrough\n      case \"toggle\":\n      // fallthrough\n      case \"to_do\":\n      // fallthrough\n      case \"bulleted_list\":\n      // fallthrough\n      case \"numbered_list\":\n      // fallthrough\n      case \"text\": {\n        const title = getBlockTitle(child, recordMap);\n        stats.numWords += countWordsInText(title);\n        recurse = true;\n        break;\n      }\n      case \"embed\":\n      // fallthrough\n      case \"tweet\":\n      // fallthrough\n      case \"maps\":\n      // fallthrough\n      case \"pdf\":\n      // fallthrough\n      case \"figma\":\n      // fallthrough\n      case \"typeform\":\n      // fallthrough\n      case \"codepen\":\n      // fallthrough\n      case \"excalidraw\":\n      // fallthrough\n      case \"gist\":\n      // fallthrough\n      case \"video\":\n      // fallthrough\n      case \"drive\":\n      // fallthrough\n      case \"audio\":\n      // fallthrough\n      case \"file\":\n      // fallthrough\n      case \"image\":\n        stats.numImages += 1;\n        break;\n      case \"bookmark\":\n        stats.numImages += 0.25;\n        break;\n      case \"code\":\n        stats.numImages += 2;\n        break;\n      case \"table\":\n      // fallthrough\n      case \"collection_view\":\n        stats.numImages += 2;\n        break;\n      case \"column\":\n      // fallthrough\n      case \"column_list\":\n      // fallthrough\n      case \"transclusion_container\":\n        recurse = true;\n        break;\n      case \"table_of_contents\": {\n        const page = block;\n        if (!page) continue;\n        const toc = getPageTableOfContents(page, recordMap);\n        for (const tocItem of toc) {\n          stats.numWords += countWordsInText(tocItem.text);\n        }\n        break;\n      }\n      case \"transclusion_reference\": {\n        const referencePointerId = (_c = (_b = child == null ? void 0 : child.format) == null ? void 0 : _b.transclusion_reference_pointer) == null ? void 0 : _c.id;\n        if (!referencePointerId) {\n          continue;\n        }\n        const referenceBlock = (_d = recordMap.block[referencePointerId]) == null ? void 0 : _d.value;\n        if (referenceBlock) {\n          mergeContentStats(\n            stats,\n            getBlockContentStats(referenceBlock, recordMap)\n          );\n        }\n        break;\n      }\n      default:\n        break;\n    }\n    if (recurse) {\n      mergeContentStats(stats, getBlockContentStats(child, recordMap));\n    }\n  }\n  return stats;\n}\nfunction mergeContentStats(statsA, statsB) {\n  statsA.numWords += statsB.numWords;\n  statsA.numImages += statsB.numImages;\n}\nfunction countWordsInText(text) {\n  if (!text) {\n    return 0;\n  }\n  return (text.match(/\\w+/g) || []).length;\n}\nfunction humanizeReadTime(time) {\n  if (time < 0.5) {\n    return \"less than a minute\";\n  }\n  if (time < 1.5) {\n    return \"1 minute\";\n  }\n  return `${Math.ceil(time)} minutes`;\n}\n\n// src/format-date.ts\nvar formatDate = (input, { month = \"short\" } = {}) => {\n  const date = new Date(input);\n  const monthLocale = date.toLocaleString(\"en-US\", { month });\n  return `${monthLocale} ${date.getUTCDate()}, ${date.getUTCFullYear()}`;\n};\n\n// src/format-notion-date-time.ts\nvar formatNotionDateTime = (datetime) => {\n  const dateString = `${datetime.start_date}T${datetime.start_time || \"00:00\"}+00:00`;\n  return formatDate(dateString);\n};\n\n// src/get-all-pages-in-space.ts\nimport \"notion-types\";\nimport PQueue from \"p-queue\";\n\n// src/id-to-uuid.ts\nvar idToUuid = (id = \"\") => `${id.slice(0, 8)}-${id.slice(8, 12)}-${id.slice(12, 16)}-${id.slice(\n  16,\n  20\n)}-${id.slice(20)}`;\n\n// src/parse-page-id.ts\nvar pageIdRe = /\\b([\\da-f]{32})\\b/;\nvar pageId2Re = /\\b([\\da-f]{8}(?:-[\\da-f]{4}){3}-[\\da-f]{12})\\b/;\nvar parsePageId = (id = \"\", { uuid = true } = {}) => {\n  if (!id) return;\n  id = id.split(\"?\")[0];\n  if (!id) return;\n  const match = id.match(pageIdRe);\n  if (match) {\n    return uuid ? idToUuid(match[1]) : match[1];\n  }\n  const match2 = id.match(pageId2Re);\n  if (match2) {\n    return uuid ? match2[1] : match2[1].replaceAll(\"-\", \"\");\n  }\n  return;\n};\n\n// src/get-all-pages-in-space.ts\nasync function getAllPagesInSpace(rootPageId, rootSpaceId, getPage, {\n  concurrency = 4,\n  traverseCollections = true,\n  targetPageId,\n  maxDepth = Number.POSITIVE_INFINITY\n} = {}) {\n  const pages = {};\n  const pendingPageIds = /* @__PURE__ */ new Set();\n  const queue = new PQueue({ concurrency });\n  async function processPage(pageId, depth = 0) {\n    if (depth > maxDepth) {\n      return;\n    }\n    if (targetPageId && pendingPageIds.has(targetPageId)) {\n      return;\n    }\n    pageId = parsePageId(pageId);\n    if (pageId && !pages[pageId] && !pendingPageIds.has(pageId)) {\n      pendingPageIds.add(pageId);\n      void queue.add(async () => {\n        var _a, _b, _c;\n        try {\n          if (targetPageId && pendingPageIds.has(targetPageId) && pageId !== targetPageId) {\n            return;\n          }\n          const page = await getPage(pageId);\n          if (!page) {\n            return;\n          }\n          const spaceId = (_b = (_a = page.block[pageId]) == null ? void 0 : _a.value) == null ? void 0 : _b.space_id;\n          if (spaceId) {\n            if (!rootSpaceId) {\n              rootSpaceId = spaceId;\n            } else if (rootSpaceId !== spaceId) {\n              return;\n            }\n          }\n          for (const subPageId of Object.keys(page.block).filter((key) => {\n            var _a2;\n            const block = (_a2 = page.block[key]) == null ? void 0 : _a2.value;\n            if (!block || block.alive === false) return false;\n            if (block.type !== \"page\" && block.type !== \"collection_view_page\") {\n              return false;\n            }\n            if (rootSpaceId && block.space_id && block.space_id !== rootSpaceId) {\n              return false;\n            }\n            return true;\n          })) {\n            void processPage(subPageId, depth + 1);\n          }\n          if (traverseCollections) {\n            for (const collectionViews of Object.values(\n              page.collection_query\n            )) {\n              for (const collectionData of Object.values(collectionViews)) {\n                const blockIds = Array.from(\n                  /* @__PURE__ */ new Set([\n                    ...((_c = collectionData == null ? void 0 : collectionData.collection_group_results) == null ? void 0 : _c.blockIds) || [],\n                    ...collectionData.blockIds || []\n                  ])\n                );\n                if (blockIds.length) {\n                  for (const collectionItemId of blockIds) {\n                    void processPage(collectionItemId, depth + 1);\n                  }\n                }\n              }\n            }\n          }\n          pages[pageId] = page;\n        } catch (err) {\n          console.warn(\n            \"page load error\",\n            { pageId, spaceId: rootSpaceId },\n            err.statusCode,\n            err.message\n          );\n          pages[pageId] = null;\n        }\n        pendingPageIds.delete(pageId);\n      });\n    }\n  }\n  await processPage(rootPageId);\n  await queue.onIdle();\n  return pages;\n}\n\n// src/get-block-icon.ts\nimport \"notion-types\";\nfunction getBlockIcon(block, recordMap) {\n  var _a, _b, _c;\n  if ((_a = block.format) == null ? void 0 : _a.page_icon) {\n    return (_b = block.format) == null ? void 0 : _b.page_icon;\n  }\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const collectionId = getBlockCollectionId(block, recordMap);\n    if (collectionId) {\n      const collection = (_c = recordMap.collection[collectionId]) == null ? void 0 : _c.value;\n      if (collection) {\n        return collection.icon;\n      }\n    }\n  }\n  return null;\n}\n\n// src/get-block-parent-page.ts\nvar getBlockParentPage = (block, recordMap, {\n  inclusive = false\n} = {}) => {\n  var _a, _b;\n  let currentRecord = block;\n  while (currentRecord) {\n    if (inclusive && (currentRecord == null ? void 0 : currentRecord.type) === \"page\") {\n      return currentRecord;\n    }\n    const parentId = currentRecord.parent_id;\n    const parentTable = currentRecord.parent_table;\n    if (!parentId) {\n      break;\n    }\n    if (parentTable === \"collection\") {\n      currentRecord = (_a = recordMap.collection[parentId]) == null ? void 0 : _a.value;\n    } else {\n      currentRecord = (_b = recordMap.block[parentId]) == null ? void 0 : _b.value;\n      if ((currentRecord == null ? void 0 : currentRecord.type) === \"page\") {\n        return currentRecord;\n      }\n    }\n  }\n  return null;\n};\n\n// src/get-canonical-page-id.ts\nimport \"notion-types\";\n\n// src/get-page-property.ts\nimport \"notion-types\";\nfunction getPageProperty(propertyName, block, recordMap) {\n  var _a;\n  try {\n    if (!block.properties || !Object.keys(recordMap.collection)) {\n      return null;\n    }\n    const collection = (_a = recordMap.collection[block.parent_id]) == null ? void 0 : _a.value;\n    if (collection) {\n      const propertyNameL = propertyName.toLowerCase();\n      const propertyId = Object.keys(collection.schema).find(\n        (key) => {\n          var _a2, _b;\n          return ((_b = (_a2 = collection.schema[key]) == null ? void 0 : _a2.name) == null ? void 0 : _b.toLowerCase()) === propertyNameL;\n        }\n      );\n      if (!propertyId) {\n        return null;\n      }\n      const s = collection.schema[propertyId];\n      if (!s) {\n        return null;\n      }\n      const { type } = s;\n      const content = getTextContent(block.properties[propertyId]);\n      switch (type) {\n        case \"created_time\":\n          return block.created_time;\n        case \"multi_select\":\n          return content.split(\",\");\n        case \"date\": {\n          const property = block.properties[propertyId];\n          const formatDate2 = property[0][1][0][1];\n          if (formatDate2.type === \"datetime\") {\n            return (/* @__PURE__ */ new Date(\n              `${formatDate2.start_date} ${formatDate2.start_time}`\n            )).getTime();\n          } else if (formatDate2.type === \"date\") {\n            return new Date(formatDate2.start_date).getTime();\n          } else if (formatDate2.type === \"datetimerange\") {\n            const { start_date, start_time, end_date, end_time } = formatDate2;\n            const startTime = (/* @__PURE__ */ new Date(`${start_date} ${start_time}`)).getTime();\n            const endTime = (/* @__PURE__ */ new Date(`${end_date} ${end_time}`)).getTime();\n            return [startTime, endTime];\n          } else {\n            const startTime = new Date(formatDate2.start_date).getTime();\n            const endTime = new Date(formatDate2.end_date).getTime();\n            return [startTime, endTime];\n          }\n        }\n        case \"checkbox\":\n          return content === \"Yes\";\n        case \"last_edited_time\":\n          return block.last_edited_time;\n        default:\n          return content;\n      }\n    }\n  } catch (e) {\n  }\n  return null;\n}\n\n// src/normalize-title.ts\nvar normalizeTitle = (title) => {\n  return (title || \"\").replaceAll(\" \", \"-\").replaceAll(\n    /[^\\dA-Za-z\\u3000-\\u303F\\u3041-\\u3096\\u30A1-\\u30FC\\u4E00-\\u9FFF\\uAC00-\\uD7AF-]/g,\n    \"\"\n  ).replaceAll(\"--\", \"-\").replace(/-$/, \"\").replace(/^-/, \"\").trim().toLowerCase();\n};\n\n// src/uuid-to-id.ts\nvar uuidToId = (uuid) => uuid.replaceAll(\"-\", \"\");\n\n// src/get-canonical-page-id.ts\nvar getCanonicalPageId = (pageId, recordMap, { uuid = true } = {}) => {\n  var _a;\n  if (!pageId || !recordMap) return null;\n  const id = uuidToId(pageId);\n  const block = (_a = recordMap.block[pageId]) == null ? void 0 : _a.value;\n  if (block) {\n    const slug = getPageProperty(\"slug\", block, recordMap) || getPageProperty(\"Slug\", block, recordMap) || normalizeTitle(getBlockTitle(block, recordMap));\n    if (slug) {\n      if (uuid) {\n        return `${slug}-${id}`;\n      } else {\n        return slug;\n      }\n    }\n  }\n  return id;\n};\n\n// src/get-date-value.ts\nvar getDateValue = (prop) => {\n  if (prop && Array.isArray(prop)) {\n    if (prop[0] === \"d\") {\n      return prop[1];\n    } else {\n      for (const v of prop) {\n        const value = getDateValue(v);\n        if (value) {\n          return value;\n        }\n      }\n    }\n  }\n  return null;\n};\n\n// src/get-page-breadcrumbs.ts\nvar getPageBreadcrumbs = (recordMap, activePageId) => {\n  var _a;\n  const blockMap = recordMap.block;\n  const breadcrumbs = [];\n  let currentPageId = activePageId;\n  do {\n    const block = (_a = blockMap[currentPageId]) == null ? void 0 : _a.value;\n    if (!block) {\n      break;\n    }\n    const title = getBlockTitle(block, recordMap);\n    const icon = getBlockIcon(block, recordMap);\n    if (!(title || icon)) {\n      break;\n    }\n    breadcrumbs.push({\n      block,\n      active: currentPageId === activePageId,\n      pageId: currentPageId,\n      title,\n      icon\n    });\n    const parentBlock = getBlockParentPage(block, recordMap);\n    const parentId = parentBlock == null ? void 0 : parentBlock.id;\n    if (!parentId) {\n      break;\n    }\n    currentPageId = parentId;\n  } while (true);\n  breadcrumbs.reverse();\n  return breadcrumbs;\n};\n\n// src/get-page-content-block-ids.ts\nvar getPageContentBlockIds = (recordMap, blockId) => {\n  const rootBlockId = blockId || Object.keys(recordMap.block)[0];\n  const contentBlockIds = /* @__PURE__ */ new Set();\n  function addContentBlocks(blockId2) {\n    var _a, _b, _c, _d, _e, _f;\n    if (contentBlockIds.has(blockId2)) return;\n    contentBlockIds.add(blockId2);\n    const block = (_a = recordMap.block[blockId2]) == null ? void 0 : _a.value;\n    if (!block) return;\n    const { content, type, properties, format } = block;\n    if (properties) {\n      for (const key of Object.keys(properties)) {\n        const p = properties[key];\n        if (!p) continue;\n        for (const d of p) {\n          const value2 = (_c = (_b = d == null ? void 0 : d[0]) == null ? void 0 : _b[1]) == null ? void 0 : _c[0];\n          if ((value2 == null ? void 0 : value2[0]) === \"p\" && value2[1]) {\n            addContentBlocks(value2[1]);\n          }\n        }\n        const value = (_e = (_d = p == null ? void 0 : p[0]) == null ? void 0 : _d[1]) == null ? void 0 : _e[0];\n        if ((value == null ? void 0 : value[0]) === \"p\" && value[1]) {\n          addContentBlocks(value[1]);\n        }\n      }\n    }\n    if (format) {\n      const referenceId = (_f = format.transclusion_reference_pointer) == null ? void 0 : _f.id;\n      if (referenceId) {\n        addContentBlocks(referenceId);\n      }\n    }\n    if (!content || !Array.isArray(content)) {\n      return;\n    }\n    if (blockId2 !== rootBlockId) {\n      if (type === \"page\" || type === \"collection_view_page\") {\n        return;\n      }\n    }\n    for (const blockId3 of content) {\n      addContentBlocks(blockId3);\n    }\n  }\n  addContentBlocks(rootBlockId);\n  return Array.from(contentBlockIds);\n};\n\n// src/is-url.ts\nimport { default as default2 } from \"is-url-superb\";\n\n// src/get-page-image-urls.ts\nvar getPageImageUrls = (recordMap, {\n  mapImageUrl\n}) => {\n  const blockIds = Object.keys(recordMap.block);\n  const imageUrls = blockIds.flatMap((blockId) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    const images = [];\n    if (block) {\n      if (block.type === \"image\") {\n        const signedUrl = (_b = recordMap.signed_urls) == null ? void 0 : _b[block.id];\n        let source = signedUrl || ((_e = (_d = (_c = block.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]);\n        if (source == null ? void 0 : source.includes(\"file.notion.so\")) {\n          source = (_h = (_g = (_f = block.properties) == null ? void 0 : _f.source) == null ? void 0 : _g[0]) == null ? void 0 : _h[0];\n        }\n        if (source) {\n          images.push({\n            block,\n            url: source\n          });\n        }\n      }\n      if ((_i = block.format) == null ? void 0 : _i.page_cover) {\n        const source = block.format.page_cover;\n        images.push({\n          block,\n          url: source\n        });\n      }\n      if ((_j = block.format) == null ? void 0 : _j.bookmark_cover) {\n        const source = block.format.bookmark_cover;\n        images.push({\n          block,\n          url: source\n        });\n      }\n      if ((_k = block.format) == null ? void 0 : _k.bookmark_icon) {\n        const source = block.format.bookmark_icon;\n        images.push({\n          block,\n          url: source\n        });\n      }\n      const pageIcon = getBlockIcon(block, recordMap);\n      if (pageIcon && default2(pageIcon)) {\n        images.push({\n          block,\n          url: pageIcon\n        });\n      }\n    }\n    return images;\n  }).filter(Boolean).map(({ block, url }) => mapImageUrl(url, block)).filter(Boolean);\n  return Array.from(new Set(imageUrls));\n};\n\n// src/get-page-title.ts\nimport \"notion-types\";\nfunction getPageTitle(recordMap) {\n  var _a;\n  const rootBlockId = Object.keys(recordMap.block)[0];\n  if (!rootBlockId) return null;\n  const pageBlock = (_a = recordMap.block[rootBlockId]) == null ? void 0 : _a.value;\n  if (pageBlock) {\n    return getBlockTitle(pageBlock, recordMap);\n  }\n  return null;\n}\n\n// src/get-page-tweet-urls.ts\nvar getPageTweetUrls = (recordMap) => {\n  const blockIds = Object.keys(recordMap.block);\n  const tweetUrls = blockIds.map((blockId) => {\n    var _a, _b, _c, _d;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    if ((block == null ? void 0 : block.type) === \"tweet\") {\n      const tweetUrl = (_d = (_c = (_b = block.properties) == null ? void 0 : _b.source) == null ? void 0 : _c[0]) == null ? void 0 : _d[0];\n      if (tweetUrl) {\n        return tweetUrl;\n      }\n    }\n  }).filter(Boolean);\n  return Array.from(new Set(tweetUrls));\n};\n\n// src/get-page-tweet-ids.ts\nvar getPageTweetIds = (recordMap) => {\n  const tweetUrls = getPageTweetUrls(recordMap);\n  return tweetUrls.map((url) => {\n    try {\n      const u = new URL(url);\n      const parts = u.pathname.split(\"/\");\n      return parts.at(-1);\n    } catch (e) {\n      return;\n    }\n  }).filter(Boolean);\n};\n\n// src/map-image-url.ts\nimport \"notion-types\";\nvar defaultMapImageUrl = (url, block) => {\n  if (!url) {\n    return void 0;\n  }\n  if (url.startsWith(\"data:\")) {\n    return url;\n  }\n  if (url.startsWith(\"https://images.unsplash.com\")) {\n    return url;\n  }\n  try {\n    const u = new URL(url);\n    if (u.pathname.startsWith(\"/secure.notion-static.com\") && u.hostname.endsWith(\".amazonaws.com\")) {\n      if (u.searchParams.has(\"X-Amz-Credential\") && u.searchParams.has(\"X-Amz-Signature\") && u.searchParams.has(\"X-Amz-Algorithm\")) {\n        return url;\n      }\n    }\n    if (u.hostname === \"img.notionusercontent.com\") {\n      return url;\n    }\n  } catch (e) {\n  }\n  if (url.startsWith(\"/images\")) {\n    url = `https://www.notion.so${url}`;\n  }\n  url = `https://www.notion.so${url.startsWith(\"/image\") ? url : `/image/${encodeURIComponent(url)}`}`;\n  const notionImageUrlV2 = new URL(url);\n  let table = block.parent_table === \"space\" ? \"block\" : block.parent_table;\n  if (table === \"collection\" || table === \"team\") {\n    table = \"block\";\n  }\n  notionImageUrlV2.searchParams.set(\"table\", table);\n  notionImageUrlV2.searchParams.set(\"id\", block.id);\n  notionImageUrlV2.searchParams.set(\"cache\", \"v2\");\n  url = notionImageUrlV2.toString();\n  return url;\n};\n\n// src/map-page-url.ts\nvar defaultMapPageUrl = (rootPageId) => (pageId) => {\n  pageId = (pageId || \"\").replaceAll(\"-\", \"\");\n  if (rootPageId && pageId === rootPageId) {\n    return \"/\";\n  } else {\n    return `/${pageId}`;\n  }\n};\n\n// src/merge-record-maps.ts\nimport \"notion-types\";\nfunction mergeRecordMaps(recordMapA, recordMapB) {\n  const mergedRecordMap = {\n    block: {\n      ...recordMapA.block,\n      ...recordMapB.block\n    },\n    collection: {\n      ...recordMapA.collection,\n      ...recordMapB.collection\n    },\n    collection_view: {\n      ...recordMapA.collection_view,\n      ...recordMapB.collection_view\n    },\n    notion_user: {\n      ...recordMapA.notion_user,\n      ...recordMapB.notion_user\n    },\n    collection_query: {\n      ...recordMapA.collection_query,\n      ...recordMapB.collection_query\n    },\n    signed_urls: {\n      ...recordMapA.signed_urls,\n      ...recordMapB.signed_urls\n    },\n    preview_images: {\n      ...recordMapA.preview_images,\n      ...recordMapB.preview_images\n    }\n  };\n  return mergedRecordMap;\n}\n\n// src/normalize-url.ts\nimport memoize from \"memoize\";\nimport normalizeUrlImpl from \"normalize-url\";\nvar normalizeUrl = memoize((url) => {\n  if (!url) {\n    return \"\";\n  }\n  try {\n    if (url.startsWith(\"https://www.notion.so/image/\")) {\n      const u = new URL(url);\n      const subUrl = decodeURIComponent(u.pathname.slice(\"/image/\".length));\n      const normalizedSubUrl = normalizeUrl(subUrl);\n      u.pathname = `/image/${encodeURIComponent(normalizedSubUrl)}`;\n      url = u.toString();\n    }\n    return normalizeUrlImpl(url, {\n      stripProtocol: true,\n      stripWWW: true,\n      stripHash: true,\n      stripTextFragment: true,\n      removeQueryParameters: true\n    });\n  } catch (e) {\n    return \"\";\n  }\n});\nexport {\n  defaultMapImageUrl,\n  defaultMapPageUrl,\n  estimatePageReadTime,\n  estimatePageReadTimeAsHumanizedString,\n  formatDate,\n  formatNotionDateTime,\n  getAllPagesInSpace,\n  getBlockCollectionId,\n  getBlockIcon,\n  getBlockParentPage,\n  getBlockTitle,\n  getCanonicalPageId,\n  getDateValue,\n  getPageBreadcrumbs,\n  getPageContentBlockIds,\n  getPageImageUrls,\n  getPageProperty,\n  getPageTableOfContents,\n  getPageTitle,\n  getPageTweetIds,\n  getPageTweetUrls,\n  getTextContent,\n  idToUuid,\n  default2 as isUrl,\n  mergeRecordMaps,\n  normalizeTitle,\n  normalizeUrl,\n  parsePageId,\n  uuidToId\n};\n//# sourceMappingURL=index.js.map","import { Hotkey, KeyboardModifiers } from './types'\n\nconst reservedModifierKeywords = ['shift', 'alt', 'meta', 'mod', 'ctrl']\n\nconst mappedKeys: Record<string, string> = {\n  esc: 'escape',\n  return: 'enter',\n  '.': 'period',\n  ',': 'comma',\n  '-': 'slash',\n  ' ': 'space',\n  '`': 'backquote',\n  '#': 'backslash',\n  '+': 'bracketright',\n  ShiftLeft: 'shift',\n  ShiftRight: 'shift',\n  AltLeft: 'alt',\n  AltRight: 'alt',\n  MetaLeft: 'meta',\n  MetaRight: 'meta',\n  OSLeft: 'meta',\n  OSRight: 'meta',\n  ControlLeft: 'ctrl',\n  ControlRight: 'ctrl',\n}\n\nexport function mapKey(key?: string): string {\n  return ((key && mappedKeys[key]) || key || '')\n    .trim()\n    .toLowerCase()\n    .replace(/key|digit|numpad|arrow/, '')\n}\n\nexport function isHotkeyModifier(key: string) {\n  return reservedModifierKeywords.includes(key)\n}\n\nexport function parseKeysHookInput(keys: string, splitKey = ','): string[] {\n  return keys.split(splitKey)\n}\n\nexport function parseHotkey(hotkey: string, combinationKey = '+', description?: string): Hotkey {\n  const keys = hotkey\n    .toLocaleLowerCase()\n    .split(combinationKey)\n    .map((k) => mapKey(k))\n\n  const modifiers: KeyboardModifiers = {\n    alt: keys.includes('alt'),\n    ctrl: keys.includes('ctrl') || keys.includes('control'),\n    shift: keys.includes('shift'),\n    meta: keys.includes('meta'),\n    mod: keys.includes('mod'),\n  }\n\n  const singleCharKeys = keys.filter((k) => !reservedModifierKeywords.includes(k))\n\n  return {\n    ...modifiers,\n    keys: singleCharKeys,\n    description,\n    hotkey,\n  }\n}\n","import type { ObserverInstanceCallback } from \"./index\";\n\nconst observerMap = new Map<\n  string,\n  {\n    id: string;\n    observer: IntersectionObserver;\n    elements: Map<Element, Array<ObserverInstanceCallback>>;\n  }\n>();\n\nconst RootIds: WeakMap<Element | Document, string> = new WeakMap();\nlet rootId = 0;\n\nlet unsupportedValue: boolean | undefined = undefined;\n\n/**\n * What should be the default behavior if the IntersectionObserver is unsupported?\n * Ideally the polyfill has been loaded, you can have the following happen:\n * - `undefined`: Throw an error\n * - `true` or `false`: Set the `inView` value to this regardless of intersection state\n * **/\nexport function defaultFallbackInView(inView: boolean | undefined) {\n  unsupportedValue = inView;\n}\n\n/**\n * Generate a unique ID for the root element\n * @param root\n */\nfunction getRootId(root: IntersectionObserverInit[\"root\"]) {\n  if (!root) return \"0\";\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n\n/**\n * Convert the options to a string Id, based on the values.\n * Ensures we can reuse the same observer when observing elements with the same options.\n * @param options\n */\nexport function optionsToId(options: IntersectionObserverInit) {\n  return Object.keys(options)\n    .sort()\n    .filter(\n      (key) => options[key as keyof IntersectionObserverInit] !== undefined,\n    )\n    .map((key) => {\n      return `${key}_${\n        key === \"root\"\n          ? getRootId(options.root)\n          : options[key as keyof IntersectionObserverInit]\n      }`;\n    })\n    .toString();\n}\n\nfunction createObserver(options: IntersectionObserverInit) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  const id = optionsToId(options);\n  let instance = observerMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    const elements = new Map<Element, Array<ObserverInstanceCallback>>();\n    // biome-ignore lint/style/useConst: It's fine to use let here, as we are going to assign it later\n    let thresholds: number[] | readonly number[];\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        const inView =\n          entry.isIntersecting &&\n          thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n\n        // @ts-ignore support IntersectionObserver v2\n        if (options.trackVisibility && typeof entry.isVisible === \"undefined\") {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        elements.get(entry.target)?.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n\n    // Ensure we have a valid thresholds array. If not, use the threshold from the options\n    thresholds =\n      observer.thresholds ||\n      (Array.isArray(options.threshold)\n        ? options.threshold\n        : [options.threshold || 0]);\n\n    instance = {\n      id,\n      observer,\n      elements,\n    };\n\n    observerMap.set(id, instance);\n  }\n\n  return instance;\n}\n\n/**\n * @param element - DOM Element to observe\n * @param callback - Callback function to trigger when intersection status changes\n * @param options - Intersection Observer options\n * @param fallbackInView - Fallback inView value.\n * @return Function - Cleanup function that should be triggered to unregister the observer\n */\nexport function observe(\n  element: Element,\n  callback: ObserverInstanceCallback,\n  options: IntersectionObserverInit = {},\n  fallbackInView = unsupportedValue,\n) {\n  if (\n    typeof window.IntersectionObserver === \"undefined\" &&\n    fallbackInView !== undefined\n  ) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio:\n        typeof options.threshold === \"number\" ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds,\n    });\n    return () => {\n      // Nothing to cleanup\n    };\n  }\n  // An observer with the same options can be reused, so lets use this fact\n  const { id, observer, elements } = createObserver(options);\n\n  // Register the callback listener for this element\n  const callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n","import { type Block, type ExtendedRecordMap } from 'notion-types'\n\nimport { getBlockCollectionId } from './get-block-collection-id'\nimport { getTextContent } from './get-text-content'\n\nexport function getBlockTitle(block: Block, recordMap: ExtendedRecordMap) {\n  if (block.properties?.title) {\n    return getTextContent(block.properties.title)\n  }\n\n  if (\n    block.type === 'collection_view_page' ||\n    block.type === 'collection_view'\n  ) {\n    const collectionId = getBlockCollectionId(block, recordMap)\n\n    if (collectionId) {\n      const collection = recordMap.collection[collectionId]?.value\n\n      if (collection) {\n        return getTextContent(collection.name)\n      }\n    }\n  }\n\n  return ''\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import { isHotkeyModifier, mapKey } from './parseHotkeys'\n;(() => {\n  if (typeof document !== 'undefined') {\n    document.addEventListener('keydown', (e) => {\n      if (e.key === undefined) {\n        // Synthetic event (e.g., Chrome autofill).  Ignore.\n        return\n      }\n\n      pushToCurrentlyPressedKeys([mapKey(e.key), mapKey(e.code)])\n    })\n\n    document.addEventListener('keyup', (e) => {\n      if (e.key === undefined) {\n        // Synthetic event (e.g., Chrome autofill).  Ignore.\n        return\n      }\n\n      removeFromCurrentlyPressedKeys([mapKey(e.key), mapKey(e.code)])\n    })\n  }\n\n  if (typeof window !== 'undefined') {\n    window.addEventListener('blur', () => {\n      currentlyPressedKeys.clear()\n    })\n  }\n})()\n\nconst currentlyPressedKeys: Set<string> = new Set<string>()\n\n// https://github.com/microsoft/TypeScript/issues/17002\nexport function isReadonlyArray(value: unknown): value is readonly unknown[] {\n  return Array.isArray(value)\n}\n\nexport function isHotkeyPressed(key: string | readonly string[], splitKey = ','): boolean {\n  const hotkeyArray = isReadonlyArray(key) ? key : key.split(splitKey)\n\n  return hotkeyArray.every((hotkey) => currentlyPressedKeys.has(hotkey.trim().toLowerCase()))\n}\n\nexport function pushToCurrentlyPressedKeys(key: string | string[]): void {\n  const hotkeyArray = Array.isArray(key) ? key : [key]\n\n  /*\n  Due to a weird behavior on macOS we need to clear the set if the user pressed down the meta key and presses another key.\n  https://stackoverflow.com/questions/11818637/why-does-javascript-drop-keyup-events-when-the-metakey-is-pressed-on-mac-browser\n  Otherwise the set will hold all ever pressed keys while the meta key is down which leads to wrong results.\n   */\n  if (currentlyPressedKeys.has('meta')) {\n    currentlyPressedKeys.forEach((key) => !isHotkeyModifier(key) && currentlyPressedKeys.delete(key.toLowerCase()))\n  }\n\n  hotkeyArray.forEach((hotkey) => currentlyPressedKeys.add(hotkey.toLowerCase()))\n}\n\nexport function removeFromCurrentlyPressedKeys(key: string | string[]): void {\n  const hotkeyArray = Array.isArray(key) ? key : [key]\n\n  /*\n  Due to a weird behavior on macOS we need to clear the set if the user pressed down the meta key and presses another key.\n  https://stackoverflow.com/questions/11818637/why-does-javascript-drop-keyup-events-when-the-metakey-is-pressed-on-mac-browser\n  Otherwise the set will hold all ever pressed keys while the meta key is down which leads to wrong results.\n   */\n  if (key === 'meta') {\n    currentlyPressedKeys.clear()\n  } else {\n    hotkeyArray.forEach((hotkey) => currentlyPressedKeys.delete(hotkey.toLowerCase()))\n  }\n}\n","import * as React from \"react\";\nimport type { IntersectionObserverProps, PlainChildrenProps } from \"./index\";\nimport { observe } from \"./observe\";\n\ntype State = {\n  inView: boolean;\n  entry?: IntersectionObserverEntry;\n};\n\nfunction isPlainChildren(\n  props: IntersectionObserverProps | PlainChildrenProps,\n): props is PlainChildrenProps {\n  return typeof props.children !== \"function\";\n}\n\n/**\n ## Render props\n\n To use the `<InView>` component, you pass it a function. It will be called\n whenever the state changes, with the new value of `inView`. In addition to the\n `inView` prop, children also receive a `ref` that should be set on the\n containing DOM element. This is the element that the IntersectionObserver will\n monitor.\n\n If you need it, you can also access the\n [`IntersectionObserverEntry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry)\n on `entry`, giving you access to all the details about the current intersection\n state.\n\n ```jsx\n import { InView } from 'react-intersection-observer';\n\n const Component = () => (\n <InView>\n {({ inView, ref, entry }) => (\n      <div ref={ref}>\n        <h2>{`Header inside viewport ${inView}.`}</h2>\n      </div>\n    )}\n </InView>\n );\n\n export default Component;\n ```\n\n ## Plain children\n\n You can pass any element to the `<InView />`, and it will handle creating the\n wrapping DOM element. Add a handler to the `onChange` method, and control the\n state in your own component. Any extra props you add to `<InView>` will be\n passed to the HTML element, allowing you set the `className`, `style`, etc.\n\n ```jsx\n import { InView } from 'react-intersection-observer';\n\n const Component = () => (\n <InView as=\"div\" onChange={(inView, entry) => console.log('Inview:', inView)}>\n <h2>Plain children are always rendered. Use onChange to monitor state.</h2>\n </InView>\n );\n\n export default Component;\n ```\n */\nexport class InView extends React.Component<\n  IntersectionObserverProps | PlainChildrenProps,\n  State\n> {\n  node: Element | null = null;\n  _unobserveCb: (() => void) | null = null;\n\n  constructor(props: IntersectionObserverProps | PlainChildrenProps) {\n    super(props);\n    this.state = {\n      inView: !!props.initialInView,\n      entry: undefined,\n    };\n  }\n\n  componentDidMount() {\n    this.unobserve();\n    this.observeNode();\n  }\n\n  componentDidUpdate(prevProps: IntersectionObserverProps) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (\n      prevProps.rootMargin !== this.props.rootMargin ||\n      prevProps.root !== this.props.root ||\n      prevProps.threshold !== this.props.threshold ||\n      prevProps.skip !== this.props.skip ||\n      prevProps.trackVisibility !== this.props.trackVisibility ||\n      prevProps.delay !== this.props.delay\n    ) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unobserve();\n  }\n\n  observeNode() {\n    if (!this.node || this.props.skip) return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView,\n    } = this.props;\n\n    this._unobserveCb = observe(\n      this.node,\n      this.handleChange,\n      {\n        threshold,\n        root,\n        rootMargin,\n        // @ts-ignore\n        trackVisibility,\n        // @ts-ignore\n        delay,\n      },\n      fallbackInView,\n    );\n  }\n\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n      this._unobserveCb = null;\n    }\n  }\n\n  handleNode = (node?: Element | null) => {\n    if (this.node) {\n      // Clear the old observer, before we start observing a new element\n      this.unobserve();\n\n      if (!node && !this.props.triggerOnce && !this.props.skip) {\n        // Reset the state if we get a new node, and we aren't ignoring updates\n        this.setState({ inView: !!this.props.initialInView, entry: undefined });\n      }\n    }\n\n    this.node = node ? node : null;\n    this.observeNode();\n  };\n\n  handleChange = (inView: boolean, entry: IntersectionObserverEntry) => {\n    if (inView && this.props.triggerOnce) {\n      // If `triggerOnce` is true, we should stop observing the element.\n      this.unobserve();\n    }\n    if (!isPlainChildren(this.props)) {\n      // Store the current State, so we can pass it to the children in the next render update\n      // There's no reason to update the state for plain children, since it's not used in the rendering.\n      this.setState({ inView, entry });\n    }\n    if (this.props.onChange) {\n      // If the user is actively listening for onChange, always trigger it\n      this.props.onChange(inView, entry);\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    if (typeof children === \"function\") {\n      const { inView, entry } = this.state;\n      return children({ inView, entry, ref: this.handleNode });\n    }\n\n    const {\n      as,\n      triggerOnce,\n      threshold,\n      root,\n      rootMargin,\n      onChange,\n      skip,\n      trackVisibility,\n      delay,\n      initialInView,\n      fallbackInView,\n      ...props\n    } = this.props as PlainChildrenProps;\n\n    return React.createElement(\n      as || \"div\",\n      { ref: this.handleNode, ...props },\n      children,\n    );\n  }\n}\n","import { FormTags, Hotkey, Scopes, Trigger } from './types'\nimport { isHotkeyPressed, isReadonlyArray } from './isHotkeyPressed'\nimport { mapKey } from './parseHotkeys'\n\nexport function maybePreventDefault(e: KeyboardEvent, hotkey: Hotkey, preventDefault?: Trigger): void {\n  if ((typeof preventDefault === 'function' && preventDefault(e, hotkey)) || preventDefault === true) {\n    e.preventDefault()\n  }\n}\n\nexport function isHotkeyEnabled(e: KeyboardEvent, hotkey: Hotkey, enabled?: Trigger): boolean {\n  if (typeof enabled === 'function') {\n    return enabled(e, hotkey)\n  }\n\n  return enabled === true || enabled === undefined\n}\n\nexport function isKeyboardEventTriggeredByInput(ev: KeyboardEvent): boolean {\n  return isHotkeyEnabledOnTag(ev, ['input', 'textarea', 'select'])\n}\n\nexport function isHotkeyEnabledOnTag(\n  event: KeyboardEvent,\n  enabledOnTags: readonly FormTags[] | boolean = false\n): boolean {\n  const {target, composed} = event;\n\n  let targetTagName: string | null = null\n\n  if (isCustomElement(target as HTMLElement) && composed) {\n    targetTagName = event.composedPath()[0] && (event.composedPath()[0] as HTMLElement).tagName;\n  } else {\n    targetTagName = target && (target as HTMLElement).tagName;\n  }\n\n  if (isReadonlyArray(enabledOnTags)) {\n    return Boolean(\n      targetTagName && enabledOnTags && enabledOnTags.some((tag) => tag.toLowerCase() === targetTagName?.toLowerCase())\n    )\n  }\n\n  return Boolean(targetTagName && enabledOnTags && enabledOnTags)\n}\n\nexport function isCustomElement(element: HTMLElement): boolean {\n  // We just do a basic check w/o any complex RegEx or validation against the list of legacy names containing a hyphen,\n  // as none of them is likely to be an event target, and it won't hurt anyway if we miss.\n  // see: https://html.spec.whatwg.org/multipage/custom-elements.html#prod-potentialcustomelementname\n  return !!element.tagName && !element.tagName.startsWith(\"-\") && element.tagName.includes(\"-\");\n}\n\nexport function isScopeActive(activeScopes: string[], scopes?: Scopes): boolean {\n  if (activeScopes.length === 0 && scopes) {\n    console.warn(\n      'A hotkey has the \"scopes\" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'\n    )\n\n    return true\n  }\n\n  if (!scopes) {\n    return true\n  }\n\n  return activeScopes.some((scope) => scopes.includes(scope)) || activeScopes.includes('*')\n}\n\nexport const isHotkeyMatchingKeyboardEvent = (e: KeyboardEvent, hotkey: Hotkey, ignoreModifiers = false): boolean => {\n  const { alt, meta, mod, shift, ctrl, keys } = hotkey\n  const { key: pressedKeyUppercase, code, ctrlKey, metaKey, shiftKey, altKey } = e\n\n  const keyCode = mapKey(code)\n  const pressedKey = pressedKeyUppercase.toLowerCase()\n\n  if (\n    !keys?.includes(keyCode) &&\n    !keys?.includes(pressedKey) &&\n    !['ctrl', 'control', 'unknown', 'meta', 'alt', 'shift', 'os'].includes(keyCode)\n  ) {\n    return false\n  }\n\n  if (!ignoreModifiers) {\n    // We check the pressed keys for compatibility with the keyup event. In keyup events the modifier flags are not set.\n    if (alt === !altKey && pressedKey !== 'alt') {\n      return false\n    }\n\n    if (shift === !shiftKey && pressedKey !== 'shift') {\n      return false\n    }\n\n    // Mod is a special key name that is checking for meta on macOS and ctrl on other platforms\n    if (mod) {\n      if (!metaKey && !ctrlKey) {\n        return false\n      }\n    } else {\n      if (meta === !metaKey && pressedKey !== 'meta' && pressedKey !== 'os') {\n        return false\n      }\n\n      if (ctrl === !ctrlKey && pressedKey !== 'ctrl' && pressedKey !== 'control') {\n        return false\n      }\n    }\n  }\n\n  // All modifiers are correct, now check the key\n  // If the key is set, we check for the key\n  if (keys && keys.length === 1 && (keys.includes(pressedKey) || keys.includes(keyCode))) {\n    return true\n  } else if (keys) {\n    // Check if all keys are present in pressedDownKeys set\n    return isHotkeyPressed(keys)\n  } else if (!keys) {\n    // If the key is not set, we only listen for modifiers, that check went alright, so we return true\n    return true\n  }\n\n  // There is nothing that matches.\n  return false\n}\n","import {\n  type Block,\n  type ExtendedRecordMap,\n  type PageBlock\n} from 'notion-types'\n\nimport { getBlockTitle } from './get-block-title'\nimport { getPageTableOfContents } from './get-page-table-of-contents'\n\ntype EstimatePageReadTimeOptions = {\n  wordsPerMinute?: number\n  imageReadTimeInSeconds?: number\n}\n\ntype ContentStats = {\n  numWords: number\n  numImages: number\n}\n\ntype PageReadTimeEstimate = ContentStats & {\n  totalWordsReadTimeInMinutes: number\n  totalImageReadTimeInMinutes: number\n  totalReadTimeInMinutes: number\n}\n\n/**\n * Returns an estimate for the time it would take for a person to read the content\n * in the given Notion page.\n *\n * Uses Medium for inspiration.\n *\n * @see https://blog.medium.com/read-time-and-you-bc2048ab620c\n * @see https://github.com/ngryman/reading-time\n *\n * TODO: handle non-english content.\n */\nexport function estimatePageReadTime(\n  block: Block,\n  recordMap: ExtendedRecordMap,\n  {\n    wordsPerMinute = 275,\n    imageReadTimeInSeconds = 12\n  }: EstimatePageReadTimeOptions = {}\n): PageReadTimeEstimate {\n  const stats = getBlockContentStats(block, recordMap)\n  const totalWordsReadTimeInMinutes = stats.numWords / wordsPerMinute\n  const totalImageReadTimeInSeconds =\n    stats.numImages > 10\n      ? (stats.numImages / 2) * (imageReadTimeInSeconds + 3) +\n        (stats.numImages - 10) * 3 // n/2(a+b) + 3 sec/image\n      : (stats.numImages / 2) *\n        (2 * imageReadTimeInSeconds + (1 - stats.numImages)) // n/2[2a+(n-1)d]\n  const totalImageReadTimeInMinutes = totalImageReadTimeInSeconds / 60\n\n  const totalReadTimeInMinutes =\n    totalWordsReadTimeInMinutes + totalImageReadTimeInMinutes\n\n  return {\n    ...stats,\n    totalWordsReadTimeInMinutes,\n    totalImageReadTimeInMinutes,\n    totalReadTimeInMinutes\n  }\n}\n\n/**\n * Same as `estimatePageReadTime`, except it returns the total time estimate as\n * a human-readable string.\n *\n * For example, \"9 minutes\" or \"less than a minute\".\n */\nexport function estimatePageReadTimeAsHumanizedString(\n  block: Block,\n  recordMap: ExtendedRecordMap,\n  opts: EstimatePageReadTimeOptions\n) {\n  const estimate = estimatePageReadTime(block, recordMap, opts)\n  return humanizeReadTime(estimate.totalReadTimeInMinutes)\n}\n\nfunction getBlockContentStats(\n  block: Block,\n  recordMap: ExtendedRecordMap\n): ContentStats {\n  const stats: ContentStats = {\n    numWords: 0,\n    numImages: 0\n  }\n\n  if (!block) {\n    return stats\n  }\n\n  for (const childId of block.content || []) {\n    const child = recordMap.block[childId]?.value\n    let recurse = false\n    if (!child) continue\n\n    switch (child.type) {\n      case 'quote':\n      // fallthrough\n      case 'alias':\n      // fallthrough\n      case 'header':\n      // fallthrough\n      case 'sub_header':\n      // fallthrough\n      case 'sub_sub_header': {\n        const title = getBlockTitle(child, recordMap)\n        stats.numWords += countWordsInText(title)\n        break\n      }\n\n      case 'callout':\n      // fallthrough\n      case 'toggle':\n      // fallthrough\n      case 'to_do':\n      // fallthrough\n      case 'bulleted_list':\n      // fallthrough\n      case 'numbered_list':\n      // fallthrough\n      case 'text': {\n        const title = getBlockTitle(child, recordMap)\n        stats.numWords += countWordsInText(title)\n        recurse = true\n        break\n      }\n\n      case 'embed':\n      // fallthrough\n      case 'tweet':\n      // fallthrough\n      case 'maps':\n      // fallthrough\n      case 'pdf':\n      // fallthrough\n      case 'figma':\n      // fallthrough\n      case 'typeform':\n      // fallthrough\n      case 'codepen':\n      // fallthrough\n      case 'excalidraw':\n      // fallthrough\n      case 'gist':\n      // fallthrough\n      case 'video':\n      // fallthrough\n      case 'drive':\n      // fallthrough\n      case 'audio':\n      // fallthrough\n      case 'file':\n      // fallthrough\n      case 'image':\n        // treat all embeds as images\n        stats.numImages += 1\n        break\n\n      case 'bookmark':\n        // treat bookmarks as quarter images since they aren't as content-ful as embedd images\n        stats.numImages += 0.25\n        break\n\n      case 'code':\n        // treat code blocks as double the complexity of images\n        stats.numImages += 2\n        break\n\n      case 'table':\n      // fallthrough\n      case 'collection_view':\n        // treat collection views as double the complexity of images\n        stats.numImages += 2\n        break\n\n      case 'column':\n      // fallthrough\n      case 'column_list':\n      // fallthrough\n      case 'transclusion_container':\n        recurse = true\n        break\n\n      case 'table_of_contents': {\n        const page = block as PageBlock\n        if (!page) continue\n\n        const toc = getPageTableOfContents(page, recordMap)\n        for (const tocItem of toc) {\n          stats.numWords += countWordsInText(tocItem.text)\n        }\n\n        break\n      }\n\n      case 'transclusion_reference': {\n        const referencePointerId =\n          child?.format?.transclusion_reference_pointer?.id\n\n        if (!referencePointerId) {\n          continue\n        }\n        const referenceBlock = recordMap.block[referencePointerId]?.value\n        if (referenceBlock) {\n          mergeContentStats(\n            stats,\n            getBlockContentStats(referenceBlock, recordMap)\n          )\n        }\n        break\n      }\n\n      default:\n        // ignore unrecognized blocks\n        break\n    }\n\n    if (recurse) {\n      mergeContentStats(stats, getBlockContentStats(child, recordMap))\n    }\n  }\n\n  return stats\n}\n\nfunction mergeContentStats(statsA: ContentStats, statsB: ContentStats) {\n  statsA.numWords += statsB.numWords\n  statsA.numImages += statsB.numImages\n}\n\nfunction countWordsInText(text: string): number {\n  if (!text) {\n    return 0\n  }\n\n  return (text.match(/\\w+/g) || []).length\n}\n\nfunction humanizeReadTime(time: number): string {\n  if (time < 0.5) {\n    return 'less than a minute'\n  }\n\n  if (time < 1.5) {\n    return '1 minute'\n  }\n\n  return `${Math.ceil(time)} minutes`\n}\n","import type * as types from 'notion-types'\nimport { getPageBreadcrumbs } from 'notion-utils'\nimport React from 'react'\nimport { useHotkeys } from 'react-hotkeys-hook'\n\nimport { useNotionContext } from '../context'\nimport { SearchIcon } from '../icons/search-icon'\nimport { type SearchNotionFn } from '../types'\nimport { cs } from '../utils'\nimport { PageIcon } from './page-icon'\nimport { SearchDialog } from './search-dialog'\n\nexport function Header({\n  block\n}: {\n  block: types.CollectionViewPageBlock | types.PageBlock\n}) {\n  return (\n    <header className='notion-header'>\n      <div className='notion-nav-header'>\n        <Breadcrumbs block={block} />\n        <Search block={block} />\n      </div>\n    </header>\n  )\n}\n\nexport function Breadcrumbs({\n  block,\n  rootOnly = false\n}: {\n  block: types.Block\n  rootOnly?: boolean\n}) {\n  const { recordMap, mapPageUrl, components } = useNotionContext()\n\n  const breadcrumbs = React.useMemo(() => {\n    const tempBreadcrumbs = getPageBreadcrumbs(recordMap, block.id)\n    if (rootOnly) {\n      return [tempBreadcrumbs?.[0]].filter(Boolean)\n    }\n\n    return tempBreadcrumbs\n  }, [recordMap, block.id, rootOnly])\n\n  return (\n    <div className='breadcrumbs' key='breadcrumbs'>\n      {breadcrumbs?.map((breadcrumb, index: number) => {\n        if (!breadcrumb) {\n          return null\n        }\n\n        const pageLinkProps: any = {}\n        const componentMap = {\n          pageLink: components.PageLink\n        }\n\n        if (breadcrumb.active) {\n          componentMap.pageLink = (props: any) => <div {...props} />\n        } else {\n          pageLinkProps.href = mapPageUrl(breadcrumb.pageId)\n        }\n\n        return (\n          <React.Fragment key={breadcrumb.pageId}>\n            <componentMap.pageLink\n              className={cs('breadcrumb', breadcrumb.active && 'active')}\n              {...pageLinkProps}\n            >\n              {breadcrumb.icon && (\n                <PageIcon className='icon' block={breadcrumb.block} />\n              )}\n\n              {breadcrumb.title && (\n                <span className='title'>{breadcrumb.title}</span>\n              )}\n            </componentMap.pageLink>\n\n            {index < breadcrumbs.length - 1 && (\n              <span className='spacer'>/</span>\n            )}\n          </React.Fragment>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Search({\n  block,\n  search,\n  title = 'Search'\n}: {\n  block: types.Block\n  search?: SearchNotionFn\n  title?: React.ReactNode\n}) {\n  const { searchNotion, rootPageId, isShowingSearch, onHideSearch } =\n    useNotionContext()\n  const onSearchNotion = search || searchNotion\n\n  const [isSearchOpen, setIsSearchOpen] = React.useState(isShowingSearch)\n  React.useEffect(() => {\n    setIsSearchOpen(isShowingSearch)\n  }, [isShowingSearch])\n\n  const onOpenSearch = React.useCallback(() => {\n    setIsSearchOpen(true)\n  }, [])\n\n  const onCloseSearch = React.useCallback(() => {\n    setIsSearchOpen(false)\n    if (onHideSearch) {\n      onHideSearch()\n    }\n  }, [onHideSearch])\n\n  useHotkeys('cmd+p', (event) => {\n    onOpenSearch()\n    event.preventDefault()\n    event.stopPropagation()\n  })\n\n  useHotkeys('cmd+k', (event) => {\n    onOpenSearch()\n    event.preventDefault()\n    event.stopPropagation()\n  })\n\n  const hasSearch = !!onSearchNotion\n\n  return (\n    <>\n      {hasSearch && (\n        <div\n          role='button'\n          className={cs('breadcrumb', 'button', 'notion-search-button')}\n          onClick={onOpenSearch}\n        >\n          <SearchIcon className='searchIcon' />\n\n          {title && <span className='title'>{title}</span>}\n        </div>\n      )}\n\n      {isSearchOpen && hasSearch && (\n        <SearchDialog\n          isOpen={isSearchOpen}\n          rootBlockId={rootPageId || block?.id}\n          onClose={onCloseSearch}\n          searchNotion={onSearchNotion}\n        />\n      )}\n    </>\n  )\n}\n","import type React from 'react'\nimport { type BaseContentBlock, type Block } from 'notion-types'\nimport { parsePageId } from 'notion-utils'\n\nimport { useNotionContext } from '..'\nimport { cs } from '../utils'\nimport { Asset } from './asset'\nimport { Text } from './text'\n\nconst urlStyle = { width: '100%' }\n\nexport function AssetWrapper({\n  blockId,\n  block\n}: {\n  blockId: string\n  block: Block\n}) {\n  const value = block as BaseContentBlock\n  const { components, mapPageUrl, rootDomain, zoom } = useNotionContext()\n\n  let isURL = false\n  if (block.type === 'image') {\n    const caption: string | undefined = value?.properties?.caption?.[0]?.[0]\n    if (caption) {\n      const id = parsePageId(caption, { uuid: true })\n\n      const isPage = caption.charAt(0) === '/' && id\n      if (isPage || isValidURL(caption)) {\n        isURL = true\n      }\n    }\n  }\n\n  const figure = (\n    <figure\n      className={cs(\n        'notion-asset-wrapper',\n        `notion-asset-wrapper-${block.type}`,\n        value.format?.block_full_width && 'notion-asset-wrapper-full',\n        blockId\n      )}\n    >\n      <Asset block={value} zoomable={zoom && !isURL}>\n        {value?.properties?.caption && !isURL && (\n          <figcaption className='notion-asset-caption'>\n            <Text value={value.properties.caption} block={block} />\n          </figcaption>\n        )}\n      </Asset>\n    </figure>\n  )\n\n  // allows for an image to be a link\n  if (isURL) {\n    const caption: string | undefined = value?.properties?.caption?.[0]?.[0]\n    const id = parsePageId(caption, { uuid: true })\n    const isPage = caption?.charAt(0) === '/' && id\n    const captionHostname = extractHostname(caption)\n\n    return (\n      <components.PageLink\n        style={urlStyle}\n        href={isPage ? mapPageUrl(id) : caption}\n        target={\n          captionHostname &&\n          captionHostname !== rootDomain &&\n          !caption?.startsWith('/')\n            ? 'blank_'\n            : null\n        }\n      >\n        {figure}\n      </components.PageLink>\n    )\n  }\n\n  return figure\n}\n\nfunction isValidURL(str: string) {\n  // TODO: replace this with a more well-tested package\n  const pattern = new RegExp(\n    '^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$',\n    'i'\n  )\n  return !!pattern.test(str)\n}\n\nfunction extractHostname(url?: string) {\n  try {\n    const hostname = new URL(url!).hostname\n    return hostname\n  } catch {\n    return ''\n  }\n}\n","import * as React from \"react\";\nimport type { InViewHookResponse, IntersectionOptions } from \"./index\";\nimport { observe } from \"./observe\";\n\ntype State = {\n  inView: boolean;\n  entry?: IntersectionObserverEntry;\n};\n\n/**\n * React Hooks make it easy to monitor the `inView` state of your components. Call\n * the `useInView` hook with the (optional) [options](#options) you need. It will\n * return an array containing a `ref`, the `inView` status and the current\n * [`entry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry).\n * Assign the `ref` to the DOM element you want to monitor, and the hook will\n * report the status.\n *\n * @example\n * ```jsx\n * import React from 'react';\n * import { useInView } from 'react-intersection-observer';\n *\n * const Component = () => {\n *   const { ref, inView, entry } = useInView({\n *       threshold: 0,\n *   });\n *\n *   return (\n *     <div ref={ref}>\n *       <h2>{`Header inside viewport ${inView}.`}</h2>\n *     </div>\n *   );\n * };\n * ```\n */\nexport function useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange,\n}: IntersectionOptions = {}): InViewHookResponse {\n  const [ref, setRef] = React.useState<Element | null>(null);\n  const callback = React.useRef<IntersectionOptions[\"onChange\"]>(onChange);\n  const [state, setState] = React.useState<State>({\n    inView: !!initialInView,\n    entry: undefined,\n  });\n\n  // Store the onChange callback in a `ref`, so we can access the latest instance\n  // inside the `useEffect`, but without triggering a rerender.\n  callback.current = onChange;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: threshold is not correctly detected as a dependency\n  React.useEffect(\n    () => {\n      // Ensure we have node ref, and that we shouldn't skip observing\n      if (skip || !ref) return;\n\n      let unobserve: (() => void) | undefined;\n      unobserve = observe(\n        ref,\n        (inView, entry) => {\n          setState({\n            inView,\n            entry,\n          });\n          if (callback.current) callback.current(inView, entry);\n\n          if (entry.isIntersecting && triggerOnce && unobserve) {\n            // If it should only trigger once, unobserve the element after it's inView\n            unobserve();\n            unobserve = undefined;\n          }\n        },\n        {\n          root,\n          rootMargin,\n          threshold,\n          // @ts-ignore\n          trackVisibility,\n          // @ts-ignore\n          delay,\n        },\n        fallbackInView,\n      );\n\n      return () => {\n        if (unobserve) {\n          unobserve();\n        }\n      };\n    },\n    // We break the rule here, because we aren't including the actual `threshold` variable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      // If the threshold is an array, convert it to a string, so it won't change between renders.\n      Array.isArray(threshold) ? threshold.toString() : threshold,\n      ref,\n      root,\n      rootMargin,\n      triggerOnce,\n      skip,\n      trackVisibility,\n      fallbackInView,\n      delay,\n    ],\n  );\n\n  const entryTarget = state.entry?.target;\n  const previousEntryTarget = React.useRef<Element | undefined>(undefined);\n  if (\n    !ref &&\n    entryTarget &&\n    !triggerOnce &&\n    !skip &&\n    previousEntryTarget.current !== entryTarget\n  ) {\n    // If we don't have a node ref, then reset the state (unless the hook is set to only `triggerOnce` or `skip`)\n    // This ensures we correctly reflect the current state - If you aren't observing anything, then nothing is inView\n    previousEntryTarget.current = entryTarget;\n    setState({\n      inView: !!initialInView,\n      entry: undefined,\n    });\n  }\n\n  const result = [setRef, state.inView, state.entry] as InViewHookResponse;\n\n  // Support object destructuring, by adding the specific values.\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n\n  return result;\n}\n","import { createContext, ReactNode, useContext } from 'react'\nimport { Hotkey } from './types'\n\ntype BoundHotkeysProxyProviderType = {\n  addHotkey: (hotkey: Hotkey) => void\n  removeHotkey: (hotkey: Hotkey) => void\n}\n\nconst BoundHotkeysProxyProvider = createContext<BoundHotkeysProxyProviderType | undefined>(undefined)\n\nexport const useBoundHotkeysProxy = () => {\n  return useContext(BoundHotkeysProxyProvider)\n}\n\ninterface Props {\n  children: ReactNode\n  addHotkey: (hotkey: Hotkey) => void\n  removeHotkey: (hotkey: Hotkey) => void\n}\n\nexport default function BoundHotkeysProxyProviderProvider({ addHotkey, removeHotkey, children }: Props) {\n  return (\n    <BoundHotkeysProxyProvider.Provider value={{ addHotkey, removeHotkey }}>\n      {children}\n    </BoundHotkeysProxyProvider.Provider>\n  )\n}\n","export default function deepEqual(x: any, y: any): boolean {\n  //@ts-ignore\n  return x && y && typeof x === 'object' && typeof y === 'object'\n    ? Object.keys(x).length === Object.keys(y).length &&\n        //@ts-ignore\n        Object.keys(x).reduce((isEqual, key) => isEqual && deepEqual(x[key], y[key]), true)\n    : x === y\n}\n","import { Hotkey } from './types'\nimport { createContext, ReactNode, useState, useContext, useCallback } from 'react'\nimport BoundHotkeysProxyProviderProvider from './BoundHotkeysProxyProvider'\nimport deepEqual from './deepEqual'\n\nexport type HotkeysContextType = {\n  hotkeys: ReadonlyArray<Hotkey>\n  enabledScopes: string[]\n  toggleScope: (scope: string) => void\n  enableScope: (scope: string) => void\n  disableScope: (scope: string) => void\n}\n\n// The context is only needed for special features like global scoping, so we use a graceful default fallback\nconst HotkeysContext = createContext<HotkeysContextType>({\n  hotkeys: [],\n  enabledScopes: [], // This array has to be empty instead of containing '*' as default, to check if the provider is set or not\n  toggleScope: () => {},\n  enableScope: () => {},\n  disableScope: () => {},\n})\n\nexport const useHotkeysContext = () => {\n  return useContext(HotkeysContext)\n}\n\ninterface Props {\n  initiallyActiveScopes?: string[]\n  children: ReactNode\n}\n\nexport const HotkeysProvider = ({ initiallyActiveScopes = ['*'], children }: Props) => {\n  const [internalActiveScopes, setInternalActiveScopes] = useState(\n    initiallyActiveScopes?.length > 0 ? initiallyActiveScopes : ['*']\n  )\n  const [boundHotkeys, setBoundHotkeys] = useState<Hotkey[]>([])\n\n  const enableScope = useCallback((scope: string) => {\n    setInternalActiveScopes((prev) => {\n      if (prev.includes('*')) {\n        return [scope]\n      }\n\n      return Array.from(new Set([...prev, scope]))\n    })\n  }, [])\n\n  const disableScope = useCallback((scope: string) => {\n    setInternalActiveScopes((prev) => {\n      if (prev.filter((s) => s !== scope).length === 0) {\n        return ['*']\n      } else {\n        return prev.filter((s) => s !== scope)\n      }\n    })\n  }, [])\n\n  const toggleScope = useCallback((scope: string) => {\n    setInternalActiveScopes((prev) => {\n      if (prev.includes(scope)) {\n        if (prev.filter((s) => s !== scope).length === 0) {\n          return ['*']\n        } else {\n          return prev.filter((s) => s !== scope)\n        }\n      } else {\n        if (prev.includes('*')) {\n          return [scope]\n        }\n\n        return Array.from(new Set([...prev, scope]))\n      }\n    })\n  }, [])\n\n  const addBoundHotkey = useCallback((hotkey: Hotkey) => {\n    setBoundHotkeys((prev) => [...prev, hotkey])\n  }, [])\n\n  const removeBoundHotkey = useCallback((hotkey: Hotkey) => {\n    setBoundHotkeys((prev) => prev.filter((h) => !deepEqual(h, hotkey)))\n  }, [])\n\n  return (\n    <HotkeysContext.Provider\n      value={{ enabledScopes: internalActiveScopes, hotkeys: boundHotkeys, enableScope, disableScope, toggleScope }}\n    >\n      <BoundHotkeysProxyProviderProvider addHotkey={addBoundHotkey} removeHotkey={removeBoundHotkey}>\n        {children}\n      </BoundHotkeysProxyProviderProvider>\n    </HotkeysContext.Provider>\n  )\n}\n","export const formatDate = (\n  input: string | number,\n  { month = 'short' }: { month?: 'long' | 'short' } = {}\n) => {\n  const date = new Date(input)\n  const monthLocale = date.toLocaleString('en-US', { month })\n  return `${monthLocale} ${date.getUTCDate()}, ${date.getUTCFullYear()}`\n}\n","import { formatDate } from './format-date'\n\nexport interface NotionDateTime {\n  type: 'datetime'\n  start_date: string\n  start_time?: string\n  time_zone?: string\n}\n\nexport const formatNotionDateTime = (datetime: NotionDateTime) => {\n  // Adding +00:00 preserve the time in UTC.\n  const dateString = `${datetime.start_date}T${\n    datetime.start_time || '00:00'\n  }+00:00`\n  return formatDate(dateString)\n}\n","import { type ExtendedRecordMap, type PageMap } from 'notion-types'\nimport PQueue from 'p-queue'\n\nimport { parsePageId } from './parse-page-id'\n\n/**\n * Performs a traversal over a given Notion workspace starting from a seed page.\n *\n * Returns a map containing all of the pages that are reachable from the seed\n * page in the space.\n *\n * If `rootSpaceId` is not defined, the space ID of the root page will be used\n * to scope traversal.\n *\n * @param rootPageId - Page ID to start from.\n * @param rootSpaceId - Space ID to scope traversal.\n * @param getPage - Function used to fetch a single page.\n * @param opts - Optional config\n */\nexport async function getAllPagesInSpace(\n  rootPageId: string,\n  rootSpaceId: string | undefined,\n  getPage: (pageId: string) => Promise<ExtendedRecordMap>,\n  {\n    concurrency = 4,\n    traverseCollections = true,\n    targetPageId,\n    maxDepth = Number.POSITIVE_INFINITY\n  }: {\n    concurrency?: number\n    traverseCollections?: boolean\n    targetPageId?: string\n    maxDepth?: number\n  } = {}\n): Promise<PageMap> {\n  const pages: PageMap = {}\n  const pendingPageIds = new Set<string>()\n  const queue = new PQueue({ concurrency })\n\n  async function processPage(pageId: string, depth = 0) {\n    if (depth > maxDepth) {\n      return\n    }\n\n    if (targetPageId && pendingPageIds.has(targetPageId)) {\n      return\n    }\n\n    pageId = parsePageId(pageId) as string\n\n    if (pageId && !pages[pageId] && !pendingPageIds.has(pageId)) {\n      pendingPageIds.add(pageId)\n\n      void queue.add(async () => {\n        try {\n          if (\n            targetPageId &&\n            pendingPageIds.has(targetPageId) &&\n            pageId !== targetPageId\n          ) {\n            return\n          }\n\n          const page = await getPage(pageId)\n          if (!page) {\n            return\n          }\n\n          const spaceId = page.block[pageId]?.value?.space_id\n\n          if (spaceId) {\n            if (!rootSpaceId) {\n              rootSpaceId = spaceId\n            } else if (rootSpaceId !== spaceId) {\n              return\n            }\n          }\n\n          for (const subPageId of Object.keys(page.block).filter((key) => {\n            const block = page.block[key]?.value\n            if (!block || block.alive === false) return false\n\n            if (\n              block.type !== 'page' &&\n              block.type !== 'collection_view_page'\n            ) {\n              return false\n            }\n\n            // the space id check is important to limit traversal because pages\n            // can reference pages in other spaces\n            if (\n              rootSpaceId &&\n              block.space_id &&\n              block.space_id !== rootSpaceId\n            ) {\n              return false\n            }\n\n            return true\n          })) {\n            void processPage(subPageId, depth + 1)\n          }\n\n          // traverse collection item pages as they may contain subpages as well\n          if (traverseCollections) {\n            for (const collectionViews of Object.values(\n              page.collection_query\n            )) {\n              for (const collectionData of Object.values(collectionViews)) {\n                const blockIds = Array.from(\n                  new Set([\n                    ...(collectionData?.collection_group_results?.blockIds ||\n                      []),\n                    ...(collectionData.blockIds || [])\n                  ])\n                )\n\n                if (blockIds.length) {\n                  for (const collectionItemId of blockIds) {\n                    void processPage(collectionItemId, depth + 1)\n                  }\n                }\n              }\n            }\n          }\n\n          pages[pageId] = page\n        } catch (err: any) {\n          console.warn(\n            'page load error',\n            { pageId, spaceId: rootSpaceId },\n            err.statusCode,\n            err.message\n          )\n          pages[pageId] = null\n        }\n\n        pendingPageIds.delete(pageId)\n      })\n    }\n  }\n\n  await processPage(rootPageId)\n  await queue.onIdle()\n\n  return pages\n}\n","import type React from 'react'\nimport { type BaseContentBlock, type Block } from 'notion-types'\nimport { getTextContent } from 'notion-utils'\n\nimport { useNotionContext } from '../context'\nimport { getUrlParams, getYoutubeId } from '../utils'\nimport { LazyImage } from './lazy-image'\nimport { LiteYouTubeEmbed } from './lite-youtube-embed'\n\nconst isServer = !globalThis.window\n\nconst supportedAssetTypes = new Set([\n  'replit',\n  'video',\n  'image',\n  'embed',\n  'figma',\n  'typeform',\n  'excalidraw',\n  'maps',\n  'tweet',\n  'pdf',\n  'gist',\n  'codepen',\n  'drive'\n])\n\nexport function Asset({\n  block,\n  zoomable = true,\n  children\n}: {\n  block: BaseContentBlock\n  children: any\n  zoomable?: boolean\n}) {\n  const { recordMap, mapImageUrl, components } = useNotionContext()\n\n  if (!block || !supportedAssetTypes.has(block.type)) {\n    return null\n  }\n\n  const style: React.CSSProperties = {\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    width: '100%',\n    maxWidth: '100%',\n    flexDirection: 'column'\n  }\n\n  const assetStyle: React.CSSProperties = {}\n  // console.log('asset', block)\n\n  if (block.format) {\n    const {\n      block_aspect_ratio,\n      block_height,\n      block_width,\n      block_full_width,\n      block_page_width,\n      block_preserve_scale\n    } = block.format\n\n    if (block_full_width || block_page_width) {\n      if (block_full_width) {\n        style.width = '100vw'\n      } else {\n        style.width = '100%'\n      }\n\n      if (block.type === 'video') {\n        if (block_height) {\n          style.height = block_height\n        } else if (block_aspect_ratio) {\n          style.paddingBottom = `${block_aspect_ratio * 100}%`\n        } else if (block_preserve_scale) {\n          style.objectFit = 'contain'\n        }\n      } else if (block_aspect_ratio && block.type !== 'image') {\n        style.paddingBottom = `${block_aspect_ratio * 100}%`\n      } else if (block_height) {\n        style.height = block_height\n      } else if (block_preserve_scale) {\n        if (block.type === 'image') {\n          style.height = '100%'\n        } else {\n          // TODO: this is just a guess\n          style.paddingBottom = '75%'\n          style.minHeight = 100\n        }\n      }\n    } else {\n      switch (block.format?.block_alignment) {\n        case 'center':\n          style.alignSelf = 'center'\n          break\n\n        case 'left':\n          style.alignSelf = 'start'\n          break\n\n        case 'right':\n          style.alignSelf = 'end'\n          break\n      }\n\n      if (block_width) {\n        style.width = block_width\n      }\n\n      if (block_preserve_scale && block.type !== 'image') {\n        style.paddingBottom = '50%'\n        style.minHeight = 100\n      } else {\n        if (block_height && block.type !== 'image') {\n          style.height = block_height\n        }\n      }\n    }\n\n    if (block.type === 'image') {\n      assetStyle.objectFit = 'cover'\n    } else if (block_preserve_scale) {\n      assetStyle.objectFit = 'contain'\n    }\n  }\n\n  let source =\n    recordMap.signed_urls?.[block.id] || block.properties?.source?.[0]?.[0]\n\n  if (!source) {\n    return null\n  }\n\n  if (block.space_id) {\n    const url = new URL(source)\n    url.searchParams.set('spaceId', block.space_id)\n    source = url.toString()\n  }\n\n  let content = null\n\n  if (block.type === 'tweet') {\n    const src = source\n    if (!src) return null\n\n    const id = src.split('?')?.[0]?.split('/').pop()\n    if (!id) return null\n\n    content = (\n      <div\n        style={{\n          ...assetStyle,\n          maxWidth: 420,\n          width: '100%',\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }}\n      >\n        <components.Tweet id={id} />\n      </div>\n    )\n  } else if (block.type === 'pdf') {\n    style.overflow = 'auto'\n    style.background = 'rgb(226, 226, 226)'\n    style.display = 'block'\n\n    if (!style.padding) {\n      style.padding = '8px 16px'\n    }\n\n    if (!isServer) {\n      // console.log('pdf', block, signedUrl)\n      content = <components.Pdf file={source} />\n    }\n  } else if (\n    block.type === 'embed' ||\n    block.type === 'video' ||\n    block.type === 'figma' ||\n    block.type === 'typeform' ||\n    block.type === 'gist' ||\n    block.type === 'maps' ||\n    block.type === 'excalidraw' ||\n    block.type === 'codepen' ||\n    block.type === 'drive' ||\n    block.type === 'replit'\n  ) {\n    if (\n      block.type === 'video' &&\n      source &&\n      !source.includes('youtube') &&\n      !source.includes('youtu.be') &&\n      !source.includes('vimeo') &&\n      !source.includes('wistia') &&\n      !source.includes('loom') &&\n      !source.includes('videoask') &&\n      !source.includes('getcloudapp') &&\n      !source.includes('tella')\n    ) {\n      style.paddingBottom = undefined\n\n      content = (\n        <video\n          playsInline\n          controls\n          preload='metadata'\n          style={assetStyle}\n          src={source}\n          title={block.type}\n        />\n      )\n    } else {\n      let src = block.format?.display_source || source\n\n      if (src) {\n        const youtubeVideoId: string | null =\n          block.type === 'video' ? getYoutubeId(src) : null\n        // console.log({ youtubeVideoId, src, format: block.format, style })\n\n        if (youtubeVideoId) {\n          const params = getUrlParams(src)\n          content = (\n            <LiteYouTubeEmbed\n              id={youtubeVideoId}\n              style={assetStyle}\n              className='notion-asset-object-fit'\n              params={params}\n            />\n          )\n        } else if (block.type === 'gist') {\n          if (!src.endsWith('.pibb')) {\n            src = `${src}.pibb`\n          }\n\n          assetStyle.width = '100%'\n          style.paddingBottom = '50%'\n\n          // TODO: GitHub gists do not resize their height properly\n          content = (\n            <iframe\n              style={assetStyle}\n              className='notion-asset-object-fit'\n              src={src}\n              title='GitHub Gist'\n              frameBorder='0'\n              // TODO: is this sandbox necessary?\n              // sandbox='allow-scripts allow-popups allow-top-navigation-by-user-activation allow-forms allow-same-origin'\n              // this is important for perf but react's TS definitions don't seem to like it\n              loading='lazy'\n              scrolling='auto'\n            />\n          )\n        } else {\n          src += block.type === 'typeform' ? '&disable-auto-focus=true' : ''\n\n          content = (\n            <iframe\n              className='notion-asset-object-fit'\n              style={assetStyle}\n              src={src}\n              title={`iframe ${block.type}`}\n              frameBorder='0'\n              // TODO: is this sandbox necessary?\n              // sandbox='allow-scripts allow-popups allow-top-navigation-by-user-activation allow-forms allow-same-origin'\n              allowFullScreen\n              // this is important for perf but react's TS definitions don't seem to like it\n              loading='lazy'\n              scrolling='auto'\n            />\n          )\n        }\n      }\n    }\n  } else if (block.type === 'image') {\n    // console.log('image', block)\n    // TODO: kind of a hack for now. New file.notion.so images aren't signed correctly\n    if (source.includes('file.notion.so')) {\n      source = block.properties?.source?.[0]?.[0]\n    }\n    const src = mapImageUrl(source, block as Block)\n    const altText = getTextContent(block.properties?.alt_text)\n    const caption = getTextContent(block.properties?.caption)\n    const alt = altText || caption || 'notion image'\n\n    content = (\n      <LazyImage\n        src={src}\n        alt={alt}\n        zoomable={zoomable}\n        height={style.height as number}\n        style={assetStyle}\n      />\n    )\n  }\n\n  return (\n    <>\n      <div style={style}>\n        {content}\n        {block.type === 'image' && children}\n      </div>\n\n      {block.type !== 'image' && children}\n    </>\n  )\n}\n","//^^ Imported from https://github.com/fpapado/react-lazy-images/\n//^^ Edited by mustaqimarifin https://github.com/mustaqimarifin\n\nimport { Component } from 'react'\nimport { InView } from 'react-intersection-observer'\nimport { ofType, unionize, type UnionOf } from 'unionize'\n\n/**\n * Valid props for LazyImage components\n */\nexport type CommonLazyImageProps = ImageProps & {\n  // NOTE: if you add props here, remember to destructure them out of being\n  // passed to the children, in the render() callback.\n\n  /** Whether to skip checking for viewport and always show the 'actual' component\n   * @see https://github.com/fpapado/react-lazy-images/#eager-loading--server-side-rendering-ssr\n   */\n  loadEagerly?: boolean\n\n  /** Subset of props for the IntersectionObserver\n   * @see https://github.com/thebuilder/react-intersection-observer#props\n   */\n  observerProps?: ObserverProps\n\n  /** Use the Image Decode API;\n   * The call to a new HTML <img> element’s decode() function returns a promise, which,\n   * when fulfilled, ensures that the image can be appended to the DOM without causing\n   * a decoding delay on the next frame.\n   *  @see: https://www.chromestatus.com/feature/5637156160667648\n   */\n  experimentalDecode?: boolean\n\n  /** Whether to log out internal state transitions for the component */\n  debugActions?: boolean\n\n  /** Delay a certain duration before starting to load, in ms.\n   * This can help avoid loading images while the user scrolls quickly past them.\n   * TODO: naming things.\n   */\n  debounceDurationMs?: number\n}\n\n/** Valid props for LazyImageFull */\nexport interface LazyImageFullProps extends CommonLazyImageProps {\n  /** Children should be either a function or a node */\n  children: (args: RenderCallbackArgs) => React.ReactNode\n}\n\n/** Values that the render props take */\nexport interface RenderCallbackArgs {\n  imageState: ImageState\n  imageProps: ImageProps\n  /** When not loading eagerly, a ref to bind to the DOM element. This is needed for the intersection calculation to work. */\n  ref?: React.RefObject<any> | ((node?: Element | null) => void)\n}\n\nexport interface ImageProps {\n  /** The source of the image to load */\n  src: string\n\n  /** The source set of the image to load */\n  srcSet?: string\n\n  /** The alt text description of the image you are loading */\n  alt?: string\n\n  /** Sizes descriptor */\n  sizes?: string\n}\n\n/** Subset of react-intersection-observer's props */\nexport interface ObserverProps {\n  /**\n   * Margin around the root that expands the area for intersection.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/rootMargin\n   * @default \"50px 0px\"\n   * @example Declaration same as CSS margin:\n   *  `\"10px 20px 30px 40px\"` (top, right, bottom, left).\n   */\n  rootMargin?: string\n\n  /** Number between 0 and 1 indicating the the percentage that should be\n   * visible before triggering.\n   * @default `0.01`\n   */\n  threshold?: number\n}\n\n/** States that the image loading can be in.\n * Used together with LazyImageFull render props.\n * External representation of the internal state.\n * */\nexport enum ImageState {\n  NotAsked = 'NotAsked',\n  Loading = 'Loading',\n  LoadSuccess = 'LoadSuccess',\n  LoadError = 'LoadError'\n}\n\n/** The component's state */\nconst LazyImageFullState = unionize({\n  NotAsked: {},\n  Buffering: {},\n  // Could try to make it Promise<HTMLImageElement>,\n  // but we don't use the element anyway, and we cache promises\n  Loading: {},\n  LoadSuccess: {},\n  LoadError: ofType<{ msg: string }>()\n})\n\ntype LazyImageFullState = UnionOf<typeof LazyImageFullState>\n\n/** Actions that change the component's state.\n * These are not unlike Actions in Redux or, the ones I'm inspired by,\n * Msg in Elm.\n */\nconst Action = unionize({\n  ViewChanged: ofType<{ inView: boolean }>(),\n  BufferingEnded: {},\n  // MAYBE: Load: {},\n  LoadSuccess: {},\n  LoadError: ofType<{ msg: string }>()\n})\n\ntype Action = UnionOf<typeof Action>\n\n/** Commands (Cmd) describe side-effects as functions that take the instance */\n// FUTURE: These should be tied to giving back a Msg / asynchronoulsy giving a Msg with conditions\ntype Cmd = (instance: LazyImageFull) => void\n\n/** The output from a reducer is the next state and maybe a command */\ntype ReducerResult = {\n  nextState: LazyImageFullState\n  cmd?: Cmd\n}\n\n///// Commands, things that perform side-effects /////\n/** Get a command that sets a buffering Promise */\nconst getBufferingCmd =\n  (durationMs: number): Cmd =>\n  (instance) => {\n    // Make cancelable buffering Promise\n    const bufferingPromise = makeCancelable(delayedPromise(durationMs))\n\n    // Kick off promise chain\n    bufferingPromise.promise\n      .then(() => instance.update(Action.BufferingEnded()))\n      .catch(\n        (_err) => {}\n        //console.log({ isCanceled: _reason.isCanceled })\n      )\n\n    // Side-effect; set the promise in the cache\n    instance.promiseCache.buffering = bufferingPromise\n  }\n\n/** Get a command that sets an image loading Promise */\nconst getLoadingCmd =\n  (imageProps: ImageProps, experimentalDecode?: boolean): Cmd =>\n  (instance) => {\n    // Make cancelable loading Promise\n    const loadingPromise = makeCancelable(\n      loadImage(imageProps, experimentalDecode)\n    )\n\n    // Kick off request for Image and attach listeners for response\n    loadingPromise.promise\n      .then((_res) => instance.update(Action.LoadSuccess({})))\n      .catch((err) => {\n        // If the Loading Promise was canceled, it means we have stopped\n        // loading due to unmount, rather than an error.\n        if (!err.isCanceled) {\n          //@ts-expect-error No need for changing structure\n          instance.update(new Action.LoadError({ msg: 'LoadError' }))\n        }\n      })\n\n    // Side-effect; set the promise in the cache\n    instance.promiseCache.loading = loadingPromise\n  }\n\n/** Command that cancels the buffering Promise */\nconst cancelBufferingCmd: Cmd = (instance) => {\n  // Side-effect; cancel the promise in the cache\n  // We know this exists if we are in a Buffering state\n  instance.promiseCache.buffering?.cancel()\n}\n\n/**\n * Component that preloads the image once it is in the viewport,\n * and then swaps it in. Takes a render prop that allows to specify\n * what is rendered based on the loading state.\n */\nexport class LazyImageFull extends Component<\n  LazyImageFullProps,\n  LazyImageFullState\n> {\n  static displayName = 'LazyImageFull'\n\n  /** A central place to store promises.\n   * A bit silly, but passing promises directly in the state\n   * was giving me weird timing issues. This way we can keep\n   * the promises in check, and pick them up from the respective methods.\n   * FUTURE: Could pass the relevant key in Buffering and Loading, so\n   * that at least we know where they are from a single source.\n   */\n  promiseCache: {\n    [key: string]: CancelablePromise\n  } = {}\n\n  initialState = LazyImageFullState.NotAsked()\n\n  /** Emit the next state based on actions.\n   *  This is the core of the component!\n   */\n  static reducer(\n    action: Action,\n    prevState: LazyImageFullState,\n    props: LazyImageFullProps\n  ): ReducerResult {\n    return Action.match(action, {\n      ViewChanged: ({ inView }) => {\n        if (inView === true) {\n          // If src is not specified, then there is nothing to preload; skip to Loaded state\n          if (!props.src) {\n            return { nextState: LazyImageFullState.LoadSuccess() } // Error wtf\n          } else {\n            // If in view, only load something if NotAsked, otherwise leave untouched\n            return LazyImageFullState.match(prevState, {\n              NotAsked: () => {\n                // If debounce is specified, then start buffering\n                if (props.debounceDurationMs) {\n                  return {\n                    nextState: LazyImageFullState.Buffering(),\n                    cmd: getBufferingCmd(props.debounceDurationMs)\n                  }\n                } else {\n                  // If no debounce is specified, then start loading immediately\n                  return {\n                    nextState: LazyImageFullState.Loading(),\n                    cmd: getLoadingCmd(props, props.experimentalDecode)\n                  }\n                }\n              },\n              // Do nothing in other states\n              default: () => ({ nextState: prevState })\n            })\n          }\n        } else {\n          // If out of view, cancel if Buffering, otherwise leave untouched\n          return LazyImageFullState.match(prevState, {\n            Buffering: () => ({\n              nextState: LazyImageFullState.NotAsked(),\n              cmd: cancelBufferingCmd\n            }),\n            // Do nothing in other states\n            default: () => ({ nextState: prevState })\n          })\n        }\n      },\n      // Buffering has ended/succeeded, kick off request for image\n      BufferingEnded: () => ({\n        nextState: LazyImageFullState.Loading(),\n        cmd: getLoadingCmd(props, props.experimentalDecode)\n      }),\n      // Loading the image succeeded, simple\n      LoadSuccess: () => ({ nextState: LazyImageFullState.LoadSuccess() }),\n      //@ts-expect-error No need for changing structure\n      LoadError: (e) => ({ nextState: new LazyImageFullState.LoadError(e) })\n    })\n  }\n\n  constructor(props: LazyImageFullProps) {\n    super(props)\n    this.state = this.initialState\n\n    // Bind methods\n    this.update = this.update.bind(this)\n  }\n\n  update(action: Action) {\n    // Get the next state and any effects\n    const { nextState, cmd } = LazyImageFull.reducer(\n      action,\n      this.state,\n      this.props\n    )\n\n    // Debugging\n    if (this.props.debugActions) {\n      if (process.env.NODE_ENV === 'production') {\n        console.warn(\n          'You are running LazyImage with debugActions=\"true\" in production. This might have performance implications.'\n        )\n      }\n      console.log({ action, prevState: this.state, nextState })\n    }\n\n    // Actually set the state, and kick off any effects after that\n    this.setState(nextState, () => cmd && cmd(this))\n  }\n\n  override componentWillUnmount() {\n    // Clear the Promise Cache\n    if (this.promiseCache.loading) {\n      // NOTE: This does not cancel the request, only the callback.\n      // We we would need fetch() and an AbortHandler for that.\n      this.promiseCache.loading.cancel()\n    }\n    if (this.promiseCache.buffering) {\n      this.promiseCache.buffering.cancel()\n    }\n    this.promiseCache = {}\n  }\n\n  // Render function\n  override render() {\n    // This destructuring is silly\n    const { children, loadEagerly, observerProps, ...imageProps } = this.props\n\n    if (loadEagerly) {\n      // If eager, skip the observer and view changing stuff; resolve the imageState as loaded.\n      return children({\n        // We know that the state tags and the enum match up\n        imageState: LazyImageFullState.LoadSuccess().tag as ImageState,\n        imageProps\n      })\n    } else {\n      return (\n        <InView\n          rootMargin='50px 0px'\n          // TODO: reconsider threshold\n          threshold={0.01}\n          {...observerProps}\n          onChange={(inView: boolean) =>\n            this.update(Action.ViewChanged({ inView }))\n          }\n        >\n          {({ ref }: RenderProps) =>\n            children({\n              // We know that the state tags and the enum match up, apart\n              // from Buffering not being exposed\n              imageState:\n                this.state.tag === 'Buffering'\n                  ? ImageState.Loading\n                  : (this.state.tag as ImageState),\n              imageProps,\n              ref\n            })\n          }\n        </InView>\n      )\n    }\n  }\n}\n\ninterface RenderProps {\n  inView: boolean\n  entry: IntersectionObserverEntry | undefined\n  ref: React.RefObject<any> | ((node?: Element | null) => void)\n}\n\n///// Utilities /////\n\n/** Promise constructor for loading an image */\nconst loadImage = (\n  { src, srcSet, alt, sizes }: ImageProps,\n  experimentalDecode = false\n) =>\n  new Promise((resolve, reject) => {\n    const image = new Image()\n    if (srcSet) {\n      image.srcset = srcSet\n    }\n    if (alt) {\n      image.alt = alt\n    }\n    if (sizes) {\n      image.sizes = sizes\n    }\n    image.src = src\n\n    /** @see: https://www.chromestatus.com/feature/5637156160667648 */\n    if (experimentalDecode && 'decode' in image) {\n      return image\n        .decode()\n        .then(() => resolve(image))\n        .catch((err: any) => reject(err))\n    }\n\n    image.addEventListener('load', resolve)\n    image.addEventListener('error', reject)\n  })\n\n/** Promise that resolves after a specified number of ms */\nconst delayedPromise = (ms: number) =>\n  new Promise((resolve) => setTimeout(resolve, ms))\n\ninterface CancelablePromise {\n  promise: Promise<any>\n  cancel: () => void\n}\n\n/** Make a Promise \"cancelable\".\n *\n * Rejects with {isCanceled: true} if canceled.\n *\n * The way this works is by wrapping it with internal hasCanceled_ state\n * and checking it before resolving.\n */\nconst makeCancelable = (promise: Promise<any>): CancelablePromise => {\n  let hasCanceled_ = false\n\n  const wrappedPromise = new Promise<any>((resolve, reject) => {\n    void promise.then((val: any) =>\n      hasCanceled_ ? reject({ isCanceled: true }) : resolve(val)\n    )\n    promise.catch((err: any) =>\n      hasCanceled_ ? reject({ isCanceled: true }) : reject(err)\n    )\n  })\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true\n    }\n  }\n}\n","import { idToUuid } from './id-to-uuid'\n\nconst pageIdRe = /\\b([\\da-f]{32})\\b/\n\n// TODO\n// eslint-disable-next-line security/detect-unsafe-regex\nconst pageId2Re = /\\b([\\da-f]{8}(?:-[\\da-f]{4}){3}-[\\da-f]{12})\\b/\n\n/**\n * Robustly extracts the notion page ID from a notion URL or pathname suffix.\n *\n * Defaults to returning a UUID (with dashes).\n */\nexport const parsePageId = (\n  id: string | undefined | null = '',\n  { uuid = true }: { uuid?: boolean } = {}\n): string | undefined => {\n  if (!id) return\n\n  id = id.split('?')[0]!\n  if (!id) return\n\n  const match = id.match(pageIdRe)\n\n  if (match) {\n    return uuid ? idToUuid(match[1]) : match[1]\n  }\n\n  const match2 = id.match(pageId2Re)\n  if (match2) {\n    return uuid ? match2[1] : match2[1]!.replaceAll('-', '')\n  }\n\n  return\n}\n","import { useRef } from 'react'\nimport deepEqual from './deepEqual'\n\nexport default function useDeepEqualMemo<T>(value: T) {\n  const ref = useRef<T | undefined>(undefined)\n\n  if (!deepEqual(ref.current, value)) {\n    ref.current = value\n  }\n\n  return ref.current\n}\n","import { HotkeyCallback, Keys, Options, OptionsOrDependencyArray, RefType } from './types'\nimport { DependencyList, RefCallback, useCallback, useEffect, useState, useLayoutEffect, useRef } from 'react'\nimport { mapKey, parseHotkey, parseKeysHookInput } from './parseHotkeys'\nimport {\n  isHotkeyEnabled,\n  isHotkeyEnabledOnTag,\n  isHotkeyMatchingKeyboardEvent,\n  isKeyboardEventTriggeredByInput,\n  isScopeActive,\n  maybePreventDefault,\n} from './validators'\nimport { useHotkeysContext } from './HotkeysProvider'\nimport { useBoundHotkeysProxy } from './BoundHotkeysProxyProvider'\nimport useDeepEqualMemo from './useDeepEqualMemo'\nimport { isReadonlyArray, pushToCurrentlyPressedKeys, removeFromCurrentlyPressedKeys } from './isHotkeyPressed'\n\nconst stopPropagation = (e: KeyboardEvent): void => {\n  e.stopPropagation()\n  e.preventDefault()\n  e.stopImmediatePropagation()\n}\n\nconst useSafeLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect\n\nexport default function useHotkeys<T extends HTMLElement>(\n  keys: Keys,\n  callback: HotkeyCallback,\n  options?: OptionsOrDependencyArray,\n  dependencies?: OptionsOrDependencyArray\n) {\n  const [ref, setRef] = useState<RefType<T>>(null)\n  const hasTriggeredRef = useRef(false)\n\n  const _options: Options | undefined = !(options instanceof Array)\n    ? (options as Options)\n    : !(dependencies instanceof Array)\n    ? (dependencies as Options)\n    : undefined\n  const _keys: string = isReadonlyArray(keys) ? keys.join(_options?.splitKey) : keys\n  const _deps: DependencyList | undefined =\n    options instanceof Array ? options : dependencies instanceof Array ? dependencies : undefined\n\n  const memoisedCB = useCallback(callback, _deps ?? [])\n  const cbRef = useRef<HotkeyCallback>(memoisedCB)\n\n  if (_deps) {\n    cbRef.current = memoisedCB\n  } else {\n    cbRef.current = callback\n  }\n\n  const memoisedOptions = useDeepEqualMemo(_options)\n\n  const { enabledScopes } = useHotkeysContext()\n  const proxy = useBoundHotkeysProxy()\n\n  useSafeLayoutEffect(() => {\n    if (memoisedOptions?.enabled === false || !isScopeActive(enabledScopes, memoisedOptions?.scopes)) {\n      return\n    }\n\n    const listener = (e: KeyboardEvent, isKeyUp = false) => {\n      if (isKeyboardEventTriggeredByInput(e) && !isHotkeyEnabledOnTag(e, memoisedOptions?.enableOnFormTags)) {\n        return\n      }\n\n      // TODO: SINCE THE EVENT IS NOW ATTACHED TO THE REF, THE ACTIVE ELEMENT CAN NEVER BE INSIDE THE REF. THE HOTKEY ONLY TRIGGERS IF THE\n      // REF IS THE ACTIVE ELEMENT. THIS IS A PROBLEM SINCE FOCUSED SUB COMPONENTS WON'T TRIGGER THE HOTKEY.\n      if (ref !== null) {\n        const rootNode = ref.getRootNode()\n        if (\n          (rootNode instanceof Document || rootNode instanceof ShadowRoot) &&\n          rootNode.activeElement !== ref &&\n          !ref.contains(rootNode.activeElement)\n        ) {\n          stopPropagation(e)\n          return\n        }\n      }\n\n      if ((e.target as HTMLElement)?.isContentEditable && !memoisedOptions?.enableOnContentEditable) {\n        return\n      }\n\n      parseKeysHookInput(_keys, memoisedOptions?.splitKey).forEach((key) => {\n        const hotkey = parseHotkey(key, memoisedOptions?.combinationKey)\n\n        if (isHotkeyMatchingKeyboardEvent(e, hotkey, memoisedOptions?.ignoreModifiers) || hotkey.keys?.includes('*')) {\n          if (memoisedOptions?.ignoreEventWhen?.(e)) {\n            return\n          }\n\n          if (isKeyUp && hasTriggeredRef.current) {\n            return\n          }\n\n          maybePreventDefault(e, hotkey, memoisedOptions?.preventDefault)\n\n          if (!isHotkeyEnabled(e, hotkey, memoisedOptions?.enabled)) {\n            stopPropagation(e)\n\n            return\n          }\n\n          // Execute the user callback for that hotkey\n          cbRef.current(e, hotkey)\n\n          if (!isKeyUp) {\n            hasTriggeredRef.current = true\n          }\n        }\n      })\n    }\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === undefined) {\n        // Synthetic event (e.g., Chrome autofill).  Ignore.\n        return\n      }\n\n      pushToCurrentlyPressedKeys(mapKey(event.code))\n\n      if ((memoisedOptions?.keydown === undefined && memoisedOptions?.keyup !== true) || memoisedOptions?.keydown) {\n        listener(event)\n      }\n    }\n\n    const handleKeyUp = (event: KeyboardEvent) => {\n      if (event.key === undefined) {\n        // Synthetic event (e.g., Chrome autofill).  Ignore.\n        return\n      }\n\n      removeFromCurrentlyPressedKeys(mapKey(event.code))\n\n      hasTriggeredRef.current = false\n\n      if (memoisedOptions?.keyup) {\n        listener(event, true)\n      }\n    }\n\n    const domNode = ref || _options?.document || document\n\n    // @ts-ignore\n    domNode.addEventListener('keyup', handleKeyUp, _options?.eventListenerOptions)\n    // @ts-ignore\n    domNode.addEventListener('keydown', handleKeyDown, _options?.eventListenerOptions)\n\n    if (proxy) {\n      parseKeysHookInput(_keys, memoisedOptions?.splitKey).forEach((key) =>\n        proxy.addHotkey(parseHotkey(key, memoisedOptions?.combinationKey, memoisedOptions?.description))\n      )\n    }\n\n    return () => {\n      // @ts-ignore\n      domNode.removeEventListener('keyup', handleKeyUp, _options?.eventListenerOptions)\n      // @ts-ignore\n      domNode.removeEventListener('keydown', handleKeyDown, _options?.eventListenerOptions)\n\n      if (proxy) {\n        parseKeysHookInput(_keys, memoisedOptions?.splitKey).forEach((key) =>\n          proxy.removeHotkey(parseHotkey(key, memoisedOptions?.combinationKey, memoisedOptions?.description))\n        )\n      }\n    }\n  }, [ref, _keys, memoisedOptions, enabledScopes])\n\n  return setRef as RefCallback<T>\n}\n","import type * as types from 'notion-types'\n\n/**\n * Returns the parent page block containing a given page.\n *\n * Note that many times this will not be the direct parent block since\n * some non-page content blocks can contain sub-blocks.\n */\nexport const getBlockParentPage = (\n  block: types.Block,\n  recordMap: types.ExtendedRecordMap,\n  {\n    inclusive = false\n  }: {\n    inclusive?: boolean\n  } = {}\n): types.PageBlock | null => {\n  let currentRecord: types.Block | types.Collection | undefined = block\n\n  while (currentRecord) {\n    if (inclusive && (currentRecord as types.Block)?.type === 'page') {\n      return currentRecord as types.PageBlock\n    }\n\n    const parentId: string = currentRecord.parent_id\n    const parentTable = currentRecord.parent_table\n\n    if (!parentId) {\n      break\n    }\n\n    if (parentTable === 'collection') {\n      currentRecord = recordMap.collection[parentId]?.value\n    } else {\n      currentRecord = recordMap.block[parentId]?.value\n\n      if ((currentRecord as types.Block)?.type === 'page') {\n        return currentRecord as types.PageBlock\n      }\n    }\n  }\n\n  return null\n}\n","import {\n  type Block,\n  type DateFormat,\n  type ExtendedRecordMap\n} from 'notion-types'\n\nimport { getTextContent } from './get-text-content'\n\n/**\n * Gets the value of a collection property for a given page (collection item).\n *\n * @param propertyName property name\n * @param block Page block, often be first block in blockMap\n * @param recordMap\n * @returns - The return value types will follow the following principles:\n *  1. if property is date type, it will return `number` or `number[]`(depends on `End Date` switch)\n *  2. property is text-like will return `string`\n *  3. multi select property will return `string[]`\n *  4. checkbox property return `boolean`\n * @todo complete all no-text property type\n */\nexport function getPageProperty<\n  T = string | number | boolean | string[] | number[]\n>(propertyName: string, block: Block, recordMap: ExtendedRecordMap): T\nexport function getPageProperty(\n  propertyName: string,\n  block: Block,\n  recordMap: ExtendedRecordMap\n) {\n  try {\n    if (!block.properties || !Object.keys(recordMap.collection)) {\n      // console.warn(\n      //   `block ${block.id} has no properties or this recordMap has no collection record`\n      // )\n      return null\n    }\n\n    const collection = recordMap.collection[block.parent_id]?.value\n\n    if (collection) {\n      const propertyNameL = propertyName.toLowerCase()\n      const propertyId = Object.keys(collection.schema).find(\n        (key) => collection.schema[key]?.name?.toLowerCase() === propertyNameL\n      )\n\n      if (!propertyId) {\n        return null\n      }\n\n      const s = collection.schema[propertyId]\n      if (!s) {\n        return null\n      }\n\n      const { type } = s\n      const content = getTextContent(block.properties[propertyId])\n\n      switch (type) {\n        case 'created_time':\n          return block.created_time\n\n        case 'multi_select':\n          return content.split(',')\n\n        case 'date': {\n          const property = block.properties[propertyId] as [['‣', [DateFormat]]]\n          const formatDate = property[0][1][0][1]\n\n          if (formatDate.type === 'datetime') {\n            return new Date(\n              `${formatDate.start_date} ${formatDate.start_time}`\n            ).getTime()\n          } else if (formatDate.type === 'date') {\n            return new Date(formatDate.start_date).getTime()\n          } else if (formatDate.type === 'datetimerange') {\n            const { start_date, start_time, end_date, end_time } = formatDate\n            const startTime = new Date(`${start_date} ${start_time}`).getTime()\n            const endTime = new Date(`${end_date} ${end_time}`).getTime()\n            return [startTime, endTime]\n          } else {\n            const startTime = new Date(formatDate.start_date).getTime()\n            const endTime = new Date(formatDate.end_date!).getTime()\n            return [startTime, endTime]\n          }\n        }\n\n        case 'checkbox':\n          return content === 'Yes'\n\n        case 'last_edited_time':\n          return block.last_edited_time\n\n        default:\n          return content\n      }\n    }\n  } catch {\n    // ensure that no matter what, we don't throw errors because of an unexpected\n    // collection data format\n  }\n\n  return null\n}\n","import { useCallback, useState } from 'react'\nimport { mapKey } from './parseHotkeys'\n\nexport default function useRecordHotkeys() {\n  const [keys, setKeys] = useState(new Set<string>())\n  const [isRecording, setIsRecording] = useState(false)\n\n  const handler = useCallback((event: KeyboardEvent) => {\n    if (event.key === undefined) {\n      // Synthetic event (e.g., Chrome autofill).  Ignore.\n      return\n    }\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    setKeys((prev) => {\n      const newKeys = new Set(prev)\n\n      newKeys.add(mapKey(event.code))\n\n      return newKeys\n    })\n  }, [])\n\n  const stop = useCallback(() => {\n    if (typeof document !== 'undefined') {\n      document.removeEventListener('keydown', handler)\n\n      setIsRecording(false)\n    }\n  }, [handler])\n\n  const start = useCallback(() => {\n    setKeys(new Set<string>())\n\n    if (typeof document !== 'undefined') {\n      stop()\n\n      document.addEventListener('keydown', handler)\n\n      setIsRecording(true)\n    }\n  }, [handler, stop])\n\n  const resetKeys = useCallback(() => {\n    setKeys(new Set<string>())\n  }, [])\n\n  return [keys, { start, stop, resetKeys, isRecording }] as const\n}\n","import { normalizeUrl } from 'notion-utils'\nimport React from 'react'\n\nimport { useNotionContext } from '../context'\nimport { cs } from '../utils'\nimport { ImageState, LazyImageFull } from './lazy-image-full'\n\n/**\n * Progressive, lazy images modeled after Medium's LQIP technique.\n */\nexport function LazyImage({\n  src,\n  alt,\n  className,\n  style,\n  zoomable = false,\n  priority = false,\n  height,\n  ...rest\n}: {\n  src?: string\n  alt?: string\n  className?: string\n  style?: React.CSSProperties\n  height?: number\n  zoomable?: boolean\n  priority?: boolean\n}) {\n  const { recordMap, zoom, previewImages, forceCustomImages, components } =\n    useNotionContext()\n  const zoomRef = React.useRef(zoom ? zoom.clone() : null)\n  const previewImage = previewImages\n    ? (recordMap?.preview_images?.[src!] ??\n      recordMap?.preview_images?.[normalizeUrl(src)])\n    : null\n\n  const onLoad = React.useCallback(\n    (e: any) => {\n      if (zoomable && (e.target.src || e.target.srcset)) {\n        if (zoomRef.current) {\n          ;(zoomRef.current as any).attach(e.target)\n        }\n      }\n    },\n    [zoomRef, zoomable]\n  )\n\n  const attachZoom = React.useCallback(\n    (image: any) => {\n      if (zoomRef.current && image) {\n        ;(zoomRef.current as any).attach(image)\n      }\n    },\n    [zoomRef]\n  )\n\n  const attachZoomRef = React.useMemo(\n    () => (zoomable ? attachZoom : undefined),\n    [zoomable, attachZoom]\n  )\n\n  if (previewImage) {\n    const aspectRatio = previewImage.originalHeight / previewImage.originalWidth\n\n    if (components.Image) {\n      // TODO: could try using next/image onLoadComplete to replace LazyImageFull\n      // while retaining our blur implementation\n      return (\n        <components.Image\n          src={src}\n          alt={alt}\n          style={style}\n          className={className}\n          width={previewImage.originalWidth}\n          height={previewImage.originalHeight}\n          blurDataURL={previewImage.dataURIBase64}\n          placeholder='blur'\n          priority={priority}\n          onLoad={onLoad}\n        />\n      )\n    }\n\n    return (\n      <LazyImageFull src={src!} {...rest} experimentalDecode={true}>\n        {({ imageState, ref }) => {\n          const isLoaded = imageState === ImageState.LoadSuccess\n          const wrapperStyle: React.CSSProperties = {\n            width: '100%'\n          }\n          const imgStyle: React.CSSProperties = {}\n\n          if (height) {\n            wrapperStyle.height = height\n          } else {\n            imgStyle.position = 'absolute'\n            wrapperStyle.paddingBottom = `${aspectRatio * 100}%`\n          }\n\n          return (\n            <div\n              className={cs(\n                'lazy-image-wrapper',\n                isLoaded && 'lazy-image-loaded',\n                className\n              )}\n              style={wrapperStyle}\n            >\n              <img\n                className='lazy-image-preview'\n                src={previewImage.dataURIBase64}\n                alt={alt}\n                ref={ref}\n                style={style}\n                decoding='async'\n              />\n\n              <img\n                className='lazy-image-real'\n                src={src}\n                alt={alt}\n                ref={attachZoomRef}\n                style={{\n                  ...style,\n                  ...imgStyle\n                }}\n                width={previewImage.originalWidth}\n                height={previewImage.originalHeight}\n                decoding='async'\n                loading='lazy'\n              />\n            </div>\n          )\n        }}\n      </LazyImageFull>\n    )\n  } else {\n    // TODO: GracefulImage doesn't seem to support refs, but we'd like to prevent\n    // invalid images from loading as error states\n\n    /*\n      NOTE: Using next/image without a pre-defined width/height is a huge pain in\n      the ass. If we have a preview image, then this works fine since we know the\n      dimensions ahead of time, but if we don't, then next/image won't display\n      anything.\n\n      Since next/image is the most common use case for using custom images, and this\n      is likely to trip people up, we're disabling non-preview custom images for now.\n\n      If you have a use case that is affected by this, please open an issue on github.\n    */\n    if (components.Image && forceCustomImages) {\n      return (\n        <components.Image\n          src={src}\n          alt={alt}\n          className={className}\n          style={style}\n          width={null}\n          height={height || null}\n          priority={priority}\n          onLoad={onLoad}\n        />\n      )\n    }\n\n    // Default image element\n    return (\n      <img\n        className={className}\n        style={style}\n        src={src}\n        alt={alt}\n        ref={attachZoomRef}\n        loading='lazy'\n        decoding='async'\n        {...rest}\n      />\n    )\n  }\n}\n"],"names":["mappedKeys","MetaRight","OSRight","ControlLeft","ControlRight","key","toLowerCase","replace","isHotkeyModifier","reservedModifierKeywords","includes","keys","splitKey","split","parseHotkey","hotkey","combinationKey","description","k","mapKey","filter","modifiers","addEventListener","e","undefined","code","document","removeFromCurrentlyPressedKeys","Set","isReadonlyArray","value","Array","every","currentlyPressedKeys","trim","isArray","forEach","hotkeyArray","maybePreventDefault","preventDefault","isHotkeyEnabled","enabled","isKeyboardEventTriggeredByInput","ev","isHotkeyEnabledOnTag","event","enabledOnTags","target","composed","targetTagName","composedPath","tagName","Boolean","some","tag","_targetTagName","isCustomElement","element","startsWith","activeScopes","scopes","length","console","warn","scope","isHotkeyMatchingKeyboardEvent","ignoreModifiers","alt","meta","mod","shift","ctrl","React","ctrlKey","metaKey","shiftKey","altKey","keyCode","pressedKey","isHotkeyPressed","BoundHotkeysProxyProvider","createContext","BoundHotkeysProxyProviderProvider","_ref","addHotkey","removeHotkey","children","_jsx","y","Object","x","isEqual","deepEqual","HotkeysContext","hotkeys","enabledScopes","toggleScope","enableScope","disableScope","useHotkeysContext","HotkeysProvider","initiallyActiveScopes","_ref$initiallyActiveS","_useState","useState","internalActiveScopes","setInternalActiveScopes","_useState2","boundHotkeys","setBoundHotkeys","useCallback","prev","from","concat","s","addBoundHotkey","removeBoundHotkey","h","Provider","useDeepEqualMemo","useRef","ref","current","stopPropagation","stopImmediatePropagation","useSafeLayoutEffect","useEffect","useHotkeys","callback","options","dependencies","setRef","hasTriggeredRef","_options","_keys","join","_deps","memoisedCB","cbRef","memoisedOptions","_useHotkeysContext","useBoundHotkeysProxy","isScopeActive","listener","isKeyUp","enableOnFormTags","rootNode","Document","ShadowRoot","activeElement","contains","_e$target","isContentEditable","enableOnContentEditable","parseKeysHookInput","_hotkey$keys","ignoreEventWhen","handleKeyDown","keydown","keyup","handleKeyUp","eventListenerOptions","domNode","proxy","removeEventListener","useRecordHotkeys","setKeys","setIsRecording","handler","newKeys","add","stop","start","resetKeys","isRecording"],"mappings":"6CAEA,IAAI,EAAM,OAAO,SAAS,CAAC,cAAc,CACrC,EAAS,IASb,SAAS,IAAU,CA4BnB,SAAS,EAAG,CAAE,CAAE,CAAO,CAAE,CAAI,EAC3B,IAAI,CAAC,EAAE,CAAG,EACV,IAAI,CAAC,OAAO,CAAG,EACf,IAAI,CAAC,IAAI,CAAG,IAAQ,CACtB,CAaA,SAAS,EAAY,CAAO,CAAE,CAAK,CAAE,CAAE,CAAE,CAAO,CAAE,CAAI,EACpD,GAAkB,YAAd,AAA0B,OAAnB,EACT,MAAM,AAAI,UAAU,mCAGtB,IAAI,EAAW,IAAI,EAAG,EAAI,GAAW,EAAS,GAC1C,EAAM,EAAS,EAAS,EAAQ,EAMpC,OAJK,EAAQ,OAAO,CAAC,EAAI,CACf,EAAQ,OAAO,CAAC,EAAI,CAAC,EAAE,CAC5B,EAAQ,OAAO,CAAC,EAAI,CAAG,CAAC,EAAQ,OAAO,CAAC,EAAI,CAAE,EAAS,CADzB,EAAQ,OAAO,CAAC,EAAI,CAAC,IAAI,CAAC,IADlC,EAAQ,OAAO,CAAC,EAAI,CAAG,EAAU,EAAQ,YAAY,EAAA,EAIzE,CACT,CASA,SAAS,EAAW,CAAO,CAAE,CAAG,EACC,AAA3B,KAAE,EAAQ,YAAY,CAAQ,EAAQ,OAAO,CAAG,IAAI,EACnD,OAAO,EAAQ,OAAO,CAAC,EAAI,AAClC,CASA,SAAS,IACP,IAAI,CAAC,OAAO,CAAG,IAAI,EACnB,IAAI,CAAC,YAAY,CAAG,CACtB,CAzEI,OAAO,MAAM,EAAE,CACjB,EAAO,SAAS,CAAG,OAAO,MAAM,CAAC,MAM7B,AAAC,IAAI,IAAS,SAAS,GAAE,GAAS,CAAA,GA2ExC,EAAa,SAAS,CAAC,UAAU,CAAG,SAAS,EAC3C,IACI,EACA,EAFA,EAAQ,EAAE,CAId,GAA0B,IAAtB,IAAI,CAAC,YAAY,CAAQ,OAAO,EAEpC,IAAK,KAAS,EAAS,IAAI,CAAC,OAAO,CAC7B,AADgC,EAC5B,IAAI,CAAC,EAAQ,IAAO,EAAM,IAAI,CAAC,EAAS,EAAK,KAAK,CAAC,GAAK,UAGlE,AAAI,OAAO,qBAAqB,CACvB,CADyB,CACnB,MAAM,CAAC,OAAO,qBAAqB,CAAC,IAG5C,CACT,EASA,EAAa,SAAS,CAAC,SAAS,CAAG,SAAS,AAAU,CAAK,EACzD,IAAI,EAAM,EAAS,EAAS,EAAQ,EAChC,EAAW,IAAI,CAAC,OAAO,CAAC,EAAI,CAEhC,GAAI,CAAC,EAAU,MAAO,EAAE,CACxB,GAAI,EAAS,EAAE,CAAE,MAAO,CAAC,EAAS,EAAE,CAAC,CAErC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAE,EAAK,AAAI,MAAM,GAAI,EAAI,EAAG,IAAK,AAClE,CAAE,CAAC,EAAE,CAAG,CAAQ,CAAC,EAAE,CAAC,EAAE,CAGxB,OAAO,CACT,EASA,EAAa,SAAS,CAAC,aAAa,CAAG,SAAS,AAAc,CAAK,EACjE,IAAI,EAAM,EAAS,EAAS,EAAQ,EAChC,EAAY,IAAI,CAAC,OAAO,CAAC,EAAI,QAEjC,AAAK,EACD,EADA,AACU,EAAE,CAAS,CAAP,CACX,EAAU,AAFD,MAEO,CAFA,CAGzB,EASA,EAAa,SAAS,CAAC,IAAI,CAAG,SAAS,AAAK,CAAK,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EACnE,IAAI,EAAM,EAAS,EAAS,EAAQ,EAEpC,GAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAI,CAAE,OAAO,EAE/B,IAEI,EACA,EAHA,EAAY,IAAI,CAAC,OAAO,CAAC,EAAI,CAC7B,EAAM,UAAU,MAAM,CAI1B,GAAI,EAAU,EAAE,CAAE,CAGhB,OAFI,EAAU,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,EAAO,EAAU,EAAE,MAAE,GAAW,GAEhE,GACN,KAAK,EAAG,OAAO,EAAU,EAAE,CAAC,IAAI,CAAC,EAAU,OAAO,GAAG,CACrD,MAAK,EAAG,OAAO,EAAU,EAAE,CAAC,IAAI,CAAC,EAAU,OAAO,CAAE,IAAK,CACzD,MAAK,EAAG,OAAO,EAAU,EAAE,CAAC,IAAI,CAAC,EAAU,OAAO,CAAE,EAAI,IAAK,CAC7D,MAAK,EAAG,OAAO,EAAU,EAAE,CAAC,IAAI,CAAC,EAAU,OAAO,CAAE,EAAI,EAAI,IAAK,CACjE,MAAK,EAAG,OAAO,EAAU,EAAE,CAAC,IAAI,CAAC,EAAU,OAAO,CAAE,EAAI,EAAI,EAAI,IAAK,CACrE,MAAK,EAAG,OAAO,EAAU,EAAE,CAAC,IAAI,CAAC,EAAU,OAAO,CAAE,EAAI,EAAI,EAAI,EAAI,IAAK,CAC3E,CAEA,IAAK,EAAI,EAAG,EAAO,AAAI,MAAM,EAAK,GAAI,EAAI,EAAK,IAAK,AAClD,CAAI,CAAC,EAAI,EAAE,CAAG,SAAS,CAAC,EAAE,CAG5B,EAAU,EAAE,CAAC,KAAK,CAAC,EAAU,OAAO,CAAE,EACxC,KAAO,CACL,IACI,EADA,EAAS,EAAU,MAAM,CAG7B,IAAK,EAAI,EAAG,EAAI,EAAQ,IAAK,AAG3B,OAFI,CAAS,CAAC,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,EAAO,CAAS,CAAC,EAAE,CAAC,EAAE,CAAE,QAAW,GAEtE,GACN,KAAK,EAAG,CAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAS,CAAC,EAAE,CAAC,OAAO,EAAG,KACpD,MAAK,EAAG,CAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAS,CAAC,EAAE,CAAC,OAAO,CAAE,GAAK,KACxD,MAAK,EAAG,CAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAS,CAAC,EAAE,CAAC,OAAO,CAAE,EAAI,GAAK,KAC5D,MAAK,EAAG,CAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAAS,CAAC,EAAE,CAAC,OAAO,CAAE,EAAI,EAAI,GAAK,KAChE,SACE,GAAI,CAAC,EAAM,IAAK,EAAI,EAAG,EAAO,AAAI,MAAM,EAAK,GAAI,EAAI,EAAK,IACxD,AAD6D,CACzD,CAAC,EAAI,EAAE,CAAG,SAAS,CAAC,EAAE,CAG5B,CAAS,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,CAAS,CAAC,EAAE,CAAC,OAAO,CAAE,EAChD,CAEJ,CAEA,OAAO,CACT,EAWA,EAAa,SAAS,CAAC,EAAE,CAAG,SAAS,AAAG,CAAK,CAAE,CAAE,CAAE,CAAO,EACxD,OAAO,EAAY,IAAI,CAAE,EAAO,EAAI,GAAS,EAC/C,EAWA,EAAa,SAAS,CAAC,IAAI,CAAG,SAAS,AAAK,CAAK,CAAE,CAAE,CAAE,CAAO,EAC5D,OAAO,EAAY,IAAI,CAAE,EAAO,EAAI,EAAS,GAC/C,EAYA,EAAa,SAAS,CAAC,cAAc,CAAG,SAAS,AAAe,CAAK,CAAE,CAAE,CAAE,CAAO,CAAE,CAAI,EACtF,IAAI,EAAM,EAAS,EAAS,EAAQ,EAEpC,GAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAI,CAAE,OAAO,IAAI,CACnC,GAAI,CAAC,EAEH,EAFO,KACP,EAAW,IAAI,CAAE,GACV,IAAI,CAGb,IAAI,EAAY,IAAI,CAAC,OAAO,CAAC,EAAI,CAEjC,GAAI,EAAU,EAAE,CAEZ,CAFc,CAEJ,EAAE,GAAK,GAChB,AAAC,GAAF,CAAU,EAAU,IAAI,EACvB,AAAC,GAAF,AAAa,EAAU,OAAO,GAAK,GAEnC,EAAW,EAF+B,EAE3B,CADf,AACiB,OAEd,CACL,IAAK,IAAI,EAAI,EAAG,EAAS,EAAE,CAAE,EAAS,EAAU,MAAM,CAAE,EAAI,EAAQ,IAAK,CAErE,CAAS,CAAC,EAAE,CAAC,EAAE,GAAK,GACnB,GAAQ,CAAC,CAAS,CAAC,EAAE,CAAC,IAAI,EAC1B,GAAW,CAAS,CAAC,EAAE,CAAC,OAAO,GAAK,CAAA,GAErC,AADA,EACO,IAAI,CAAC,CAAS,CAAC,EAAE,EAOxB,EAAO,MAAM,CAAE,IAAI,CAAC,OAAO,CAAC,EAAI,CAAqB,IAAlB,EAAO,MAAM,CAAS,CAAM,CAAC,EAAE,CAAG,EACpE,EAAW,IAAI,CAAE,EACxB,CAEA,OAAO,IAAI,AACb,EASA,EAAa,SAAS,CAAC,kBAAkB,CAAG,SAAS,AAAmB,CAAK,EAC3E,IAAI,EAUJ,OARI,GACF,EAAM,EADG,AACM,EAAS,EAAQ,EAC5B,IAAI,CAAC,OAAO,CAAC,EAAI,EAAE,EAAW,IAAI,CAAE,KAExC,IAAI,CAAC,OAAO,CAAG,IAAI,EACnB,IAAI,CAAC,YAAY,CAAG,GAGf,IAAI,AACb,EAKA,EAAa,SAAS,CAAC,GAAG,CAAG,EAAa,SAAS,CAAC,cAAc,CAClE,EAAa,SAAS,CAAC,WAAW,CAAG,EAAa,SAAS,CAAC,EAAE,CAK9D,EAAa,QAAQ,CAAG,EAKxB,EAAa,YAAY,CAAG,EAM1B,EAAO,OAAO,CAAG,sQ,S,E,C,C,C,E,C,G,E,G,C,C,C,E,E,K,C,E,K,W,E,E,A,E,E,G,C,E,K,I,E,M,E,A,C,C,C,C,C,G,Q,C,E,C,C,E,C,A,S,C,U,O,K,G,K,E,E,C,C,G,C,E,C,C,A,C,A,C,A,E,C,E,C,A,C,A,E,C,E,C,C,A,C,A,C,C,C,E,G,C,C,C,C,C,C,C,E,C,E,C,C,A,C,C,C,C,A,I,I,G,E,I,E,C,A,A,I,E,A,C,C,C,W,C,E,C,C,E,C,A,S,C,E,O,C,C,E,G,C,C,A,C,A,C,A,I,I,G,E,I,E,C,A,A,S,E,C,C,C,C,C,E,A,K,G,I,G,E,G,I,A,E,I,E,C,C,C,C,C,C,C,C,A,G,I,E,E,E,C,A,C,A,C,A,C,C,A,A,C,A,C,C,C,C,E,A,C,A,A,C,C,E,A,C,C,A,A,G,M,C,C,C,E,O,E,E,E,A,C,C,C,A,E,C,C,C,C,G,C,E,O,E,E,E,C,A,C,C,A,A,A,A,C,C,M,G,C,E,O,C,A,C,C,A,E,A,C,C,C,W,C,Q,C,C,E,C,G,C,C,C,E,A,C,C,E,C,Q,C,C,E,O,C,A,C,C,E,O,C,S,C,E,M,A,K,C,qB,C,C,E,C,I,G,E,C,C,C,G,C,A,E,C,C,A,I,K,I,E,A,C,A,O,C,K,C,M,C,C,E,C,E,A,E,C,E,A,K,C,E,G,M,C,C,Q,C,A,C,C,E,O,E,E,E,A,E,C,E,A,C,I,C,G,C,E,O,E,E,E,E,C,A,A,A,A,C,C,A,G,C,G,C,E,C,E,C,A,K,C,C,0C,E,Q,C,E,E,K,C,C,W,C,C,A,E,O,C,Q,C,UC9UnB,SAAS,EAAQ,CAAC,EAGhB,OAAO,EAAO,OAAO,CAAG,EAAU,YAAc,OAAO,QAAU,UAAY,OAAO,OAAO,QAAQ,CAAG,SAAU,CAAC,EAC/G,OAAO,OAAO,CAChB,EAAI,SAAU,CAAC,EACb,OAAO,GAAK,YAAc,OAAO,QAAU,EAAE,WAAW,GAAK,QAAU,IAAM,OAAO,SAAS,CAAG,SAAW,OAAO,CACpH,EAAG,EAAO,OAAO,CAAC,UAAU,EAAG,EAAM,EAAO,OAAO,CAAC,OAAU,CAAG,EAAO,OAAO,CAAE,EAAQ,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","ignoreList":[0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]}