{"version":3,"sources":["turbopack:///[project]/HandS/frontend/node_modules/next/navigation.js","turbopack:///[project]/HandS/frontend/app/verify.tsx","turbopack:///[project]/HandS/frontend/app/projects/page.tsx"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n","\"use client\";\r\nconst API_BASE = \"http://127.0.0.1:8000\";\r\n\r\nexport default async function Verify() {\r\n    const token = sessionStorage.getItem(\"token\");\r\n\r\n    const res = await fetch(`${API_BASE}/verify`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ \"token\": token }),\r\n    });\r\n    if (!res.ok) {\r\n        const refresh_token = sessionStorage.getItem(\"refresh_token\");\r\n        const refreshRes = await fetch(`${API_BASE}/refresh`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\"refresh_token\":refresh_token }),\r\n        });\r\n        if (!refreshRes.ok) {\r\n            throw new Error(\"Failed to refresh token\");\r\n        }\r\n        const refreshData = await refreshRes.json();\r\n        sessionStorage.setItem(\"token\", refreshData.access_token);\r\n        return refreshData;\r\n    }\r\n    const data = await res.json();\r\n    return data;\r\n  }","\"use client\";\r\nimport Link from \"next/link\";\r\nimport { useState, useEffect, use } from \"react\";\r\nimport Verify from \"../verify\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst API_BASE = \"http://127.0.0.1:8000\";\r\n\r\nexport default function Projects() {\r\n    const router = useRouter();\r\n    const [projects, setProjects] = useState([]);\r\n\r\n    async function fetchProjects() {\r\n        try {\r\n            const response = await fetch(`${API_BASE}/projects`, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            });\r\n            const data = await response.json();\r\n            setProjects(data);\r\n            console.log(data[0][\"url\"]);\r\n        } catch (error) {\r\n            console.error(\"Error fetching projects:\", error);\r\n        }\r\n    }\r\n    async function checkVerify() {\r\n        const verifyResult = await Verify();\r\n        if (verifyResult.role !== \"admin\") {\r\n            alert(\"Í¥ÄÎ¶¨ÏûêÎßå Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.\");\r\n            router.push(\"/\");\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        checkVerify();\r\n        fetchProjects();\r\n    }, []);\r\n\r\n    async function viewProject(project: any) {\r\n        const url = project.url;\r\n        console.log(url);\r\n        console.log(project.url);\r\n        const projectIdWithSlug = url.split(\"/\").at(-1);\r\n        const projectId = projectIdWithSlug?.split(\"-\").at(-1);\r\n        console.log(projectId);\r\n        window.open(`/projects/${projectId}`, \"_blank\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-8\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">User List</h1>\r\n\r\n            <ul>\r\n                {projects.map((project: any) => {\r\n                const props = project.properties;\r\n\r\n                const title = props[\"Ïù¥Î¶Ñ\"]?.title?.[0]?.text?.content || \"Ï†úÎ™© ÏóÜÏùå\";\r\n                const Î∂ÑÏïº = props[\"Î∂ÑÏïº\"]?.multi_select?.map((t: any) => t.name).join(\", \");\r\n                const ÏàòÏÉÅ = props[\"ÏàòÏÉÅ\"]?.checkbox ? \"üèÜ ÏàòÏÉÅ\" : \"\";\r\n                const Ï†ÑÏãú = props[\"Ï†ÑÏãúÌöå Ï∂úÌíà\"]?.checkbox ? \"üé® Ï†ÑÏãú Ï∂úÌíà\" : \"\";\r\n                const ÌåÄÏû• = props[\"ÌåÄÏû•\"]?.multi_select?.map((p: any) => p.name).join(\", \");\r\n                const ÌåÄÏõê = props[\"ÌåÄÏõê\"]?.multi_select?.map((p: any) => p.name).join(\", \");\r\n\r\n                return (\r\n                    <li key={project.id} style={styles.postItem}>\r\n                    <div style={styles.postHeader}>\r\n                        <h3 style={styles.postTitle}>{title}</h3>\r\n                            {Î∂ÑÏïº && <span style={styles.postTag}>{Î∂ÑÏïº}</span>}\r\n                            </div>\r\n\r\n                            {(ÏàòÏÉÅ || Ï†ÑÏãú) && (\r\n                            <div style={styles.postMeta}>\r\n                                <span>\r\n                                {ÏàòÏÉÅ} {Ï†ÑÏãú}\r\n                                </span>\r\n                                <span style={styles.postDate}>\r\n                                {new Date(project.created_time).toLocaleDateString()}\r\n                                </span>\r\n                            </div>\r\n                            )}\r\n\r\n                            {(ÌåÄÏû• || ÌåÄÏõê) && (\r\n                            <div style={styles.teamInfo}>\r\n                                {ÌåÄÏû• && (\r\n                                <p>\r\n                                    üëë <strong>ÌåÄÏû•:</strong> {ÌåÄÏû•}\r\n                                </p>\r\n                                )}\r\n                                {ÌåÄÏõê && (\r\n                                <p>\r\n                                    ü§ù <strong>ÌåÄÏõê:</strong> {ÌåÄÏõê}\r\n                                </p>\r\n                                )}\r\n                            </div>\r\n                            )}\r\n\r\n                            <button onClick={() => viewProject(project)} style={styles.viewLink}>\r\n                            ÎÖ∏ÏÖòÏóêÏÑú Î≥¥Í∏∞ ‚Üí\r\n                            </button>\r\n                        </li>\r\n                        );\r\n                })}</ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    postList: { listStyle: \"none\", padding: 0 },\r\n    postItem: {\r\n        backgroundColor: \"#fff\",\r\n        border: \"1px solid #ddd\",\r\n        borderRadius: \"10px\",\r\n        padding: \"20px\",\r\n        marginBottom: \"20px\",\r\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.05)\",\r\n    },\r\n    postHeader: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        marginBottom: \"10px\",\r\n    },\r\n    postTitle: {\r\n        fontSize: \"20px\",\r\n        fontWeight: \"600\",\r\n        color: \"#222\",\r\n        margin: 0,\r\n    },\r\n    postTag: {\r\n        backgroundColor: \"#f3f4f6\",\r\n        padding: \"5px 10px\",\r\n        borderRadius: \"6px\",\r\n        fontSize: \"13px\",\r\n        color: \"#555\",\r\n    },\r\n    postMeta: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        fontSize: \"14px\",\r\n        color: \"#777\",\r\n        marginBottom: \"10px\",\r\n    },\r\n    postDate: { color: \"#999\" },\r\n    teamInfo: {\r\n        fontSize: \"14px\",\r\n        color: \"#444\",\r\n        marginBottom: \"10px\",\r\n        lineHeight: 1.5,\r\n    },\r\n    viewLink: {\r\n        color: \"#0070f3\",\r\n        textDecoration: \"none\",\r\n        fontWeight: \"bold\",\r\n    },\r\n    };\r\n"],"names":[],"mappings":"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","ignoreList":[0]}